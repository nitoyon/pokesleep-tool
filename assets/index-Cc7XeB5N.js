import{z as e,F as T,G as J,H as c,y as w,I as Mt,J as xr,L as Tt,N as Et,O as fr,P as kr}from"./react-BDyNvMrK.js";import{f as ze,g as ht,M as jr,p as Ee,t as Nt,a as yr,b as mt,e as Ft,i as Ze,c as Pe,d as br,h as vr,P as Be,j as _n,l as Sr,k as Ln,S as Xn,I as dn,m as Cr,n as At,o as wr,z as Br,q as Ir,r as Mr,s as Tr,u as Er}from"./resource-BbbIiko3.js";import{s as M,I as Ke,B as F,D as de,T as G,a as L,b as $,c as V,M as j,d as ne,C as me,F as Lt,e as Nr,f as ln,L as ce,S as Jn,h as Fr,i as K,j as oe,k as Qn,l as on,m as $e,n as ee,A as Rt,o as Yn,p as Ar,q as Lr,r as un,t as Rr,u as Cn,v as wn,P as Bn,w as et,x as zr,y as In,z as Pr,N as Dr,E as Mn,G as Ie,H as Wr,J as zt,K as Z,O as Hr,Q as Or,R as $r,V as gt,U as _r,W as pt,X as Vr,Y as le,Z as nt,_ as te,$ as Pt,a0 as Dt,a1 as Ur,a2 as qr,a3 as Zr,a4 as Gr,a5 as Kr,a6 as Xr,a7 as Jr,a8 as Tn,a9 as Qr,aa as Yr,ab as Vn,ac as es,ad as ns,ae as ts,af as rs,ag as ss,ah as is,ai as tt,aj as be,ak as Le,al as ls,am as os,an as as,ao as cs,ap as rt,aq as ds}from"./mui-DZUjF2Hk.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();class _e{index;type;rankNumber;thisStrength;nextStrength;constructor(n,r){let i=0;for(let s=0;s<r.length&&!(n<r[s]);s++)i=s;this.index=i,this.thisStrength=r[i],this.nextStrength=r[i+1],this.type=_e.rankIndexToType(i),this.rankNumber=_e.rankIndexToRankNumber(i)}static rankIndexToType(n){return n<5?"basic":n<10?"great":n<15?"ultra":"master"}static rankIndexToRankNumber(n){return n<15?n%5+1:n-14}}function jn({score:t}){const n=t,r=`radial-gradient(#ffffff 50%, transparent 51%), conic-gradient(#489eff 0% ${n}%, #dddddd ${n+1}% 100%)`;return e.jsx(us,{style:{backgroundImage:r},children:t})}const us=M("div")({display:"flex",justifyContent:"center",alignItems:"center",width:"2.4rem",height:"2.4rem",fontSize:".7rem",fontWeight:700,borderRadius:"50%",color:"#489eff",backgroundImage:"radial-gradient(#ffffff 50%, transparent 51%), conic-gradient(#489eff 0% 0%, #dddddd 1% 100%)"});class hn{_minutes;_h;_m;constructor(n){this._minutes=n,this._h=Math.floor(n/60),this._m=Math.round(n%60)}get h(){return this._h}get m(){return this._m}get score(){return Math.min(100,Math.round(this._minutes/510*100))}toString(n){return n("hhmm",{h:this.h,m:this.m})}}function hs(t,n){for(let r=1;r<6;r++)if(n<t[r])return r+2;return 8}function Je(t){const{t:n}=T(),r=t.ranges,i=r.firstSleep,s=xt(i,t.data,n);if(!i.canGet||i.tooMuch)return e.jsx(Rn,{children:e.jsx("div",{className:"preview_warning",children:s})});if(r.secondSleep==null)return e.jsx(Rn,{children:e.jsx("div",{className:"preview_grid",children:s})});const l=xt(r.secondSleep,t.data,n),o=i.count+r.secondSleep.count;let a=null;if(r.nextStrength!==null){const d=r.secondSleep.count+1,u=r.nextStrength-t.data.strength,h=function(m){const g={first:{count:r.firstSleep.count,score:r.firstSleep.minScore,strength:t.data.strength},second:{count:d,score:100-r.firstSleep.minScore,strength:t.data.strength+u}};t.onSecondSleepDetailClick(g)};a=e.jsxs("div",{className:"meet1more",children:[e.jsx(Ke,{}),e.jsxs("div",{children:[e.jsx(J,{i18nKey:"next strength to get 1 more pokemon",components:{score1:e.jsx("strong",{children:r.firstSleep.minScore}),count2:e.jsx("strong",{children:d}),strength2:e.jsx("strong",{children:n("num",{n:u})})}}),e.jsxs(F,{onClick:h,children:["[",n("details"),"]"]})]})]})}return e.jsxs(Rn,{children:[e.jsx("div",{className:"sum-tooltip",children:e.jsx(J,{i18nKey:"total n pokemon",components:{n:e.jsx("strong",{children:o})}})}),e.jsxs("div",{className:"preview_grid",children:[s,l]}),a]})}const Rn=M("div")({padding:".7rem 0",borderBottom:"3px dotted #ddd","& > .preview_grid":{display:"grid",width:"100%",gridTemplateColumns:"4.5rem max-content 1.5rem max-content",rowGap:".5rem","& > .count_box":{width:"5rem"}},"& > .preview_warning":{display:"grid",width:"100%",gridTemplateColumns:"4.5rem 1fr"},"& div.count":{"& > span.ball":{color:"#ff6347",fontSize:"1.2rem"},"& > span.multiply":{color:"#666",fontSize:"1.2rem"},"& > span.value":{color:"#e6a83a",fontSize:"1.4rem"}},"& div.power":{color:"#aaaaaa",fontSize:".7rem",marginTop:"-.2rem",whiteSpace:"nowrap"},"& div.start, div.end":{paddingTop:".3rem","& > div.sleep_time":{display:"flex",alignItems:"flex-start","& > div.time":{fontSize:".9rem",fontWeight:700,marginLeft:".3rem",marginTop:"0rem","& > div.time_power":{color:"#aaaaaa",fontSize:".8rem",fontWeight:500,marginTop:"-.2rem"}}}},"& div.score_separator":{padding:".3rem .2rem",textAlign:"center"},"& > .sum-tooltip":{display:"inline-block",position:"relative",border:"3px solid #ffffff",backgroundColor:"#f7ac33",color:"white",fontSize:".9rem",borderRadius:".5rem",padding:".1rem .5rem",boxShadow:"0 0 .1rem #999",marginBottom:".2rem","&::before":{content:"''",position:"absolute",display:"block",width:"0px",left:"50%",bottom:0,border:"10px solid transparent",borderBottom:0,borderTop:"10px solid #f7ac33",transform:"translate(-50%, calc(100% - .1rem))"},"& > strong":{fontSize:"1rem",fontWeight:700}},"& div.meet1more":{color:"#888",fontSize:".95rem",marginTop:".8rem",display:"flex",gap:".5rem","& > svg":{color:"#bbb",paddingTop:".2rem"},"& strong":{fontSize:"1rem"},"& button":{padding:0,minWidth:"2rem"}},"& div.warning":{paddingLeft:"2.2rem",textIndent:"-1.2rem",color:"#666","&::before":{content:"'\\26a0\\fe0f'"},"& .rank_ball_basic":{color:"#ff0000"},"& .rank_ball_great":{color:"#0000ff"},"& .rank_ball_ultra":{color:"#000000"},"& .rank_ball_master":{color:"#cc00cc"}}});function xt(t,n,r){const i=e.jsxs("div",{className:"count_box",children:[e.jsxs("div",{className:"count",children:[e.jsx("span",{className:"ball",children:"◓"}),e.jsx("span",{className:"multiply",children:"×"}),e.jsx("span",{className:"value",children:t.count})]}),e.jsx("div",{className:"power",children:e.jsxs("span",{children:[r("num",{n:t.power}),r("range separator")]})})]});if(!t.canGet||t.tooMuch){let s;if(t.canGet)s=e.jsx("span",{children:r("strength too much")});else{const l=ze[n.fieldIndex].ranks,o=new _e(t.requiredStrength,l),a=Math.floor((t.requiredStrength-o.thisStrength)/(o.nextStrength-o.thisStrength)*100+.5);s=e.jsx("span",{children:e.jsx(J,{i18nKey:"strength too low",components:{strength:e.jsxs(e.Fragment,{children:[e.jsxs("strong",{children:[r("num",{n:t.requiredStrength})," "]}),"(",e.jsx("span",{className:"rank_ball_"+o.type,children:"◓"}),e.jsx("span",{className:"rank_number",children:o.rankNumber}),e.jsxs("span",{children:[" + ",a,"%"]}),")"]})}})})}return e.jsxs(e.Fragment,{children:[i,e.jsx("div",{className:"warning",children:s})]})}return e.jsxs(e.Fragment,{children:[i,e.jsx("div",{className:"start",children:e.jsxs("div",{className:"sleep_time",children:[e.jsx(jn,{score:t.minScore}),e.jsxs("div",{className:"time",children:[t.minTime.toString(r),e.jsx("div",{className:"time_power",children:r("num",{n:t.minPower})})]})]})}),e.jsx("div",{className:"score_separator",children:r("range separator")}),e.jsx("div",{className:"end",children:e.jsxs("div",{className:"sleep_time",children:[e.jsx(jn,{score:t.maxScore}),e.jsxs("div",{className:"time",children:[t.maxTime.toString(r),e.jsx("div",{className:"time_power",children:r("num",{n:t.maxPower})})]})]})})]})}function st(t){return new hn(Math.max(0,Math.ceil((t-.5)/100*8.5*60)))}function En(t){return new hn(Math.min(510,Math.ceil((t+1-.5)/100*8.5*60)-1))}function Qe(t,n){const r=zn(t,n,100),i=ze[n.fieldIndex].powers;let s={firstSleep:r,secondSleep:null,nextStrength:null};if(!n.secondSleep||!r.canGet||r.tooMuch||r.minScore===100)return s;const l=(100-r.minScore)*n.strength*n.bonus,a=hs(i,l),d=zn(a,n,100-r.minScore);s.firstSleep.maxScore=Math.min(r.maxScore,100-d.minScore),s.firstSleep.maxTime=En(s.firstSleep.maxScore),s.firstSleep.maxPower=s.firstSleep.maxScore*n.strength*n.bonus;let u=null;if(d.count<8){const h=d.count+1;u=zn(h,n,100-r.minScore).requiredStrength}return{firstSleep:r,secondSleep:d,nextStrength:u}}function zn(t,n,r){const i=n.strength*n.bonus,s=ze[n.fieldIndex].powers,l=s[t-3],o=Math.ceil(l/n.bonus/r),a=Math.max(1,Math.ceil(l/i)),d=a<=r;let u=r;if(!(t===8)){const g=s[t-2];u=Math.max(0,Math.ceil(g/i)-1),u=Math.min(r,u)}return{count:t,power:l,canGet:d,tooMuch:u===0,requiredStrength:o,minScore:a,minTime:st(a),minPower:a*i,maxScore:u,maxTime:En(u),maxPower:u*i}}const ms=c.memo(({open:t,onClose:n,bonus:r,strength:i})=>{const{t:s}=T(),l=c.useRef(null),o=c.useRef(null),a=c.useRef(null),d=c.useRef(null),u=c.useRef(null),h=c.useCallback((g,x)=>{if(x===null)return;let y=null;switch(x){case 0:y=l?.current;break;case 25:y=o?.current;break;case 50:y=a?.current;break;case 75:y=d?.current;break;case 100:y=u?.current;break}y!==null&&y.scrollIntoView({behavior:"smooth",block:"start"})},[]);if(!t)return e.jsx(e.Fragment,{});const m=[];for(let g=0;g<=100;g++)m.push(e.jsxs("div",{className:"sleep_time",ref:g===0?l:g===25?o:g===50?a:g===75?d:g===100?u:null,children:[e.jsx(jn,{score:g}),e.jsxs("div",{className:"time",children:[st(g).toString(s),e.jsxs(e.Fragment,{children:[" ",s("range separator")," "]}),En(g).toString(s),e.jsx("div",{className:"time_power",children:s("num",{n:g*i*r})})]})]},g));return e.jsxs(gs,{open:t,onClose:n,scroll:"paper",children:[e.jsx(de,{children:s("sleep score table")}),e.jsx("div",{className:"sleep_score_table",children:m}),e.jsx("div",{className:"form",children:e.jsxs(G,{onChange:h,exclusive:!0,children:[e.jsx(L,{value:0,children:"0"}),e.jsx(L,{value:25,children:"25"}),e.jsx(L,{value:50,children:"50"}),e.jsx(L,{value:75,children:"75"}),e.jsx(L,{value:100,children:"100"})]})}),e.jsx($,{children:e.jsx(F,{onClick:n,children:s("close")})})]})}),gs=M(V)({"& div.form":{margin:".4rem 1.2rem 0 1.2rem","& > div > button":{width:"3rem"}},"& div.sleep_score_table":{overflow:"scroll",padding:"0 1rem","& > div.sleep_time":{margin:".4rem 0"}}}),ps=M("button")({width:"1.3rem",height:"1.3rem",background:"white",fontSize:".8rem",borderRadius:"50%",padding:0,border:"1px solid #999",color:"#000",cursor:"pointer",flexShrink:0,position:"relative","&:hover":{background:"#f0f0ee"},"&:disabled":{background:"#eee",border:"1px solid #ccc"},"&::before":{content:'""',position:"absolute",top:0,left:0,width:"1.3rem",height:"1.3rem",display:"inline-block",borderRadius:"100%",overflow:"hidden",background:"#999999",opacity:0}}),yn=c.memo(({disabled:t,label:n,onClick:r})=>{const i=s=>{s.stopPropagation(),s.preventDefault(),s.target.animate([{opacity:.5},{opacity:0,transform:"scale(3, 3)"}],{duration:200,easing:"ease-out",pseudoElement:"::before",iterations:1}),r?.()};return e.jsx(ps,{disabled:t,onClick:i,children:n})}),xs=c.memo(({value:t,onChange:n})=>{const{t:r}=T(),i=c.useCallback(o=>{n(o.target.value)},[n]),s=[],l=[...ze];for(const o of l)o.powers.length!==0&&s.push(e.jsxs(j,{value:o.index,children:[e.jsx("span",{className:"field_icon",children:o.emoji}),r(`area.${o.index}`)]},o.index));return e.jsx(ne,{variant:"standard",size:"small",select:!0,value:t,onChange:i,slotProps:{select:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}}},children:s})}),fs=/iP(hone|od|ad)/.test(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document;function ks({data:t,onChange:n}){const{t:r}=T(),i=ze[t.fieldIndex],s=t.strength,l=new _e(s,i.ranks),[o,a]=w.useState(!1),d=w.useCallback(v=>{if(v<0||v>=i.ranks.length)return;const S=i.ranks[v];n?.({strength:S})},[i.ranks,n]),u=w.useCallback(v=>{d(v===-1?l.index-1:l.index+1)},[d,l.index]),h=w.useCallback(v=>{const S=v.target.value;d(S)},[d]),m=w.useCallback(()=>{u(-1)},[u]),g=w.useCallback(()=>{u(1)},[u]),x=w.useCallback(v=>{n?.({fieldIndex:v})},[n]),y=w.useCallback(v=>{let S=Number(v.target.value.replace(/,/g,""));isNaN(S)||(S=Math.max(0,S),S=Math.min(S,jr),n?.({strength:S}))},[n]);function p(v,S){if(fs&&v.type==="mousedown"||typeof S!="number")return;const A=Math.min(S,l.nextStrength-1);n?.({...t,strength:A})}const f=c.useCallback(v=>{const S=v.target.value;n?.({bonus:S})},[n]),k=w.useCallback(v=>{const S=v.target.checked;n?.({secondSleep:S})},[n]),C=w.useCallback(()=>{a(!0)},[a]),b=w.useCallback(()=>{a(!1)},[a]);return e.jsxs(e.Fragment,{children:[e.jsxs(js,{children:[e.jsxs("div",{children:[r("research area"),":"]}),e.jsx("div",{children:e.jsx(xs,{value:t.fieldIndex,onChange:x})}),e.jsxs("div",{children:[r("strength"),":"]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx(ys,{field:i,value:l.index,onChange:h}),e.jsx(Cs,{value:s,onChange:y})]}),e.jsxs("div",{className:"strength_second_line",children:[e.jsx(yn,{disabled:l.index===0,label:"◀",onClick:m}),e.jsx(Jn,{className:"strength_progress",size:"small",onChange:p,min:l.thisStrength,max:l.nextStrength,value:s}),e.jsx(yn,{disabled:l.rankNumber===20,label:"▶",onClick:g})]})]}),e.jsxs("div",{children:[r("bonus"),":"]}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(Bs,{value:t.bonus,onChange:f})}),e.jsx(Is,{value:t.secondSleep,onChange:k})]})]}),e.jsx("div",{style:{textAlign:"right"},children:e.jsx(F,{startIcon:e.jsx(Fr,{}),onClick:C,children:r("sleep score table")})}),e.jsx(ms,{open:o,onClose:b,bonus:t.bonus,strength:s})]})}const js=M("div")({marginTop:".8rem",display:"grid",gap:"0.8rem 1.2rem",gridTemplateColumns:"fit-content(200px) 1fr",'& form.main div[role="combobox"]':{paddingBottom:"2px"},"& span.field_icon":{paddingRight:".2rem"},"& div.strength_second_line":{display:"flex",alignItems:"center",marginTop:".2rem",userSelect:"none"},"& .MuiInput-input:focus":{background:"inherit"},"& span.strength_progress":{width:"calc(100% - 4rem)",margin:"0 1rem","& .MuiSlider-track":{color:"#f7ac33",height:".5rem"},"& .MuiSlider-rail":{color:"#999999",height:".5rem"},"& .MuiSlider-thumb":{color:"#f7ac33",width:".9rem",height:".9rem","&::after":{width:"1rem",height:"1rem"},"&.Mui-active, &:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 6px rgba(235,219,102,0.4)"}}}}),ys=c.memo(({value:t,onChange:n,field:r})=>{const{t:i}=T(),s=[];for(let l=0;l<35;l++){const o=t===l,a=_e.rankIndexToType(l),d=_e.rankIndexToRankNumber(l),u=r.ranks[l];s.push(e.jsxs(vs,{value:l,dense:!0,selected:o,children:[e.jsx("span",{className:"rank_ball rank_ball_"+a,children:"◓"}),e.jsx("span",{className:"rank_number",children:d}),e.jsxs("span",{className:"strength",children:[i("num",{n:u}),i("range separator")]})]},l))}return e.jsx(bs,{className:"rank",variant:"standard",size:"small",select:!0,value:t,SelectProps:{MenuProps:{sx:{height:"400px"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}},onChange:n,children:s})}),bs=M(ne)({width:"4rem",marginRight:"1rem","& span.rank_ball_basic":{color:"#ff0000"},"& span.rank_ball_great":{color:"#0000ff"},"& span.rank_ball_ultra":{color:"#000000"},"& span.rank_ball_master":{color:"#cc00cc"},"& span.rank_number":{paddingLeft:".2rem"},"& span.strength":{display:"none"}}),vs=M(j)({"& > span.rank_ball":{fontSize:"1rem","&.rank_ball_basic":{color:"#ff0000"},"&.rank_ball_great":{color:"#0000ff"},"&.rank_ball_ultra":{color:"#000000"},"&.rank_ball_master":{color:"#cc00cc"}},"& > span.rank_number":{fontSize:"1rem",paddingLeft:".2rem"},"& > span.strength":{paddingLeft:"1.2rem",color:"#999",fontSize:".9rem",fontWeight:"normal"}}),Ss=e.jsx(ln,{position:"start",sx:{color:"#ff944b"},children:e.jsx(ce,{})}),Cs=c.memo(({value:t,onChange:n})=>{const{t:r}=T(),[i,s]=w.useState(!1),l=w.useCallback(d=>{s(!0)},[]),o=w.useCallback(d=>{s(!1)},[]),a=i?t.toString():r("num",{n:t});return e.jsx(ws,{variant:"standard",size:"small",type:"tel",value:a,onChange:n,onFocus:l,onBlur:o,InputProps:{inputProps:{step:1e3,inputMode:"numeric"},startAdornment:Ss}})}),ws=M(ne)({width:"calc(100% - 5rem)","& input":{fontWeight:800,fontSize:"1rem",paddingBottom:"2px"}}),Bs=c.memo(({value:t,onChange:n})=>{const{t:r}=T(),[i,s]=w.useState(ht(new Date));c.useEffect(()=>{const d=setInterval(function(){s(ht(new Date))},5e3);return()=>clearInterval(d)},[]);const l=c.useCallback(()=>{n({target:{value:i}})},[n,i]),o=i!==t,a=i===1?r("none"):`×${i}`;return e.jsxs(e.Fragment,{children:[e.jsxs(ne,{variant:"standard",size:"small",select:!0,value:t,onChange:n,children:[e.jsx(j,{value:1,dense:!0,children:r("none")},"1"),e.jsx(j,{value:1.5,dense:!0,children:"×1.5"},"1.5"),e.jsx(j,{value:2,dense:!0,children:"×2"},"2"),e.jsx(j,{value:2.5,dense:!0,children:"×2.5"},"2.5"),e.jsx(j,{value:3,dense:!0,children:"×3"},"3"),e.jsx(j,{value:4,dense:!0,children:"×4"},"4")]}),e.jsx(me,{in:o,style:{paddingTop:"0.2rem"},children:e.jsxs(F,{onClick:l,sx:{padding:"0 0 0 1rem",margin:0,fontSize:"0.8rem",textIndent:"-1rem",textTransform:"none",lineHeight:1.2,textAlign:"left"},children:["⚠️",r("bonus not match",{bonus:a})]})})]})}),Is=c.memo(({value:t,onChange:n})=>{const{t:r}=T();return e.jsx(Lt,{control:e.jsx(Nr,{checked:t,onChange:n}),label:r("sleep twice")})}),Ms=c.memo(({fieldIndex:t})=>{const{t:n}=T(),r=t===6;return e.jsx(me,{in:r,children:e.jsxs(Ts,{children:[e.jsx(Ke,{}),e.jsx("div",{children:n("border is not fixed")})]})})}),Ts=M("div")({background:"#e5f6fd",borderRadius:".5rem",padding:"0.4rem",color:"#014343",display:"grid",gridTemplateColumns:"22px 1fr","& > svg":{color:"#0288d1",width:"18px",height:"18px",paddingTop:"2px"},"& > div":{fontSize:"0.8rem",color:"#014480","& > button":{padding:"0 0 0 0.3rem",minWidth:0,fontSize:"0.8rem"}}});function Es({open:t,onClose:n,data:r}){const{t:i}=T();if(!t)return e.jsx(e.Fragment,{});const s=[];for(let l=0;l<2;l++){const o=[r.first,r.second][l],a=st(o.score).toString(i),d=En(o.score).toString(i);s.push(e.jsxs("div",{className:"better_preview",children:[e.jsx("div",{className:"ball",children:"◓"}),e.jsx("span",{className:"ball_value",children:o.count}),e.jsx("span",{className:"strength",children:e.jsx(ce,{})}),e.jsxs("span",{className:"strength_value",children:[i("num",{n:o.strength}),l===1&&" "+i("range separator")]}),e.jsx(jn,{score:o.score}),e.jsxs("span",{className:"time_value",children:[e.jsx("span",{children:a}),e.jsxs("span",{children:[" ",i("range separator")," "]}),l===0&&e.jsx("span",{children:d})]})]},l))}return e.jsxs(V,{open:t,onClose:n,children:[e.jsxs(Ns,{dividers:!0,className:"better_dialog",children:[e.jsx(J,{i18nKey:"next strength to get 1 more pokemon",components:{count2:e.jsx("strong",{children:r.second.count}),score1:e.jsx("strong",{children:r.first.score}),strength2:e.jsx("strong",{children:i("num",{n:r.second.strength-r.first.strength})})}}),e.jsx("h3",{children:i("first sleep")}),e.jsx("div",{children:s[0]}),e.jsx("h3",{children:i("second sleep")}),e.jsx("div",{children:s[1]})]}),e.jsx($,{children:e.jsx(F,{onClick:n,children:i("close")})})]})}const Ns=M(K)({"& > h3":{marginBottom:".2rem",fontSize:"1.1rem"},"& div.better_preview":{padding:"0 .5rem",display:"grid",gridTemplateColumns:"2.5rem auto",gap:".5rem .3rem",alignItems:"center","& > div.ball":{color:"#ff6347",textAlign:"center",alignItems:"center",fontSize:"1.3rem"},"& > span.ball_value":{fontSize:"1.3rem"},"& > span.strength":{color:"#ff944b",textAlign:"center","& > svg":{transform:"scale(1.2)"}},"& > span.strength_value":{fontSize:"1.2rem"}}});function Fs({data:t}){const[n,r]=w.useState(!1),i=()=>{r(!1)},[s,l]=w.useState({first:{count:0,score:0,strength:0},second:{count:0,score:0,strength:0}});function o(a){l(a),r(!0)}return e.jsxs("div",{style:{marginBottom:"10rem"},children:[e.jsx(Je,{count:4,data:t,ranges:Qe(4,t),onSecondSleepDetailClick:o}),e.jsx(Je,{count:5,data:t,ranges:Qe(5,t),onSecondSleepDetailClick:o}),e.jsx(Je,{count:6,data:t,ranges:Qe(6,t),onSecondSleepDetailClick:o}),e.jsx(Je,{count:7,data:t,ranges:Qe(7,t),onSecondSleepDetailClick:o}),e.jsx(Je,{count:8,data:t,ranges:Qe(8,t),onSecondSleepDetailClick:o}),e.jsx(Es,{data:s,open:n,onClose:i})]})}const As=Rs();function Ls(){const[t,n]=w.useState(As),r=w.useCallback(s=>{const l={...t,...s};n(l),zs(l)},[t]),i=w.useCallback(s=>{r(s)},[r]);return e.jsxs("div",{style:{margin:"0 .5rem"},children:[e.jsx(ks,{data:t,onChange:i}),e.jsx(Ms,{fieldIndex:t.fieldIndex}),e.jsx(Fs,{data:t})]})}function Rs(){const t={fieldIndex:0,strength:73120,bonus:1,secondSleep:!1},n=localStorage.getItem("ResearchCalcPokeSleep");if(n===null)return t;const r=JSON.parse(n);return typeof r!="object"||r==null||(typeof r.fieldIndex=="number"&&r.fieldIndex>=0&&r.fieldIndex<ze.length&&(t.fieldIndex=r.fieldIndex),typeof r.strength=="number"&&r.strength>=0&&(t.strength=r.strength),typeof r.bonus=="number"&&[1,1.5,2,2.5,3,4].includes(r.bonus)&&(t.bonus=r.bonus),typeof r.secondSleep=="boolean"&&(t.secondSleep=r.secondSleep)),t}function zs(t){localStorage.setItem("ResearchCalcPokeSleep",JSON.stringify(t))}class H{value;static allNatureNames=["Bashful","Hardy","Docile","Quirky","Serious","Bold","Impish","Lax","Relaxed","Timid","Hasty","Jolly","Naive","Lonely","Adamant","Naughty","Brave","Calm","Gentle","Careful","Sassy","Modest","Mild","Rash","Quiet"];static allNaturesCache=[];static neautralNatures=["Bashful","Hardy","Docile","Quirky","Serious"];static energyRecoveryUpNatures=["Bold","Impish","Lax","Relaxed"];static expGainsUpNatures=["Timid","Hasty","Jolly","Naive"];static speedOfHelpUpNatures=["Lonely","Adamant","Naughty","Brave"];static mainSkillChanceUpNatures=["Calm","Gentle","Careful","Sassy"];static ingredientFindingUpNatures=["Modest","Mild","Rash","Quiet"];static energyRecoveryDownNatures=["Hasty","Lonely","Gentle","Mild"];static expGainsDownNatures=["Relaxed","Brave","Sassy","Quiet"];static speedOfHelpDownNatures=["Bold","Timid","Calm","Modest"];static mainSkillChanceDownNatures=["Lax","Naive","Naughty","Rash"];static ingredientFindingDownNatures=["Impish","Jolly","Adamant","Careful"];static ampedNatures=["Hardy","Docile","Quirky","Lax","Impish","Hasty","Naive","Jolly","Brave","Naughty","Adamant","Sassy","Rash"];static lowKeyNatures=["Bashful","Serious","Relaxed","Bold","Timid","Lonely","Gentle","Calm","Careful","Mild","Quiet","Modest"];constructor(n){if(!H.allNatureNames.includes(n))throw new Error(`Invalid nature specified: ${n}`);this.value=n}get name(){return this.value}get energyRecoveryFactor(){return this.isEnergyRecoveryUp?1.2:this.isEnergyRecoveryDown?.88:1}get speedOfHelpFactor(){return this.isSpeedOfHelpUp?.9:this.isSpeedOfHelpDown?1.075:1}get mainSkillChanceFactor(){return this.isMainSkillChanceUp?1.2:this.isMainSkillChanceDown?.8:1}get ingredientFindingFactor(){return this.isIngredientFindingUp?1.2:this.isIngredientFindingDown?.8:1}get expGainsFactor(){return this.isExpGainsUp?1:this.isExpGainsDown?-1:0}get upEffect(){return this.isEnergyRecoveryUp?"Energy recovery":this.isExpGainsUp?"EXP gains":this.isIngredientFindingUp?"Ingredient finding":this.isMainSkillChanceUp?"Main skill chance":this.isSpeedOfHelpUp?"Speed of help":"No effect"}get downEffect(){return this.isEnergyRecoveryDown?"Energy recovery":this.isExpGainsDown?"EXP gains":this.isIngredientFindingDown?"Ingredient finding":this.isMainSkillChanceDown?"Main skill chance":this.isSpeedOfHelpDown?"Speed of help":"No effect"}get isNeautral(){return H.neautralNatures.includes(this.value)}get isEnergyRecoveryUp(){return H.energyRecoveryUpNatures.includes(this.value)}get isEnergyRecoveryDown(){return H.energyRecoveryDownNatures.includes(this.value)}get isSpeedOfHelpUp(){return H.speedOfHelpUpNatures.includes(this.value)}get isSpeedOfHelpDown(){return H.speedOfHelpDownNatures.includes(this.value)}get isMainSkillChanceUp(){return H.mainSkillChanceUpNatures.includes(this.value)}get isMainSkillChanceDown(){return H.mainSkillChanceDownNatures.includes(this.value)}get isIngredientFindingUp(){return H.ingredientFindingUpNatures.includes(this.value)}get isIngredientFindingDown(){return H.ingredientFindingDownNatures.includes(this.value)}get isExpGainsUp(){return H.expGainsUpNatures.includes(this.value)}get isExpGainsDown(){return H.expGainsDownNatures.includes(this.value)}get isAmped(){return H.ampedNatures.includes(this.value)}get isLowKey(){return H.lowKeyNatures.includes(this.value)}static get allNatures(){return H.allNaturesCache.length===0&&(H.allNaturesCache=H.allNatureNames.map(n=>new H(n))),[...H.allNaturesCache]}}const fe=65,Ne={leek:185,mushroom:167,egg:115,potato:124,apple:90,herb:130,sausage:103,milk:98,honey:101,oil:121,ginger:109,tomato:110,cacao:151,tail:342,soy:100,corn:140,coffee:153,unknown:0,unknown1:0,unknown2:0,unknown3:0},Ps={normal:28,fire:27,water:31,electric:25,grass:30,ice:32,fighting:27,poison:32,ground:29,flying:24,psychic:26,bug:24,rock:30,ghost:26,dragon:35,dark:31,steel:33,fairy:26},ft=["AAA","AAB","AAC","ABA","ABB","ABC"];class re{_pokemonName;_pokemon;level;skillLevel;ingredient;subSkills;nature;ribbon;mythIng1;mythIng2;mythIng3;get pokemonName(){return this._pokemonName}get pokemon(){return this._pokemon}get isMythical(){return this._pokemon.mythIng!==void 0}constructor(n){this._pokemonName=n.pokemonName,this._pokemon=n.pokemon,this.level=n.level,this.skillLevel=n.skillLevel,this.ingredient=n.ingredient,this.subSkills=n.subSkills,this.nature=n.nature,this.ribbon=n.ribbon,this.mythIng1=n.mythIng1,this.mythIng2=n.mythIng2,this.mythIng3=n.mythIng3}calculate(){const n=this.frequency,r=this.bonus,i=this.ingredientRp,s=this.berryRp,l=this.skillRp;return{rp:Math.round((Me(i)+Me(s)+Me(l))*Me(r)/1e4),frequency:n,ingredientRp:ue(i*r,1),berryRp:ue(s*r,1),skillRp:ue(l*r,1)}}get Rp(){return Math.round((Me(this.ingredientRp)+Me(this.berryRp)+Me(this.skillRp))*Me(this.bonus)/1e4)}get activeSubSkills(){return this.subSkills.getActiveSubSkills(this.level)}get helpCountPer5Hour(){const n=this.frequency;return n===0?0:5*ue(3600/n,2)}get frequency(){const n=this.level===10&&this._pokemon.frequency===2600?.1:0;return this._pokemon.frequency*ue((501-this.level)/500*(this.nature?.speedOfHelpFactor??1)*this.speedOfRibbonFactor*(1-this.activeSubSkills.reduce((r,i)=>r+i.helpingSpeed,0)*.07),4)-n}get speedOfRibbonFactor(){if(this.pokemon.evolutionLeft===0)return 1;if(this.ribbon>=4)switch(this.pokemon.evolutionLeft){case 2:return .75;case 1:return .88}if(this.ribbon>=2)switch(this.pokemon.evolutionLeft){case 2:return .89;case 1:return .95}return 1}frequencyWithHelpingBonus(n){const r=this.activeSubSkills.reduce((s,l)=>s+l.helpingSpeed,0)*.07,i=Math.min(r+.05*n,.35);return this._pokemon.frequency*ue((501-this.level)/500*(this.nature?.speedOfHelpFactor??1)*this.speedOfRibbonFactor*(1-i),4)}get hasHelpingBonusInActiveSubSkills(){return this.activeSubSkills.some(n=>n.name==="Helping Bonus")}get bonus(){return ue(this.energyBonus*this.subSkillBonus,2)}get energyBonus(){return this.nature?.isEnergyRecoveryUp?1.08:this.nature?.isEnergyRecoveryDown?.92:1}get subSkillBonus(){let n=0;for(const r of this.activeSubSkills){switch(r.inventory){case 3:n+=.181;break;case 2:n+=.139;break;case 1:n+=.071;break}r.isBonus&&(n+=.221)}return 1+n}get ingredientRp(){return ue(this.helpCountPer5Hour*this.ingredientRatio*this.ingredientEnergy*this.ingredientG,2)}get ingredientRatio(){return ue(this._pokemon.ingRatio/100*(this.nature?.ingredientFindingFactor??1)*(1+this.activeSubSkills.reduce((n,r)=>n+r.ingredientFinder,0)*.18),4)}get ingredientEnergy(){const n=this.ingredient1,r=Ne[n.name]*n.count;let i=1;if(this.level<30)return r;const s=this.ingredient2,l=Ne[s.name]*s.count;if(l>0&&i++,this.level<60)return Math.floor((r+l)/i);const o=this.ingredient3,a=Ne[o.name]*o.count;return a>0&&i++,Math.floor((r+l+a)/i)}get ingredient1(){return this._pokemon.mythIng!==void 0?{name:this.mythIng1??"unknown",count:this._pokemon.mythIng.find(n=>n.name===this.mythIng1)?.c1??0}:{name:this._pokemon.ing1.name??"unknown",count:this._pokemon.ing1.c1}}get ingredient2(){if(this._pokemon.mythIng!==void 0)return{name:this.mythIng2??"unknown",count:this._pokemon.mythIng.find(r=>r.name===this.mythIng2)?.c2??0};const n=this.ingredient.charAt(1)==="A"?this._pokemon.ing1:this._pokemon.ing2;return{name:n.name,count:n.c2}}get ingredient3(){if(this._pokemon.mythIng!==void 0)return{name:this.mythIng3??"unknown",count:this._pokemon.mythIng.find(r=>r.name===this.mythIng3)?.c3??0};const n=this.ingredient.charAt(2)==="A"?this._pokemon.ing1:this.ingredient.charAt(2)==="B"?this._pokemon.ing2:this._pokemon.ing3;if(n===void 0)throw new Error("this pokemon doesn't have 3rd ing");return{name:n.name,count:n.c3}}get ingredientG(){const n=[1,1.003,1.007,1.011,1.016,1.021,1.027,1.033,1.039,1.046,1.053,1.061,1.069,1.077,1.085,1.094,1.104,1.114,1.124,1.134,1.145,1.156,1.168,1.18,1.192,1.205,1.218,1.231,1.245,1.259,1.274,1.288,1.303,1.319,1.335,1.351,1.368,1.385,1.402,1.42,1.439,1.457,1.477,1.496,1.517,1.537,1.558,1.58,1.602,1.625,1.648,1.671,1.696,1.72,1.745,1.771,1.798,1.824,1.852,1.88,1.927,1.975,2.024,2.075,2.127,2.18,2.234,2.289,2.345,2.402,2.46,2.519,2.579,2.64,2.702,2.765,2.829,2.894,2.96,3.027,3.095,3.164,3.234,3.305,3.377,3.45,3.524,3.599,3.675,3.752,3.83,3.909,3.989,4.07,4.152,4.235,4.319,4.404,4.49,4.577];return this.level-1<n.length?n[this.level-1]:398e-9*Math.pow(this.level,3)+159e-6*Math.pow(this.level,2)+.00367*this.level-.00609+1}getBagUsagePerHelp(n,r){const i=this.berryCount+n,s=this.ingredientRatio,l=this.level<30?this.ingredient1.count+r:this.level<60?(this.ingredient1.count+this.ingredient2.count+r)/2:(this.ingredient1.count+this.ingredient2.count+this.ingredient3.count+r)/3;return(1-s)*i+s*l}get berryRp(){return ue(this.helpCountPer5Hour*this.berryRatio*this.berryStrength*this.berryCount,2)}get berryRatio(){return this.ingredientRatio>0?1-this.ingredientRatio:0}get berryCount(){return(this._pokemon.specialty==="Berries"||this._pokemon.specialty==="All"?2:1)+(this.activeSubSkills.some(r=>r.isBFS)?1:0)}get berryStrength(){const n=Ps[this._pokemon.type];return Math.max(n+this.level-1,Math.round(Math.pow(1.025,this.level-1)*n))}get skillRp(){return ue(this.helpCountPer5Hour*this.skillRatio*this.skillValue,2)}get skillRatio(){return ue(this._pokemon.skillRatio/100*(this.nature?.mainSkillChanceFactor??1)*(1+this.activeSubSkills.reduce((n,r)=>n+r.skillTrigger,0)*.18),4)}get skillValue(){return this._pokemon.skill==="Charge Strength S"||this._pokemon.skill==="Charge Strength S (Random)"||this._pokemon.skill==="Charge Energy S"?[400,569,785,1083,1496,2066,2656][this.skillLevel-1]:this._pokemon.skill==="Charge Energy S (Moonlight)"?[560,797,1099,1516,2094,2892][this.skillLevel-1]:this._pokemon.skill==="Charge Strength S (Stockpile)"||this._pokemon.skill==="Skill Copy (Transform)"||this._pokemon.skill==="Skill Copy (Mimic)"?[600,853,1177,1625,2243,3099,3984][this.skillLevel-1]:this._pokemon.skill==="Energy for Everyone S"?[1120,1593,2197,3033,4187,5785][this.skillLevel-1]:this._pokemon.skill==="Helper Boost"?[2800,3902,5273,6975,9317,12438][this.skillLevel-1]:this._pokemon.skill==="Berry Burst (Disguise)"||this._pokemon.skill==="Berry Burst"||this._pokemon.skill==="Energy for Everyone S (Lunar Blessing)"?[1400,1991,2747,3791,5234,7232][this.skillLevel-1]:this._pokemon.skill==="Charge Strength M (Bad Dreams)"?[2400,3313,4643,6441,8864,11878][this.skillLevel-1]:[880,1251,1726,2383,3290,4546,5843,7303][this.skillLevel-1]}}function ue(t,n){const r=Math.pow(10,n),i=parseFloat((t*r).toFixed(6));return Math.floor(i)/r}function Me(t){return parseFloat((t*100).toFixed(6))}const mn=["Charge Strength S","Charge Strength M","Ingredient Magnet S","Energy for Everyone S","Charge Energy S","Energizing Cheer S","Cooking Power-Up S","Tasty Chance S","Extra Helpful S","Helper Boost","Dream Shard Magnet S","Metronome","Berry Burst","Skill Copy","Ingredient Draw S"];function Re(t){return t==="Dream Shard Magnet S"||t==="Dream Shard Magnet S (Random)"?8:t==="Ingredient Magnet S"||t==="Ingredient Magnet S (Plus)"||t==="Charge Strength M"||t==="Charge Strength S"||t==="Charge Strength S (Random)"||t==="Charge Strength S (Stockpile)"||t==="Extra Helpful S"||t==="Cooking Power-Up S"||t==="Cooking Power-Up S (Minus)"||t==="Metronome"||t==="Skill Copy (Transform)"||t==="Skill Copy (Mimic)"||t==="Ingredient Draw S (Super Luck)"||t==="Ingredient Draw S (Hyper Cutter)"?7:6}function ke(t,n,r=3){if(n!==Math.floor(n))throw new Error(`invalid skill level: ${n}`);if(n<0||n>Re(t))throw new Error(`invalid main skill: ${t}, ${n}`);if(t==="Ingredient Magnet S")return[6,8,11,14,17,21,24][n-1];if(t==="Ingredient Magnet S (Plus)")return[5,7,9,11,13,16,18][n-1];if(t==="Charge Energy S"||t==="Charge Energy S (Moonlight)")return[12,16,21,27,34,43][n-1];if(t==="Charge Strength S")return[400,569,785,1083,1496,2066,3002][n-1];if(t==="Charge Strength S (Stockpile)")return[623.96,887.03,1224.08,1690.11,2232.54,3222.7,4681.77][n-1];if(t==="Charge Strength S (Random)")return[500,711.5,981.5,1354,1870,2582.5,3752.5][n-1];if(t==="Charge Strength M")return[880,1251,1726,2383,3290,4546,6409][n-1];if(t==="Charge Strength M (Bad Dreams)")return[2640,3753,5178,7149,9870,13638][n-1];if(t==="Cooking Power-Up S")return[7,10,12,17,22,27,31][n-1];if(t==="Cooking Power-Up S (Minus)")return[5,7,9,12,16,20,24][n-1];if(t==="Energizing Cheer S")return[14,17,23,29,38,51][n-1];if(t==="Energy for Everyone S")return[5,7,9,11,15,18][n-1];if(t==="Energy for Everyone S (Lunar Blessing)")return[3,4,5,7,9,11][n-1];if(t==="Extra Helpful S")return[6,7,8,9,10,11,12][n-1];if(t==="Helper Boost")switch(r){case 1:return[2,3,3,4,4,5][n-1];case 2:return[2,3,3,4,5,6][n-1];case 3:return[3,4,5,6,7,8][n-1];case 4:return[4,5,6,7,8,9][n-1];case 5:return[6,7,8,9,10,11][n-1];default:throw new Error(`invalid species count: ${r}`)}return t==="Dream Shard Magnet S"?[240,340,480,670,920,1260,1800,2500][n-1]:t==="Dream Shard Magnet S (Random)"?[300,425,600,837.5,1150,1575,2250,2875][n-1]:t==="Tasty Chance S"?[4,5,6,7,8,10][n-1]:t==="Berry Burst (Disguise)"?[8,10,15,17,19,21][n-1]:t==="Berry Burst"?[11,14,21,24,27,30][n-1]:t==="Ingredient Draw S (Super Luck)"||t==="Ingredient Draw S (Hyper Cutter)"?[5,6,8,11,13,16,18][n-1]:[0,0,0,0,0,0,0][n-1]}function bn(t,n,r){if(n!==Math.floor(n))throw new Error(`invalid skill level: ${n}`);if(n<0||n>Re(t))throw new Error(`invalid main skill: ${t}, ${n}`);if(t.startsWith("Berry Burst"))return[1,2,2,3,4,5][n-1];if(t==="Ingredient Magnet S (Plus)"){if(r==="coffee")return[6,7,8,9,10,11,12][n-1];if(r==="milk")return[6,7,9,10,12,13,14][n-1];throw new Error(`invalid ingredient: ${r}`)}if(t==="Cooking Power-Up S (Minus)")return[8,10,13,17,23,30,35][n-1];throw new Error(`This skill doesn’t have a sub-value: ${t}`)}function Ds(t,n){switch(t){case 1:switch(n){case 1:return{myBerryCount:5,othersBerryCount:1};case 2:return{myBerryCount:7,othersBerryCount:1};case 3:return{myBerryCount:9,othersBerryCount:1};case 4:return{myBerryCount:12,othersBerryCount:1};case 5:return{myBerryCount:14,othersBerryCount:2}}break;case 2:switch(n){case 1:return{myBerryCount:9,othersBerryCount:1};case 2:return{myBerryCount:12,othersBerryCount:1};case 3:return{myBerryCount:15,othersBerryCount:1};case 4:return{myBerryCount:16,othersBerryCount:2};case 5:return{myBerryCount:19,othersBerryCount:3}}break;case 3:switch(n){case 1:return{myBerryCount:13,othersBerryCount:1};case 2:return{myBerryCount:17,othersBerryCount:1};case 3:return{myBerryCount:18,othersBerryCount:2};case 4:return{myBerryCount:20,othersBerryCount:3};case 5:return{myBerryCount:24,othersBerryCount:4}}break;case 4:switch(n){case 1:return{myBerryCount:17,othersBerryCount:1};case 2:return{myBerryCount:19,othersBerryCount:2};case 3:return{myBerryCount:25,othersBerryCount:2};case 4:return{myBerryCount:28,othersBerryCount:3};case 5:return{myBerryCount:29,othersBerryCount:5}}break;case 5:switch(n){case 1:return{myBerryCount:21,othersBerryCount:1};case 2:return{myBerryCount:24,othersBerryCount:2};case 3:return{myBerryCount:27,othersBerryCount:3};case 4:return{myBerryCount:28,othersBerryCount:5};case 5:return{myBerryCount:30,othersBerryCount:7}}break;case 6:switch(n){case 1:return{myBerryCount:25,othersBerryCount:1};case 2:return{myBerryCount:29,othersBerryCount:2};case 3:return{myBerryCount:30,othersBerryCount:4};case 4:return{myBerryCount:31,othersBerryCount:6};case 5:return{myBerryCount:32,othersBerryCount:9}}break}throw new Error(`Lunar Blessing doesn’t have a sub-value: ${t}, ${n}`)}function Un(t,n){switch(t){case"Charge Strength S (Random)":switch(n){case 1:return[200,800];case 2:return[285,1138];case 3:return[393,1570];case 4:return[542,2166];case 5:return[748,2992];case 6:return[1033,4132];case 7:return[1501,6004]}break;case"Charge Strength S (Stockpile)":switch(n){case 1:return[600,10980];case 2:return[853,15610];case 3:return[1177,21540];case 4:return[1625,29740];case 5:return[2243,41047];case 6:return[3099,56712];case 7:return[4502,82386]}break;case"Dream Shard Magnet S (Random)":switch(n){case 1:return[120,480];case 2:return[170,680];case 3:return[240,960];case 4:return[335,1340];case 5:return[460,1840];case 6:return[630,2520];case 7:return[900,3600];case 8:return[1150,4600]}break}return[0,0]}function it(t,n){return!!(t.startsWith(n)||t==="Energy for Everyone S (Lunar Blessing)"&&n==="Berry Burst")}class U{value;static goldSubSkillNames=["Berry Finding S","Dream Shard Bonus","Energy Recovery Bonus","Helping Bonus","Research EXP Bonus","Skill Level Up M","Sleep EXP Bonus"];static blueSubSkillNames=["Helping Speed M","Ingredient Finder M","Inventory Up L","Inventory Up M","Skill Level Up S","Skill Trigger M"];static whiteSubSkillNames=["Helping Speed S","Ingredient Finder S","Inventory Up S","Skill Trigger S"];static subSkillNames=[...this.goldSubSkillNames,...this.blueSubSkillNames,...this.whiteSubSkillNames];static allSubSkillsCache=[];constructor(n){if(!U.subSkillNames.includes(n))throw new Error(`Invalid subskill specified: ${n}`);this.value=n}get name(){return this.value}get isGold(){return U.goldSubSkillNames.includes(this.value)}get isBlue(){return U.blueSubSkillNames.includes(this.value)}get isWhite(){return U.whiteSubSkillNames.includes(this.value)}get index(){return U.allSubSkills.findIndex(n=>n.name===this.name)}get skillLevelUp(){switch(this.value){case"Skill Level Up M":return 2;case"Skill Level Up S":return 1;default:return 0}}get skillTrigger(){switch(this.value){case"Skill Trigger M":return 2;case"Skill Trigger S":return 1;default:return 0}}get inventory(){switch(this.value){case"Inventory Up L":return 3;case"Inventory Up M":return 2;case"Inventory Up S":return 1;default:return 0}}get helpingSpeed(){switch(this.value){case"Helping Speed M":return 2;case"Helping Speed S":return 1;default:return 0}}get ingredientFinder(){switch(this.value){case"Ingredient Finder M":return 2;case"Ingredient Finder S":return 1;default:return 0}}get isBFS(){return this.value==="Berry Finding S"}get isBonus(){switch(this.value){case"Helping Bonus":return!0;case"Sleep EXP Bonus":return!0;case"Dream Shard Bonus":return!0;case"Research EXP Bonus":return!0;case"Energy Recovery Bonus":return!0;default:return!1}}static get allSubSkillNames(){return[...this.subSkillNames]}static get allSubSkills(){return U.allSubSkillsCache.length===0&&(U.allSubSkillsCache=U.subSkillNames.map(n=>new U(n))),[...U.allSubSkillsCache]}}class Fe{value;constructor(n){n===void 0?this.value=[null,null,null,null,null]:n instanceof Array?this.value=n:this.value=[...n.value]}set(n,r){const i=this.getIndex(n);if(r!==null){const s=this.getSubSkillIndex(r);s>=0&&(this.value[s]=this.value[i])}this.value[i]=r}clone(){const n=new Fe;return n.value=[...this.value],n}isEqual(n){return this.lv10?.name===n.lv10?.name&&this.lv25?.name===n.lv25?.name&&this.lv50?.name===n.lv50?.name&&this.lv75?.name===n.lv75?.name&&this.lv100?.name===n.lv100?.name}getActiveSubSkills(n){const r=[];return n<10||(this.value[0]!==null&&r.push(this.value[0]),n<25)||(this.value[1]!==null&&r.push(this.value[1]),n<50)||(this.value[2]!==null&&r.push(this.value[2]),n<75)||(this.value[3]!==null&&r.push(this.value[3]),n<100)||this.value[4]!==null&&r.push(this.value[4]),r}getSubSkillIndex(n){return n===null?-1:this.value[0]?.name===n.name?0:this.value[1]?.name===n.name?1:this.value[2]?.name===n.name?2:this.value[3]?.name===n.name?3:this.value[4]?.name===n.name?4:-1}getSubSkillLevel(n){switch(this.getSubSkillIndex(n)){case 0:return 10;case 1:return 25;case 2:return 50;case 3:return 75;case 4:return 100;default:return-1}}getIndex(n){switch(n){case 10:return 0;case 25:return 1;case 50:return 2;case 75:return 3;case 100:return 4;default:return-1}}get lv10(){return this.value[0]}set lv10(n){this.set(10,n)}get lv25(){return this.value[1]}set lv25(n){this.set(25,n)}get lv50(){return this.value[2]}set lv50(n){this.set(50,n)}get lv75(){return this.value[3]}set lv75(n){this.set(75,n)}get lv100(){return this.value[4]}set lv100(n){this.set(100,n)}}class se{pokemonName;pokemon;level;skillLevel;ingredient;subSkills;nature;ribbon;mythIng1;mythIng2;mythIng3;constructor(n){this.pokemonName=n;const r=Ee.find(i=>i.name===n);if(r===void 0)throw new Error(`Unknown name: ${n}`);this.pokemon=r,this.level=30,this.skillLevel=Math.max(r.evolutionCount+1,1),this.ingredient=r.ing3!==void 0?"ABC":"ABB",this.subSkills=new Fe,this.nature=new H(n==="Toxtricity (Amped)"?"Hardy":"Serious"),this.ribbon=0,this.mythIng1=this.mythIng2=this.mythIng3="unknown",this.isMythical&&(this.mythIng1="sausage")}get isMythical(){return this.pokemon.mythIng!==void 0}get activeSubSkills(){return this.subSkills.getActiveSubSkills(this.level)}clone(n){const r=new se(n??this.pokemonName);if(r.level=this.level,r.skillLevel=this.skillLevel,this.pokemon.id!==r.pokemon.id){const i=Math.max(0,r.pokemon.evolutionCount)-Math.max(0,this.pokemon.evolutionCount);r.skillLevel+=i}return r.ingredient=this.ingredient,r.subSkills=this.subSkills.clone(),r.nature=this.nature,r.ribbon=this.ribbon,r.mythIng1=this.mythIng1,r.mythIng2=this.mythIng2,r.mythIng3=this.mythIng3,r.normalize(),r}changeLevel(n){const r=this.clone();r.level=n;const i=this.activeSubSkills.reduce((l,o)=>l+o.skillLevelUp,0),s=r.activeSubSkills.reduce((l,o)=>l+o.skillLevelUp,0);return r.skillLevel+=s-i,r.normalize(),r}changeSubSkills(n){const r=this.clone();r.subSkills=n;const i=this.activeSubSkills.reduce((l,o)=>l+o.skillLevelUp,0),s=r.activeSubSkills.reduce((l,o)=>l+o.skillLevelUp,0);return r.skillLevel+=s-i,r.normalize(),r}getIngredients(n){if(this.isMythical){const i=[this.mythIng1];return(!n||this.level>=30)&&this.mythIng2!=="unknown"&&i[0]!==this.mythIng2&&i.push(this.mythIng2),(!n||this.level>=60)&&this.mythIng3!=="unknown"&&i.includes(this.mythIng3)&&i.push(this.mythIng3),i}const r=[this.pokemon.ing1.name];if((!n||this.level>=30)&&this.ingredient.charAt(1)==="B"&&r.push(this.pokemon.ing2.name),!n||this.level>=60){const i=this.ingredient.charAt(2)==="A"?this.pokemon.ing1:this.ingredient.charAt(2)==="B"?this.pokemon.ing2:this.pokemon.ing3;i!==void 0&&!r.includes(i.name)&&r.push(i.name)}return r}normalize(){const n=Re(this.pokemon.skill);this.skillLevel=Math.min(n,Math.max(this.skillLevel,1)),this.ingredient.endsWith("C")&&this.pokemon.ing3===void 0&&(this.ingredient=this.ingredient.replace("C","A")),this.isMythical&&this.mythIng1==="unknown"&&(this.mythIng1="sausage"),this.pokemon.id===Nt&&(this.pokemon.form==="Amped"&&this.nature.isLowKey?this.nature=H.allNatures.filter(r=>r.isAmped).filter(r=>r.upEffect===this.nature.upEffect)[0]??new H("Hardy"):this.pokemon.form==="Low Key"&&this.nature.isAmped&&(this.nature=H.allNatures.filter(r=>r.isLowKey).filter(r=>r.upEffect===this.nature.upEffect)[0]??new H("Serious")))}isEqual(n){const r=this.pokemonName===n.pokemonName&&this.level===n.level&&this.skillLevel===n.skillLevel&&this.subSkills.isEqual(n.subSkills)&&this.nature.name===n.nature.name&&this.ribbon===n.ribbon;return this.isMythical?r&&this.mythIng1===n.mythIng1&&this.mythIng2===n.mythIng2&&this.mythIng3===n.mythIng3:r&&this.ingredient===n.ingredient}get decendants(){return this.getDecendants(!1)}get allDecendants(){return this.getDecendants(!0)}getDecendants(n){const r=yr(this.pokemon,n);return this.pokemon.ancestor===mt?r.filter(i=>i.id===mt||i.form==="Amped"&&this.nature.isAmped||i.form==="Low Key"&&this.nature.isLowKey):r}get hasHelpingBonusInActiveSubSkills(){return this.subSkills.getActiveSubSkills(this.level).some(n=>n.name==="Helping Bonus")}get hasEnergyRecoveryBonusInActiveSubSkills(){return this.subSkills.getActiveSubSkills(this.level).some(n=>n.name==="Energy Recovery Bonus")}get carryLimit(){return this.pokemon.carryLimit+5*Math.max(0,this.pokemon.evolutionCount)+this.ribbonCarryLimit+this.subSkills.getActiveSubSkills(this.level).reduce((n,r)=>n+r.inventory,0)*6}get ribbonCarryLimit(){switch(this.ribbon){case 1:return 1;case 2:return 3;case 3:return 6;case 4:return 8;default:return 0}}get form(){const n=this.pokemonName.match(/\(([^)]+)\)$/);if(n===null)return 0;switch(n[1]){case"Halloween":return 1;case"Festivo":return 2;case"Alola":return 3;case"Paldea":return 4;case"Amped":return 5;case"Low Key":return 6}return 0}static formToString(n){switch(n){case 1:return"Halloween";case 2:return"Festivo";case 3:return"Alola";case 4:return"Paldea";case 5:return"Amped";case 6:return"Low Key";default:return""}}get idForm(){return this.pokemon.id+(this.form<<12)}static getIdByIdForm(n){return n&4095}static getFormByIdForm(n){return n>>12}serialize(){const n=new Uint16Array(6);if(n[0]=1+(this.pokemon.id<<4),n[1]=this.form+(this.level<<6)+(ft.indexOf(this.ingredient)<<13),n[2]=(this.skillLevel-1<<2)+(H.allNatures.findIndex(s=>s.name===this.nature.name)<<6)+((this.subSkills.lv10===null?31:this.subSkills.lv10.index)<<11),n[3]=(this.subSkills.lv25===null?31:this.subSkills.lv25.index)+((this.subSkills.lv50===null?31:this.subSkills.lv50.index)<<5)+((this.subSkills.lv75===null?31:this.subSkills.lv75.index)<<10),n[4]=(this.subSkills.lv100===null?31:this.subSkills.lv100.index)+(this.ribbon<<5),this.pokemon.mythIng!==void 0){const s=this.pokemon.mythIng.findIndex(d=>d.name===this.mythIng1)+1,l=this.pokemon.mythIng.findIndex(d=>d.name===this.mythIng2)+1,o=this.pokemon.mythIng.findIndex(d=>d.name===this.mythIng3)+1,a=this.pokemon.mythIng.length+1;n[5]=s+l*a+o*a*a}const r=new Uint8Array(n.buffer);let i="";for(let s=0;s<r.length;s++)i+=String.fromCharCode(r[s]);return btoa(i).replace(/\//g,"-").substring(0,this.isMythical?16:12)}static deserialize(n){if(n.length===12)n=n.replace(/-/g,"/")+"AAAA";else if(n.length===16)n=n.replace(/-/g,"/");else throw new Error(`Invalid length ${n.length}`);const r=atob(n),i=new Uint8Array(r.length);for(let x=0;x<r.length;x++)i[x]=r.charCodeAt(x);const s=new Uint16Array(i.buffer);if((s[0]&15)!==1)throw new Error("Invalid version");const l=s[0]>>4;let o=Ee.find(x=>x.id===l);if(o===void 0)throw new Error(`Pokemon id ${l} not found`);const a=s[1]&63;if(a!==0){const x=se.formToString(a),y=`${o.name.replace(/ \(.+/,"")} (${x})`;if(o=Ee.find(p=>p.name===y),o===void 0)throw new Error(`Invalid form specified (${a})`)}const d=new se(o.name);if(d.level=s[1]>>6&127,d.level===0||d.level>100)throw new Error(`Invalid level (${d.level})`);const u=s[1]>>13&7;if(u>5)throw new Error(`Invalid ing value (${u})`);if(d.ingredient=ft[u],d.skillLevel=(s[2]>>2&7)+1,d.skillLevel>Re(o.skill))throw new Error(`Too large skill level ${d.skillLevel} for ${o.name}`);const h=s[2]>>6&31;if(h>=H.allNatures.length)throw new Error(`Too large nature ${h}`);d.nature=H.allNatures[h];const m=U.allSubSkills,g=(x,y)=>{if(x===31)return null;if(x>=m.length)throw new Error(`Too large subskill for level ${y}: ${x}`);return m[x]};if(d.subSkills.lv10=g(s[2]>>11&31,10),d.subSkills.lv25=g(s[3]>>0&31,25),d.subSkills.lv50=g(s[3]>>5&31,50),d.subSkills.lv75=g(s[3]>>10&31,75),d.subSkills.lv100=g(s[4]>>0&31,100),d.ribbon=s[4]>>5&7,d.ribbon>=5)throw new Error(`Invalid ribbon (${d.ribbon})`);if(d.pokemon.mythIng!==void 0){const x=d.pokemon.mythIng.length+1,y=s[5]%x-1,p=Math.floor(s[5]/x)%x-1,f=Math.floor(s[5]/x/x)%x-1;d.mythIng1=y<0?"sausage":d.pokemon.mythIng[y].name,d.mythIng2=p<0?"unknown":d.pokemon.mythIng[p].name,d.mythIng3=f<0?"unknown":d.pokemon.mythIng[f].name}return d}}class je{_entries=[];static get maxEntryCount(){return 300}constructor(n){this._entries=n||[]}get items(){return this._entries}get canAdd(){return this._entries.length<je.maxEntryCount}add(n,r){if(!this.canAdd)throw new Error("max entry count exceeds");const i=new we(n,r);return this._entries=[...this._entries,i],i.id}remove(n){this._entries=this._entries.filter(r=>r.id!==n)}removeAll(){this._entries=[]}set(n,r,i){for(let s=0;s<this._entries.length;s++)if(this._entries[s].id===n){this._entries[s]=new we(r,i,n),this._entries=[...this._entries];break}}getById(n){return this._entries.find(r=>r.id===n)??null}load(){const n=localStorage.getItem("PstPokeBox");if(n===null)return[];const r=JSON.parse(n);if(!Array.isArray(r))return[];const i=[];for(const s of r){if(typeof s!="string")continue;const l=this.deserializeItem(s);if(l!==null&&(i.push(new we(l.iv,l.nickname)),i.length>=je.maxEntryCount))break}this._entries=i}deserializeItem(n){const r=n.indexOf("@");let i=n,s="";r!==-1&&(i=n.substring(0,r),s=n.substring(r+1));try{return{iv:se.deserialize(i),nickname:s}}catch{return null}}save(){localStorage.setItem("PstPokeBox",JSON.stringify(this._entries.map(n=>n.serialize())))}}class we{_iv;_nickname;_id;static nextId=1;constructor(n,r,i){this._iv=n,this._nickname=r??"",this._id=i!==void 0?i:we.nextId++}serialize(){const n=this._iv.serialize();return this._nickname===""?n:n+"@"+this._nickname}get iv(){return this._iv}get nickname(){return this._nickname}get id(){return this._id}filledNickname(n){return this._nickname!==""?this._nickname:n(`pokemons.${this.iv.pokemonName}`)}}class Ws{_iv;_wakeMax;constructor(n){this._iv=n,this._wakeMax=n.activeSubSkills.some(r=>r.name==="Energy Recovery Bonus")?105:100}calculate(n,r=Ft,i=!1){if(n.period<0)return{sleepTime:0,events:[],efficiencies:[],canBeFullInventory:!1,timeToFullInventory:-1,skillProbabilityAfterWakeup:{once:0,twice:0},carryLimit:Math.ceil(this._iv.carryLimit*(n.isGoodCampTicketSet?1.2:1)),skillRatio:0,helpCount:{awake:0,asleepNotFull:0,asleepFull:0},averageEfficiency:{total:0,awake:0,asleep:0}};const s=n.sleepScore*510/100,l=this._iv.nature.energyRecoveryFactor,o=Math.min(this._wakeMax,Math.round(s/510*100)*l*(1+.14*n.recoveryBonusCount)),a=n.e4eEnergy*l,d=1440-s;let u,h;if(n.isEnergyAlwaysFull)u=[{minutes:0,type:"wake",energyBefore:100,energyAfter:100,isSnacking:!1,isInPeriod:!0},{minutes:d,type:"sleep",energyBefore:100,energyAfter:100,isSnacking:!1,isInPeriod:!0},{minutes:1440,type:"wake",energyBefore:100,energyAfter:100,isSnacking:!1,isInPeriod:!0}],h=[{start:0,end:d,isAwake:!0,efficiency:2.222,isSnacking:!1,isInPeriod:!0},{start:d,end:1440,isAwake:!1,efficiency:2.222,isSnacking:!1,isInPeriod:!0}];else{u=this.createEvents(n.e4eCount,d),this.calculateEnergyForEvents(u,a,o,o,r.energyFromDish);const v=u[u.length-1].energyAfter;this.calculateEnergyForEvents(u,a,o,v,r.energyFromDish),this.addEmptyEvent(u),h=this.calculateEfficiency(u,d)}n.period<24&&this.splitEventAndEfficiencyByPeriod(u,h,n);const m=this.calculateAverageEfficiency(h.filter(v=>v.isInPeriod)),g=this.calculateAverageEfficiency(h.filter(v=>v.isInPeriod&&v.isAwake)),x=this.calculateAverageEfficiency(h.filter(v=>v.isInPeriod&&!v.isAwake)),{carryLimit:y,skillRatio:p,timeToFullInventory:f,helpCount:k,skillProbabilityAfterWakeup:C}=this.calculateSneakySnacking(u,h,n,r,i),b=n.tapFrequency==="always"&&n.tapFrequencyAsleep==="none";return{sleepTime:d,events:u,efficiencies:h,canBeFullInventory:b,timeToFullInventory:f,carryLimit:y,skillRatio:p,helpCount:k,skillProbabilityAfterWakeup:C,averageEfficiency:{total:m,awake:g,asleep:x}}}createEvents(n,r){let i=[{minutes:0,type:"wake",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0},{minutes:120,type:"cook",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0},{minutes:360,type:"cook",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0},{minutes:720,type:"cook",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0}];for(let s=0;s<n;s++)i.push({minutes:Math.floor((s+1)*930/(n+1)/10)*10,type:"e4e",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0});return i.push({minutes:r,type:"sleep",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0}),i.push({minutes:1440,type:"wake",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0}),i.sort((s,l)=>s.minutes-l.minutes)}calculateEnergyForEvents(n,r,i,s,l){n[0].energyAfter=s;for(let o=1;o<n.length;o++){const a=n[o-1],d=n[o],u=(d.minutes-a.minutes)/10;if(d.energyBefore=Math.max(0,a.energyAfter-u),d.energyAfter=d.energyBefore,d.type==="cook")d.energyAfter+=this.getEnergyRecoveryForCook(d.energyBefore)+l;else if(d.type==="e4e")d.energyAfter=Math.min(150,d.energyAfter+r);else if(d.type==="wake")d.energyAfter=Math.min(this._wakeMax,d.energyAfter+i);else if(d.type==="sleep"){d.energyAfter=d.energyBefore;continue}else{if(d.type==="empty")continue;throw new Error(`unknown event type: ${d.type}`)}d.energyAfter=Math.ceil(d.energyAfter)}n[0].energyBefore=n[n.length-1].energyBefore}addEmptyEvent(n){for(let r=1;r<n.length;r++){const i=n[r-1],l=(n[r].minutes-i.minutes)/10;if(i.energyAfter>0&&i.energyAfter<l){const o=i.minutes+i.energyAfter*10;n.splice(r,0,{minutes:o,type:"empty",energyBefore:0,energyAfter:0,isSnacking:!1,isInPeriod:!0});continue}}}calculateEfficiency(n,r){const i=[];for(let s=1;s<n.length;s++){const l=n[s-1].energyAfter,o=n[s-1].minutes,a=n[s].minutes;let d=l,u=o;for(;;){if(d<=1){d=0;break}const h=d<=40?1:d%20===0?d-20:Math.floor(d/20)*20,m=u+(d-h)*10;if(m>a)break;i.push({start:u,end:m,efficiency:this.getEfficiencyByEnergy(d),isAwake:!0,isSnacking:!1,isInPeriod:!0}),d=h,u=m}i.push({start:u,end:a,efficiency:this.getEfficiencyByEnergy(d),isAwake:!0,isSnacking:!1,isInPeriod:!0})}for(let s=0;s<i.length-1;s++)i[s].efficiency===i[s+1].efficiency&&(i[s].end=i[s+1].end,i.splice(s+1,1),s--);for(let s=0;s<i.length;s++){if(i[s].end<=r){i[s].isAwake=!0;continue}if(i[s].start>=r){i[s].isAwake=!1;continue}const l={...i[s]};i[s].end=r,i[s].isAwake=!0,l.start=r,l.isAwake=!1,i.splice(s+1,0,l)}return i}splitEventAndEfficiencyByPeriod(n,r,i){const s=i.period*60;for(let l=0;l<n.length;l++){const o=n[l],a=n[l+1]??o;if(o.minutes<s){if(o.isInPeriod=!0,a.minutes<s)continue}else if(o.minutes>=s){o.isInPeriod=!1;continue}const d=i.isEnergyAlwaysFull?o.energyAfter:Math.max(0,o.energyAfter-(s-o.minutes)/10);n.splice(l+1,0,{minutes:s,type:"empty",energyBefore:d,energyAfter:d,isSnacking:o.isSnacking,isInPeriod:!1})}for(let l=0;l<r.length;l++){const o=r[l];if(o.start>=s){o.isInPeriod=!1;continue}if(o.end<s){o.isInPeriod=!0;continue}const a={...o};o.end=s,o.isInPeriod=!0,a.start=s,a.isInPeriod=!1,r.splice(l+1,0,a)}}calculateAverageEfficiency(n){let r=0,i=0;for(const s of n){const l=s.end-s.start;r+=s.efficiency*l,i+=l}return i===0?1:Math.round(r/i*1e3)/1e3}calculateSneakySnacking(n,r,i,s,l){if(this._iv.pokemon.frequency===0)return{carryLimit:this._iv.pokemon.carryLimit,skillRatio:0,timeToFullInventory:-1,skillProbabilityAfterWakeup:{once:0,twice:0},helpCount:{total:0,awake:0,asleepNotFull:0,asleepFull:0}};const o=i.isEnergyAlwaysFull,a=i.helpBonusCount+(this._iv.hasHelpingBonusInActiveSubSkills?1:0),d=i.isGoodCampTicketSet,u=i.tapFrequency==="none",h=i.tapFrequencyAsleep==="always",m=Ze(i.fieldIndex)&&!l,g=m&&i.favoriteType[0]===this._iv.pokemon.type,x=m&&!i.favoriteType.includes(this._iv.pokemon.type),y=Math.ceil(this._iv.carryLimit*(d?1.2:1)),p=new re(this._iv),f=p.frequencyWithHelpingBonus(a)/(d?1.2:1)*(g?1-Os:1)*(x?1+Zs:1),k=p.getBagUsagePerHelp(s.berry,s.ingredient);let C=y,b=9999,v=9999;const S=u||h?[]:r.filter(E=>!E.isAwake);for(const E of S){const R=E.end-E.start,D=f/E.efficiency,q=R*60/D,O=k*q;if(O<C){C-=O;continue}b=C/k*D/60+E.start-S[0].start,v=b+S[0].start;break}for(let E=0;E<n.length;E++){const R=n[E];if(u||R.minutes>=v){R.isSnacking=!0;continue}if(E<n.length-1&&n[E+1].minutes>v){const D=o?100:Math.max(0,R.energyAfter-(v-R.minutes)/10);n.splice(E+1,0,{minutes:v,type:"snack",energyBefore:D,energyAfter:D,isSnacking:!1,isInPeriod:R.isInPeriod})}}for(let E=0;E<r.length;E++){const R=r[E];if(u||R.start>=v){R.isSnacking=!0;continue}if(v<R.end){const D=R.end;R.end=v,r.splice(E+1,0,{start:v,end:D,efficiency:R.efficiency,isAwake:R.isAwake,isSnacking:!0,isInPeriod:R.isInPeriod})}}b>1440&&(b=-1);const A=r.filter(E=>E.isInPeriod).reduce((E,R)=>E+(R.end-R.start)*60/f*R.efficiency,0),z=r.filter(E=>E.isInPeriod&&E.isAwake).reduce((E,R)=>E+(R.end-R.start)*60/f*R.efficiency,0),B=r.filter(E=>E.isInPeriod&&!E.isAwake&&!E.isSnacking).reduce((E,R)=>E+(R.end-R.start)*60/f*R.efficiency,0),I=r.filter(E=>E.isInPeriod&&!E.isAwake&&E.isSnacking).reduce((E,R)=>E+(R.end-R.start)*60/f*R.efficiency,0),N={once:0,twice:0},W=Math.ceil(B),X=p.skillRatio*s.skillTrigger;if(W>0){const E=Math.pow(1-X,W);if(this._iv.pokemon.specialty!=="Skills"&&this._iv.pokemon.specialty!=="All")N.once=1-E;else{const R=W*X*Math.pow(1-X,W-1);N.once=R,N.twice=1-E-R}}return{carryLimit:y,skillRatio:X,timeToFullInventory:b,skillProbabilityAfterWakeup:N,helpCount:{total:A,awake:z,asleepNotFull:B,asleepFull:I}}}getEnergyRecoveryForCook(n){return n>80?1:n>60?2:n>40?3:n>20?4:5}getEfficiencyByEnergy(n){return n>80?2.222:n>60?1.923:n>40?1.724:n>1?1.515:1}}const an=-2,cn=-1,ae=0,Hs=["berry","ing","skill"],Os=.1,$s=1,_s=2.4,Vs=1,Us=.5,qs=1.25,Zs=.15,qn={1:0,10:18,20:35,30:61,40:96,50:142,55:171,60:203,65:234};class Te{iv;param;isWhistle;constructor(n,r,i){if(this.param=r,this.isWhistle=!1,r.period===ae&&(this.isWhistle=!0,this.param={...r,period:3,isEnergyAlwaysFull:!0,isGoodCampTicketSet:!1,tapFrequency:"always",tapFrequencyAsleep:"always"}),this.iv=this.changePokemonIv(n,i),Ee.find(l=>l.name===n.pokemonName)===void 0)throw new Error(`Unknown name: ${n.pokemonName}`)}get pokemonIv(){return this.iv}get parameter(){return this.param}changePokemonIv(n,r){const i=this.param;if(i.level!==0&&(n=n.changeLevel(i.level)),!i.evolved)return n;const s=n.decendants;if(s.length===0)return n;let l=s.find(o=>o.id===n.pokemon.id);return l!==void 0||(l=s.find(o=>o.id===r),l===void 0&&(l=s[0]),l.id!==n.pokemon.id&&(n=n.clone(l.name))),n}calculate(){const n=this.param,r=new re(this.iv),i=r.level,s=Math.ceil(n.period/24),l=this.bonusEffects,o=new Ws(this.iv).calculate(n,l,this.isWhistle),a=n.period<0?-n.period:n.tapFrequency==="none"?0:(o.helpCount.awake+o.helpCount.asleepNotFull)*s,d=n.period<0?0:n.tapFrequency==="none"?(o.helpCount.awake+o.helpCount.asleepNotFull+o.helpCount.asleepFull)*s:o.helpCount.asleepFull*s,h=((n.recipeBonus===0?1:(1+n.recipeBonus/100)*(1+qn[n.recipeLevel]/100))*.8+.2)*(1+n.fieldBonus/100)*l.dish,m=r.ingredientRatio,g=a*m,x=1+(i>=30&&r.ingredient2.count>0?1:0)+(i>=60&&r.ingredient3.count>0?1:0),y=n.period!==ae?l.ingredient:0,p={...r.ingredient1,strength:0,helpCount:r.ingredient1.count+y};p.count=g*(1/x)*p.helpCount,p.strength=Ne[p.name]*p.count*h;const f={...r.ingredient2,strength:0,helpCount:r.ingredient2.count+y};f.count=i<30||f.count===0?0:g*(1/x)*f.helpCount,f.strength=Ne[f.name]*f.count*h;let k;k={...r.ingredient3,strength:0,helpCount:r.ingredient3.count+y},k.count=i<60||k.count===0?0:g*(1/x)*k.helpCount,k.strength=Ne[k.name]*k.count*h;const C=p.strength+f.strength+k.strength,b={},v=[];b[p.name]={...p},v.push(p.name),f.count>0&&(f.name in b||(b[f.name]={name:f.name,count:0,helpCount:0,strength:0},v.push(f.name)),b[f.name].count+=f.count,b[f.name].helpCount+=f.helpCount,b[f.name].strength+=f.strength),k!==void 0&&k.count>0&&(k.name in b||(b[k.name]={name:k.name,count:0,helpCount:0,strength:0},v.push(k.name)),b[k.name].count+=k.count,b[k.name].helpCount+=k.helpCount,b[k.name].strength+=k.strength);const S=v.map(xn=>b[xn]),A=this.iv.pokemon.frequency>0?1-m:0,z=a+d-g,B=r.berryCount+l.berry,I=r.berryStrength,N=Math.ceil(I*(1+n.fieldBonus/100)),W=z*B*Math.ceil(N*this.berryStrengthBonus),X=o.skillRatio;let E=0,R=0,D=0,q=0,O=0,Q=0,ge=0;if(n.period>ae&&n.tapFrequency!=="none"){if(n.tapFrequencyAsleep==="always")E=(o.helpCount.awake+o.helpCount.asleepNotFull)*X*s;else{const xn=o.helpCount.awake*X,pr=o.skillProbabilityAfterWakeup.once+o.skillProbabilityAfterWakeup.twice*2;E=(xn+pr)*s}({skillValue:R,skillStrength:D,skillValuePerTrigger:q,skillValue2:O,skillStrength2:Q,skillValuePerTrigger2:ge}=this.getSkillValueAndStrength(E,n,l))}const De=C+W+D+Q;return{bonus:l,energy:o,totalStrength:De,notFullHelpCount:a,fullHelpCount:d,ingRatio:m,ingHelpCount:g,ingStrength:C,ing1:p,ing2:f,ing3:k,ingredients:S,berryRatio:A,berryHelpCount:z,berryCount:B,berryStrength:N,berryRawStrength:I,berryTotalStrength:W,skillRatio:X,skillCount:E,skillValue:R,skillStrength:D,skillValuePerTrigger:q,skillValue2:O,skillStrength2:Q,skillValuePerTrigger2:ge}}getSkillValueAndStrength(n,r,i){const s=this.iv.pokemon.skill,l=this.getSkillLevel(),o=Math.ceil(r.period/24);let a=ke(s,l);s.startsWith("Ingredient Magnet S")&&(a=Math.floor(a*i.ingredientMagnet)),s.startsWith("Ingredient Draw S")&&(a=Math.floor(a*i.ingredientDraw)),s.startsWith("Dream Shard Magnet S")&&(a*=i.dreamShard);let d=1;s==="Charge Energy S"&&(d=this.iv.nature.energyRecoveryFactor);const u=a*d,h=u*n,m=300*(1+r.fieldBonus/100);switch(s){case"Charge Energy S":case"Charge Energy S (Moonlight)":case"Energizing Cheer S":case"Energy for Everyone S":return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Energy for Everyone S (Lunar Blessing)":{const p=fn(this.iv,r,i.berryBurst,l);return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:p.total*n,skillStrength2:p.total*n,skillValuePerTrigger2:p.total}}case"Dream Shard Magnet S":case"Dream Shard Magnet S (Random)":return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Charge Strength M":case"Charge Strength M (Bad Dreams)":case"Charge Strength S":case"Charge Strength S (Random)":case"Charge Strength S (Stockpile)":const g=h*(1+r.fieldBonus/100);return{skillValue:g,skillStrength:g,skillValuePerTrigger:a*(1+r.fieldBonus/100),skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Extra Helpful S":return{skillValue:h,skillStrength:h*m,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Helper Boost":return{skillValue:h,skillStrength:h*m*5,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Berry Burst (Disguise)":{const p=fn(this.iv,r,i.berryBurst,l),f=1-Math.pow(1-.18,n/o),k=p.total*n+p.total*f*2;return{skillValue:k,skillStrength:k,skillValuePerTrigger:p.total,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0}}case"Berry Burst":{const p=fn(this.iv,r,i.berryBurst,l);return{skillValue:p.total*n,skillStrength:p.total*n,skillValuePerTrigger:p.total,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0}}case"Ingredient Magnet S (Plus)":let x=bn(s,l,this.pokemonIv.pokemon.ing1.name);return x=Math.floor(x*i.ingredientMagnet),{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:x*n,skillStrength2:0,skillValuePerTrigger2:x};case"Cooking Power-Up S (Minus)":const y=bn(s,l);return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:y*n,skillStrength2:0,skillValuePerTrigger2:y};case"Ingredient Magnet S":case"Ingredient Draw S":case"Ingredient Draw S (Super Luck)":case"Ingredient Draw S (Hyper Cutter)":case"Cooking Power-Up S":case"Tasty Chance S":return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Metronome":case"Skill Copy":case"Skill Copy (Transform)":case"Skill Copy (Mimic)":return{skillValue:n,skillStrength:0,skillValuePerTrigger:1,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};default:return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0}}}getSkillLevel(){const n=this.param,r=Re(this.iv.pokemon.skill),i=this.bonusEffects;let s=Math.min(r,this.iv.skillLevel+i.skillLevel);return n.maxSkillLevel&&(s=r),s}get bonusEffects(){const n=this.param;if(this.isWhistle)return{...Ft,skillTriggerReason:"none",skillLevelReason:"none",ingredientReason:"none"};const r=Pe(n.event,n.customEventBonus),i=vr(n.event,n.customEventBonus,this.iv.pokemon),s=Ze(n.fieldIndex),l=s&&n.favoriteType[0]===this.iv.pokemon.type,o=s&&n.favoriteType.includes(this.iv.pokemon.type),a=s&&l?$s:0,d=s&&o&&this.param.expertEffect==="ing"&&this.iv.pokemon.specialty==="Ingredients"?Us:0,u=s&&o&&this.param.expertEffect==="ing"?Vs+d:0,h=s&&o&&this.param.expertEffect==="skill"?qs:1,m=i?.skillTrigger??1,g=i?.skillLevel??0,x=i?.ingredient??0;return{skillTrigger:Math.max(h,m),skillTriggerReason:h>m?"ex":"event",skillLevel:a+g,skillLevelReason:a*g!==0?"event+ex":a>0?"ex":"event",berry:i?.berry??0,ingredient:Math.max(u,x),ingredientReason:u>x?"ex":"event",dreamShard:r?.dreamShard??1,ingredientMagnet:r?.ingredientMagnet??1,ingredientDraw:r?.ingredientDraw??1,berryBurst:r?.berryBurst??1,dish:r?.dish??1,energyFromDish:r?.energyFromDish??0}}get berryStrengthBonus(){return Ze(this.param.fieldIndex)&&this.param.expertEffect==="berry"&&this.param.favoriteType.includes(this.iv.pokemon.type)?_s:this.isFavoriteBerry?2:1}get isFavoriteBerry(){if(this.param.fieldIndex===cn)return!1;if(this.param.fieldIndex===an)return!0;const{types:n}=lt(this.param);return n.includes(this.iv.pokemon.type)}}function lt(t){const n=Pe(t.event,t.customEventBonus),r=n?.fixedBerries??[],i=n?.fixedAreas??[],s=br(t.fieldIndex);let l=[],o=["random","random","random"];if(i.includes(t.fieldIndex)&&r.length===3){for(let a=0;a<3;a++)r[a]===null?o[a]="random":o[a]="set for event";l=[...t.favoriteType]}else s.length===3?(o=["set for field","set for field","set for field"],l=s):l=t.favoriteType;return{types:l,reasons:o}}function ot(t){return{...{period:24,fieldBonus:0,fieldIndex:cn,favoriteType:["normal","fire","water"],helpBonusCount:0,e4eEnergy:18,e4eCount:3,recoveryBonusCount:0,isEnergyAlwaysFull:!1,sleepScore:100,isGoodCampTicketSet:!1,expertEffect:"berry",event:"none",level:0,evolved:!1,maxSkillLevel:!1,tapFrequency:"always",tapFrequencyAsleep:"none",recipeBonus:25,recipeLevel:30,helperBoostLevel:6,helperBoostSpecies:4,berryBurstTeam:{auto:!0,species:3,members:[{type:"electric",level:50},{type:"water",level:50},{type:"bug",level:50},{type:"psychic",level:50}]},customEventBonus:{target:{},effects:{berry:0,skillTrigger:1,skillLevel:0,ingredient:0,dreamShard:1,ingredientMagnet:1,ingredientDraw:1,berryBurst:1,dish:1,energyFromDish:0,fixedAreas:[],fixedBerries:[]}}},...t}}function Wt(t,n){if(!n.berryBurstTeam.auto)return n.berryBurstTeam.members;const r=t.level,i=lt(n).types,s=i.filter(o=>o!==t.pokemon.type),l=i.find(o=>o==="psychic"||o==="electric"||o==="fairy")??"psychic";return[{type:t.pokemon.type,level:r},{type:s.length>0?s[0]:i[0],level:r},{type:"steel",level:r},{type:l,level:r}]}function fn(t,n,r,i){const s=i??t.skillLevel,l=Wt(t,n);let o,a;switch(t.pokemon.skill){case"Berry Burst":case"Berry Burst (Disguise)":o=Math.floor(r*ke(t.pokemon.skill,s)),a=Math.floor(r*bn(t.pokemon.skill,s));break;case"Energy for Everyone S (Lunar Blessing)":const m=Ds(s,n.berryBurstTeam.auto?l.filter(g=>g.type===t.pokemon.type).length:n.berryBurstTeam.species);o=Math.floor(m.myBerryCount),a=Math.floor(m.othersBerryCount);break;default:throw new Error(`Invalid skill: ${t.pokemon.skill}`)}const d=[t.level,l[0].level,l[1].level,l[2].level,l[3].level],u=[t.pokemon.type,l[0].type,l[1].type,l[2].type,l[3].type],h={total:0,members:[]};for(let m=0;m<5;m++){const g=new se(Ee.find(k=>k.type===u[m])?.name??"Bulbasaur");g.level=d[m];const x=new re(g).berryStrength,y=Math.ceil(Math.ceil(x*(1+n.fieldBonus/100))*new Te(g,n).berryStrengthBonus),p=m===0?o:a,f=y*p;h.total+=f,h.members.push({total:f,perBerry:y,count:p})}return h}function Gs(){const t=ot({}),n=localStorage.getItem("PstStrenghParam");if(n===null)return t;const r=JSON.parse(n);if(typeof r!="object"||r===null)return t;if(typeof r.period=="number"&&[1,3,8,16,24,168,ae,-10,-30,-100].includes(r.period)&&(t.period=r.period),typeof r.fieldBonus=="number"&&Math.floor(r.fieldBonus/5)===r.fieldBonus/5&&r.fieldBonus>=0&&r.fieldBonus<=100&&(t.fieldBonus=r.fieldBonus),typeof r.fieldIndex=="number"&&Math.floor(r.fieldIndex)===r.fieldIndex&&r.fieldIndex>=an&&r.fieldIndex<ze.length&&(t.fieldIndex=r.fieldIndex),Array.isArray(r.favoriteType)&&r.favoriteType.length===3&&r.favoriteType.every(s=>Be.includes(s))&&(t.favoriteType=r.favoriteType),typeof r.helpBonusCount=="number"&&Math.floor(r.helpBonusCount)===r.helpBonusCount&&r.helpBonusCount>=0&&r.helpBonusCount<=4&&(t.helpBonusCount=r.helpBonusCount),typeof r.isGoodCampTicketSet=="boolean"&&(t.isGoodCampTicketSet=r.isGoodCampTicketSet),typeof r.expertEffect=="string"&&Hs.includes(r.expertEffect)&&(t.expertEffect=r.expertEffect),typeof r.level=="number"&&[0,10,25,30,50,55,60,75,100].includes(r.level)&&(t.level=r.level),typeof r.evolved=="boolean"&&(t.evolved=r.evolved),typeof r.maxSkillLevel=="boolean"&&(t.maxSkillLevel=r.maxSkillLevel),typeof r.e4eEnergy=="number"&&[5,7,9,11,15,18].includes(r.e4eEnergy)&&(t.e4eEnergy=r.e4eEnergy),typeof r.e4eCount=="number"&&r.e4eCount>=0&&r.e4eCount<=10&&(t.e4eCount=r.e4eCount),typeof r.recoveryBonusCount=="number"&&r.recoveryBonusCount>=0&&r.recoveryBonusCount<=5&&(t.recoveryBonusCount=Math.min(r.recoveryBonusCount,4)),typeof r.isEnergyAlwaysFull=="boolean"&&(t.isEnergyAlwaysFull=r.isEnergyAlwaysFull),typeof r.sleepScore=="number"&&0<=r.sleepScore&&r.sleepScore<=100&&(t.sleepScore=r.sleepScore),typeof r.tapFrequency=="string"&&["always","none"].includes(r.tapFrequency)&&(t.tapFrequency=r.tapFrequency),typeof r.tapFrequencyAsleep=="string"&&["always","none"].includes(r.tapFrequencyAsleep)&&(t.tapFrequencyAsleep=r.tapFrequencyAsleep),typeof r.recipeBonus=="number"&&[0,6,11,17,19,20,25,35,48,61].includes(r.recipeBonus)&&((r.recipeBonus===6||r.recipeBonus===11)&&(r.recipeBonus=19),r.recipeBonus===17&&(r.recipeBonus=21),t.recipeBonus=r.recipeBonus),typeof r.recipeLevel=="number"&&[1,10,20,30,40,50,55,60,65].includes(r.recipeLevel)&&(t.recipeLevel=r.recipeLevel),typeof r.helperBoostLevel=="number"&&r.helperBoostLevel>0&&r.helperBoostLevel<=Re("Helper Boost")&&(t.helperBoostLevel=r.helperBoostLevel),typeof r.helperBoostSpecies=="number"&&r.helperBoostSpecies>0&&r.helperBoostSpecies<=6&&(t.helperBoostSpecies=r.helperBoostSpecies),typeof r.recipeLevel=="number"&&[1,10,20,30,40,50,55,60,65].includes(r.recipeLevel)&&(t.recipeLevel=r.recipeLevel),typeof r.berryBurstTeam=="object"&&(typeof r.berryBurstTeam.auto=="boolean"&&(t.berryBurstTeam.auto=r.berryBurstTeam.auto),Array.isArray(r.berryBurstTeam.members)))for(let s=0;s<4;s++)typeof r.berryBurstTeam.members[s]=="object"&&(Be.includes(r.berryBurstTeam.members[s].type)&&(t.berryBurstTeam.members[s].type=r.berryBurstTeam.members[s].type),r.berryBurstTeam.members[s].level>0&&r.berryBurstTeam.members[s].level<=100&&(t.berryBurstTeam.members[s].level=r.berryBurstTeam.members[s].level));const i=_n.bonus.map(s=>s.name);return typeof r.event=="string"&&["none","custom",...i].includes(r.event)&&(t.event=r.event),typeof r.customEventBonus=="object"&&(t.customEventBonus=Sr(r.customEventBonus)),t}const kn=new je;kn.load();function Ks(){const t=Xs();let n=new se("Venusaur");if(t.iv!=="")try{n=se.deserialize(t.iv)}catch{}let r=-1;if(t.selectedIv!=="")try{const l=se.deserialize(t.selectedIv),o=kn.items.findIndex(a=>a.iv.isEqual(l));o>=0&&(r=kn.items[o].id)}catch{}const i={tabIndex:t.tabIndex,lowerTabIndex:t.lowerTabIndex,pokemonIv:n,parameter:Gs(),box:kn,selectedItemId:r,energyDialogOpen:!1,boxItemDialogOpen:!1,boxItemDialogKey:"",boxItemDialogIsEdit:!1,boxExportDialogOpen:!1,boxImportDialogOpen:!1,boxDeleteAllDialogOpen:!1,alertMessage:""},s=document.location.hash.match(/#p=(.*)/);if(s!==null)try{i.pokemonIv=se.deserialize(s[1])}catch{}return i}function Xs(){const t={tabIndex:0,lowerTabIndex:0,iv:"",selectedIv:""},n=localStorage.getItem("PstIvState");if(n===null)return t;const r=JSON.parse(n);return typeof r!="object"||r===null||(typeof r.tabIndex=="number"&&r.tabIndex>=0&&r.tabIndex<=2&&(t.tabIndex=r.tabIndex),typeof r.lowerTabIndex=="number"&&r.lowerTabIndex>=0&&r.lowerTabIndex<=2&&(t.lowerTabIndex=r.lowerTabIndex),typeof r.iv=="string"&&(t.iv=r.iv),typeof r.selectedIv=="string"&&(t.selectedIv=r.selectedIv)),t}function We(t){const n=t.box.getById(t.selectedItemId),r={tabIndex:t.tabIndex,lowerTabIndex:t.lowerTabIndex,iv:t.pokemonIv.serialize(),selectedIv:n===null?"":n.iv.serialize()};localStorage.setItem("PstIvState",JSON.stringify(r))}function Js(t,n){const r=n.type,i=t.box.getById(t.selectedItemId);if(r==="changeUpperTab"){let o=n.payload.index,a=t.lowerTabIndex;o!==1&&a===2&&(a=0);const d={...t,tabIndex:o,lowerTabIndex:a};return We(d),d}if(r==="changeLowerTab"){const o={...t,lowerTabIndex:n.payload.index};return We(o),o}if(r==="changeParameter"){const o=n.payload.parameter,a={...t,parameter:o};return Ye(a,t.pokemonIv),localStorage.setItem("PstStrenghParam",JSON.stringify(a.parameter)),a}if(r==="openEnergyDialog")return{...t,energyDialogOpen:!0};if(r==="closeEnergyDialog")return{...t,energyDialogOpen:!1};if(r==="add")return t.box.canAdd?{...t,boxItemDialogOpen:!0,boxItemDialogKey:"dlg"+new Date().getTime().toString(),boxItemDialogIsEdit:!1}:{...t,alertMessage:"box is full"};if(r==="updateIv"){const o=Ye(t,n.payload.iv);return We(o),o}if(r==="addThis"){if(!t.box.canAdd)return{...t,alertMessage:"box is full"};const o=new je(t.box.items),a=o.add(t.pokemonIv);return o.save(),{...t,box:o,selectedItemId:a}}if(r==="export")return{...t,boxExportDialogOpen:!0};if(r==="exportClose")return{...t,boxExportDialogOpen:!1};if(r==="import")return t.box.canAdd?{...t,boxImportDialogOpen:!0}:{...t,alertMessage:"box is full"};if(r==="importClose"){const o=new je(t.box.items);return{...t,box:o,boxImportDialogOpen:!1}}if(r==="deleteAll")return{...t,boxDeleteAllDialogOpen:!0};if(r==="deleteAllClose")return{...t,boxDeleteAllDialogOpen:!1};if(r==="restoreItem"){if(i!==null){const o={...Ye(t,i.iv)};return We(o),o}return t}if(r==="saveItem"){const o=t.box.getById(t.selectedItemId)?.nickname,a=new je(t.box.items);a.set(t.selectedItemId,t.pokemonIv,o),a.save();const d={...t,box:a};return We(d),d}if(r==="editDialogClose")return{...t,boxItemDialogOpen:!1};if(r==="addOrEditDone"){const o=n.payload.item,a=new je(t.box.items);let d=t.selectedItemId;o.id===-1?d=a.add(o.iv,o.nickname):a.set(o.id,o.iv,o.nickname),a.save();const h={...Ye(t,o.iv),box:a,selectedItemId:d};return We(h),h}if(r==="showAlert")return{...t,alertMessage:n.payload.message};if(r==="closeAlert")return{...t,alertMessage:""};if(r!=="select"&&r!=="edit"&&r!=="dup"&&r!=="remove")return t;const s=n.payload.id,l=t.box.getById(s);if(l===null)return t;if(r==="select"){const a={...Ye(t,l.iv),selectedItemId:s};return We(a),a}else{if(r==="edit")return{...t,boxItemDialogOpen:!0,boxItemDialogKey:"dlg"+new Date().getTime().toString(),boxItemDialogIsEdit:!0};if(r==="dup"){const o=new je(t.box.items),a=o.add(l.iv.clone(),l.nickname);return o.save(),{...t,box:o,selectedItemId:a}}else if(r==="remove"){const o=new je(t.box.items);return o.remove(s),o.save(),{...t,box:o}}}return t}function Ye(t,n){const r=t.box.getById(t.selectedItemId);n.normalize();const i=Pe(t.parameter.event,t.parameter.customEventBonus);if(i!==void 0&&i.fixedBerries!==void 0&&i.fixedBerries?.length===3&&i.fixedAreas?.includes(t.parameter.fieldIndex)){let l=!1;const o=Ze(t.parameter.fieldIndex);for(let a=0;a<3;a++)if(i.fixedBerries[a]!==null&&(o&&!t.parameter.favoriteType.includes(i.fixedBerries[a])||!o&&t.parameter.favoriteType[a]!==i.fixedBerries[a])){l=!0;break}l&&(t.parameter.favoriteType=[...i.fixedBerries],t.parameter.favoriteType[1]===null&&(t.parameter.favoriteType[1]=Be.find(a=>!t.parameter.favoriteType.includes(a))??"normal"),t.parameter.favoriteType[2]===null&&(t.parameter.favoriteType[2]=Be.find(a=>!t.parameter.favoriteType.includes(a))??"normal"))}if(!t.parameter.berryBurstTeam.auto&&t.pokemonIv.pokemon.skill==="Energy for Everyone S (Lunar Blessing)"){const l=t.parameter.berryBurstTeam.members.filter(o=>o.type===t.pokemonIv.pokemon.type).length+1;l<=2?t.parameter.berryBurstTeam.species=l:t.parameter.berryBurstTeam.species=Math.min(l,t.parameter.berryBurstTeam.species)}let s=t.selectedItemId;return r!==null&&(r.iv.pokemon.ancestor!==n.pokemon.ancestor&&(s=-1),r.iv.pokemon.ancestor===null&&r.iv.pokemon.id!==n.pokemon.id&&(s=-1)),{...t,pokemonIv:n,selectedItemId:s}}function at(t){if(navigator.clipboard)return navigator.clipboard.writeText(t);const n=document.createElement("textarea");n.readOnly=!0,n.value=t,n.style.position="absolute",n.style.opacity="0",document.body.appendChild(n),n.setSelectionRange(0,t.length);const r=document.execCommand("copy");return n.parentNode?.removeChild(n),r?Promise.resolve():Promise.reject()}function Ht(t,n,r){const i=t.serialize(),l=`${window.location.href.split("#")[0].replace(/utm_source=homescreen&?/,"").replace(/\?$/,"")}#p=${i}`;return navigator.share?navigator.share({url:l}):at(l).then(()=>{const o=r("copied");n({type:"showAlert",payload:{message:o}})})}const Qs=c.memo(({state:t,isBoxEmpty:n,dispatch:r})=>{const i=t.tabIndex,s=t.lowerTabIndex,[l,o]=c.useState(null),{t:a}=T(),d=!!l&&s===0,u=!!l&&s===1,h=c.useRef(null),m=c.useCallback(f=>{o(null);const k=f.currentTarget.getAttribute("data-value")||"";r({type:k}),k==="addThis"&&ni(h.current)},[r]),g=c.useCallback(()=>{o(null),Ht(t.pokemonIv,r,a)},[r,t.pokemonIv,a]),x=c.useCallback((f,k)=>{r({type:"changeLowerTab",payload:{index:k}}),o(null)},[r]),y=c.useCallback(f=>{o(f.currentTarget)},[]),p=c.useCallback(()=>{o(null)},[]);return e.jsxs(Ys,{children:[s!==2&&e.jsx(oe,{"aria-label":"actions",color:"inherit",onClick:y,children:e.jsx(Qn,{})}),e.jsxs(ei,{value:s,onChange:x,children:[e.jsx(Pn,{label:a("pokemon")}),e.jsx(Pn,{label:a("box"),ref:h}),i===1&&e.jsx(Pn,{label:a("parameter")})]}),e.jsx(on,{anchorEl:l,open:d,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxs($e,{children:[e.jsxs(j,{onClick:m,"data-value":"addThis",children:[e.jsx(ee,{children:e.jsx(Rt,{})}),a("add to box")]}),e.jsxs(j,{onClick:g,"data-value":"share",children:[e.jsx(ee,{children:e.jsx(Yn,{})}),a("share")]})]})}),e.jsx(on,{anchorEl:l,open:u,onClose:p,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxs($e,{children:[e.jsxs(j,{"data-value":"export",onClick:m,disabled:n,children:[e.jsx(ee,{children:e.jsx(Ar,{})}),a("export")]}),e.jsxs(j,{"data-value":"import",onClick:m,children:[e.jsx(ee,{children:e.jsx(Lr,{})}),a("import")]}),e.jsx(un,{}),e.jsxs(j,{"data-value":"deleteAll",onClick:m,disabled:n,children:[e.jsx(ee,{children:e.jsx(Rr,{})}),a("delete all")]})]})})]})}),Ys=M("div")({marginTop:"clamp(.3rem, 0.6vh, .7rem)","& > button.MuiIconButton-root":{float:"right",color:"#999"}}),ei=M(Cn)({minHeight:"clamp(20px, 3vh, 36px)",marginBottom:"clamp(.3rem, 0.6vh, .7rem)"}),Pn=M(wn)({minHeight:"clamp(20px, 3vh, 36px)",padding:"6px 16px"});function ni(t){if(t===null)return;const n=t.getBoundingClientRect(),r=n.x+window.scrollX,i=n.y+window.scrollY,s=document.documentElement.clientWidth,l=400,o=document.createElement("div");o.style.position="absolute",o.style.left=`${r}px`,o.style.top=`${i}px`,o.style.width=`${n.width}px`,o.style.height=`${n.height}px`,o.style.background="#1976d2",o.style.opacity="0.6",o.style.transformOrigin="top left",o.style.zIndex="2",document.body.appendChild(o);const a=o.animate([{transform:`translateX(${-r}px) translateY(${n.height}px) scale(${s/n.width}, ${l/n.height})`},{transform:"translateX(0) translateY(0) scale(1, 1)",opacity:.1}],{duration:200,easing:"ease-out",iterations:1});a.onfinish=d=>{document.body.removeChild(o)}}const Nn=c.memo(({idForm:t,size:n})=>{const r=c.useContext(An);if(r.iconUrl!==null&&r.iconUrl.match(/^https?:\/\//)){let s=r.iconUrl;const l=se.getIdByIdForm(t);return s=s.replace(/@ID(\d)@/g,(o,a)=>l.toString().padStart(parseInt(a,10),"0")),e.jsx("img",{src:s,width:n,height:n,alt:l.toString()})}const i=ti(t,n);return e.jsx(si,{style:{width:`${n}px`,height:`${n}px`},children:e.jsx("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,children:i})})});function ti(t,n){let r;if(t in Ln)r=t;else if(r=se.getIdByIdForm(t),!(r in Ln))return ri(n);const i=Ln[r],s=[];let l=0;for(const o of i){const a={};o.r!==void 0&&(a.rx=a.ry=(n*o.r).toFixed(1)),s.push(e.jsx("rect",{x:(n*o.x).toFixed(1),y:(n*o.y).toFixed(1),width:(n*o.w).toFixed(1),height:(n*o.h).toFixed(1),fill:o.color,...a},l)),l++}return s}function ri(t){return[e.jsx("rect",{x:"0",y:"0",width:t,height:t,fill:"#bbbbbb"})]}const si=M("div")({border:"1px solid #999",borderRadius:".5rem",overflow:"hidden"}),gn=c.memo(({anchorEl:t,children:n,open:r,onClose:i})=>{const s=c.useCallback(l=>{l.target===t&&l.preventDefault(),i()},[t,i]);return e.jsx(Bn,{open:r,anchorEl:t,placement:"bottom-start",style:{zIndex:2147483647,maxWidth:"95vw"},children:e.jsx(et,{elevation:10,children:e.jsx(zr,{onClickAway:s,children:n})})})}),Ot=c.memo(({value:t,sortTypes:n,onChange:r,onFilterButtonClick:i})=>{const{t:s}=T(),[l,o]=c.useState(!1),a=c.useRef(null),d=w.useCallback(x=>{o(!0)},[o]),u=w.useCallback(()=>{o(!1)},[o]),h=w.useCallback(()=>{r({...t,descending:!t.descending})},[t,r]),m=w.useCallback(x=>{const y=x.currentTarget.getAttribute("data-value");y!=null&&(r({...t,sort:y}),o(!1))},[t,r,o]),g=n.map(x=>e.jsx(j,{onClick:m,"data-value":x,selected:t.sort===x,children:s(x)},x));return e.jsxs(ii,{children:[e.jsxs(Zn,{style:{padding:".2rem .8rem",marginRight:".5rem",width:"4.5rem",textAlign:"left"},onClick:i,children:[e.jsx(In,{style:{paddingRight:"0"}}),s(t.isFiltered?"on":"off")]},t.isFiltered.toString()),e.jsxs(Zn,{style:{padding:".2rem .8rem",marginRight:".5rem",width:"9rem",textAlign:"left"},onClick:d,ref:a,children:[e.jsx(Pr,{style:{paddingRight:".4rem"}}),s(t.sort)]}),e.jsx(gn,{open:l,onClose:u,anchorEl:a.current,children:e.jsx($e,{children:g})}),e.jsx(li,{className:t.descending?"desc":"asc",onClick:h,children:e.jsx(Dr,{style:{width:"1rem",height:"1rem"}})})]})}),ii=M("div")({backgroundColor:"#f76",padding:".5rem .5rem"}),Zn=M(Mn)({borderRadius:"3rem",background:"white",fontSize:".8rem",color:"#000",justifyContent:"left",boxShadow:"0 2px 2px 1px #88666666",fontFamily:"M PLUS 1p",svg:{width:"1.2rem",height:"1.2rem",color:"#24da6d"}}),li=M(Zn)({padding:".2rem",translation:"0.2s",svg:{width:"1rem",height:"1rem",transform:"translateY(0%)",transition:"0.2s"},"&.desc svg":{transform:"rotate(180deg)",transition:"0.2s"}}),He=c.memo(c.forwardRef(({size:t,type:n,checked:r,disabled:i,deletable:s,onClick:l,onDelete:o},a)=>{const{t:d}=T(),u=w.useCallback(h=>{const m=h.nativeEvent.target?.closest(".deleteIcon")!=null,g=h.currentTarget.value;m?o?.(g):l(g)},[l,o]);return e.jsxs(oi,{ref:a,size:t??"medium",className:`${n}${s?" deletable":""}${i?" disabled":""}`,value:n,onClick:u,children:[d(`types.${n}`),r&&e.jsx(Ie,{}),s&&e.jsx(Wr,{className:"deleteIcon"})]},n)})),oi=M(F)({width:"5rem",color:"white",fontSize:"0.9rem",padding:0,margin:"0.2rem",borderRadius:"0.5rem","&.MuiButton-sizeSmall":{width:"4.6rem",fontSize:"0.8rem","&.deletable":{width:"5.6rem"},"&.disabled":{opacity:.7}},"& > svg":{position:"absolute",background:"#24d76a",borderRadius:"18px",fontSize:"16px",padding:"1px",border:"2px solid white",right:"-4px",top:"-4px","&.deleteIcon":{position:"absolute",background:"#ffffff",color:"#888888",borderRadius:"50%",fontSize:"14px",border:0,right:"-4px",top:"-2px"}},"&.normal":{backgroundColor:"#939393"},"&.fire":{backgroundColor:"#e8554d"},"&.water":{backgroundColor:"#579bf3"},"&.electric":{backgroundColor:"#f1c525"},"&.grass":{backgroundColor:"#57a747"},"&.ice":{backgroundColor:"#68c5df"},"&.fighting":{backgroundColor:"#e8a33b"},"&.poison":{backgroundColor:"#ab7aca"},"&.ground":{backgroundColor:"#c8a841"},"&.flying":{backgroundColor:"#add5ea"},"&.psychic":{backgroundColor:"#ed6c94"},"&.bug":{backgroundColor:"#a5ab39"},"&.rock":{backgroundColor:"#b2b194"},"&.ghost":{backgroundColor:"#8d658e"},"&.dragon":{backgroundColor:"#7482e9"},"&.dark":{backgroundColor:"#706261"},"&.steel":{backgroundColor:"#94b1c2"},"&.fairy":{backgroundColor:"#e48fe3"}}),Ae=c.memo(({specialty:t,checked:n,disabled:r,onClick:i})=>{const{t:s}=T(),l=w.useCallback(a=>{const d=a.currentTarget.value;i?.(d)},[i]);let o="";switch(t){case"Berries":o="berry";break;case"Ingredients":o="ingredient";break;case"Skills":o="skill";break}return r===!0?e.jsx(ai,{className:o,children:s(o)},t):e.jsxs(ci,{className:`${o} ${n?"checked":""}`,value:t,onClick:l,children:[s(o),n&&e.jsx(Ie,{})]},t)}),ai=M("span")({display:"inline-block",width:"4rem",fontSize:".6rem",padding:".1rem 0",textAlign:"center",color:"white",borderRadius:".6rem",verticalAlign:"20%","&.berry":{backgroundColor:"#24d76a"},"&.ingredient":{backgroundColor:"#fab855"},"&.skill":{backgroundColor:"#44a2fd"}}),ci=M(F)({width:"5.5rem",color:"white",fontSize:"0.8rem",padding:0,margin:"0.2rem",borderRadius:"1rem",textTransform:"none","& > svg":{position:"absolute",background:"#24d76a",borderRadius:"10px",fontSize:"15px",border:"2px solid white",right:"calc(50%-15px)",top:"calc(50%-15px)"},"&.berry":{backgroundColor:"#24d76a"},"&.berry.checked":{backgroundColor:"#bde9bb"},"&.ingredient":{backgroundColor:"#fab855"},"&.ingredient.checked":{backgroundColor:"#f3dcb3"},"&.skill":{backgroundColor:"#44a2fd"},"&.skill.checked":{backgroundColor:"#b8d0fa"}}),di=M("div")({margin:"clamp(.3rem, 0.7vh, .5rem) 0",display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:".4rem .5rem"}),ui=c.memo(({value:t,onChange:n})=>{const[r,i]=c.useState(!1),[s,l]=c.useState(10),o=c.useCallback(u=>{l(parseInt(u.currentTarget.name,10)),i(!0)},[l,i]),a=c.useCallback(u=>{l(u)},[l]),d=c.useCallback(()=>{i(!1)},[i]);return e.jsxs(di,{children:[e.jsx(en,{level:10,value:t.lv10,onClick:o}),e.jsx(en,{level:25,value:t.lv25,onClick:o}),e.jsx(en,{level:50,value:t.lv50,onClick:o}),e.jsx(en,{level:75,value:t.lv75,onClick:o}),e.jsx(en,{level:100,value:t.lv100,onClick:o}),e.jsx(gi,{open:r,level:s,value:t,onClose:d,onChange:n,onLevelChange:a})]})}),$t=M(Mn)(({theme:t})=>{const n=t.typography.button;return{fontFamily:n.fontFamily,fontSize:"0.8rem",fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,lineHeight:n.lineHeight,height:"1.6rem",padding:".2rem",border:"1px solid #999",borderRadius:".4rem",background:"#d0d0d0","&.gold":{background:"#fbe778",borderColor:"#c19255"},"&.blue":{background:"#d3e9f7",borderColor:"#5e7da0"},"&.white":{background:"#f3f3f3",borderColor:"#999999"},"&.selected":{background:"#888c8f"}}}),en=c.memo(({level:t,value:n,onClick:r})=>{const{t:i}=T(),s=n===null?"":i(`subskill.${n.name}`);let l="";return n?.isGold?l="gold":n?.isBlue?l="blue":n?.isWhite&&(l="white"),e.jsx($t,{name:t.toString(),className:l,onClick:r,children:s})}),hi=M("div")({header:{fontSize:".9rem"},"& div.subskill_list50":{margin:".2rem 0 1.2rem 0",display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:".3rem","& button":{fontSize:"0.75rem",whiteSpace:"nowrap"}},"& div.subskill_list25":{margin:".8rem 0",display:"grid",gridTemplateColumns:"max-content 2.5rem 2.5rem 2.5rem",gridGap:".3rem","& header":{textAlign:"right",paddingRight:".8rem"}}}),mi=M(zt)(({theme:t})=>({position:"absolute",right:".5rem",top:"0","& .MuiBadge-badge":{border:`2px solid ${t.palette.background.paper}`,backgroundColor:"#24d76a",padding:0,"& > svg":{width:"14px",height:"14px",fontSize:"12px",padding:0,margin:0}},"&.isnum .MuiBadge-badge":{padding:"0 4px"}})),gi=c.memo(({open:t,value:n,level:r,onChange:i,onClose:s,onLevelChange:l})=>{const{t:o}=T(),a=c.useCallback(h=>{const m=new Fe(n),g=new U(h),x=m.getSubSkillLevel(g);x===-1?m.set(r,g):m.set(x,null),i({value:m}),m.lv10===null?l(10):m.lv25===null?l(25):m.lv50===null?l(50):m.lv75===null?l(75):m.lv100===null?l(100):s()},[i,s,l,r,n]),d=c.useCallback(()=>{i({value:new Fe}),l(10)},[i,l]),u=c.useCallback(h=>{const m=n.getSubSkillLevel(h);return m<0?0:m},[n]);return e.jsxs(V,{open:t,onClose:s,children:[e.jsx("div",{style:{padding:"1.2rem 1rem 1rem 1rem",fontSize:"1.1rem"},children:e.jsx(J,{i18nKey:"select subskill at level xxx",components:{level:e.jsxs("strong",{children:[o("level")," ",r]})}})}),e.jsx("div",{style:{padding:"0 1rem"},children:e.jsx(_t,{subSkill2Badge:u,onClick:a})}),e.jsxs($,{children:[e.jsx(F,{onClick:d,children:o("clear")}),e.jsx(F,{onClick:s,children:o("close")})]})]})}),_t=c.memo(({subSkill2Badge:t,onClick:n})=>{const{t:r}=T(),i=c.useCallback(l=>{n(l.currentTarget.value)},[n]),s=c.useCallback((l,o)=>{const a=new U(l),d=a.isGold?"gold":a.isBlue?"blue":"white",u=t(a),h=u!==0?`${d} selected`:d;return o===void 0&&(o=r(`subskill.${l}`)),e.jsx(e.Fragment,{children:e.jsxs($t,{onClick:i,className:h,value:l,children:[o,e.jsx(mi,{color:"secondary",badgeContent:u,max:100,className:typeof u=="number"?"isnum":""})]})})},[i,t,r]);return e.jsxs(hi,{children:[e.jsx("header",{children:r("subskill.Gold colored")}),e.jsxs("div",{className:"subskill_list50",children:[s("Berry Finding S",void 0),s("Helping Bonus",void 0),s("Sleep EXP Bonus",void 0),s("Research EXP Bonus",void 0),s("Energy Recovery Bonus",void 0),s("Dream Shard Bonus",void 0)]}),e.jsxs("div",{className:"subskill_list25",children:[e.jsx("header",{children:r("subskill.Skill Level Up")}),s("Skill Level Up M","M"),s("Skill Level Up S","S"),e.jsx("span",{}),e.jsx("header",{children:r("subskill.Skill Trigger")}),s("Skill Trigger M","M"),s("Skill Trigger S","S"),e.jsx("span",{}),e.jsx("header",{children:r("subskill.Helping Speed")}),s("Helping Speed M","M"),s("Helping Speed S","S"),e.jsx("span",{}),e.jsx("header",{children:r("subskill.Ingredient Finder")}),s("Ingredient Finder M","M"),s("Ingredient Finder S","S"),e.jsx("span",{}),e.jsx("header",{children:r("subskill.Inventory Up")}),s("Inventory Up L","L"),s("Inventory Up M","M"),s("Inventory Up S","S")]})]})}),pi=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M100,43.7c-5.5,0-11.4-.7-19.1-1.7-23.9-5.9-48.6,3.8-62.9,25.1-12.5,18.5-13.9,38.9-10.1,59.4,3.8,21.1,13.4,39.8,31.2,54,15.3,14.6,31.3,18,50,10.2,4.2-.3,7-1.4,10.9-1.7,3.9.3,6.7,1.4,10.9,1.7,18.8,7.8,34.8,4.4,50-10.2,17.8-14.1,27.4-32.9,31.2-54,3.7-20.5,2.3-40.9-10.1-59.4-14.3-21.3-39.1-31-62.9-25.1-7.7,1-13.6,1.7-19.1,1.7Z",fill:"#ef3930",strokeWidth:"0"}),e.jsx("path",{d:"M101.8,56.7c15.2,0,28.1-9.9,32-16.3-4.9,0-9.8.5-14.7,1.7-7.7,1-13.6,1.7-19.1,1.7-5.5,0-11.4-.7-19.1-1.7-3.7-.9-7.4-1.4-11.1-1.6,3.9,6.5,16.8,16.3,31.9,16.3Z",fill:"#b52a2a",strokeWidth:"0"}),e.jsx("path",{d:"M192.5,120.3h.7c-1.4,11.1-4.5,21.9-9.3,31.6-3.9,8.1-9.1,15.4-15.4,21.8-6.5,6.5-13.9,13.2-22.2,17.2-7.5,3.6-15.9,4.7-24.1,3.2-6.9-1.2-13.1-4.9-20.2-5.1-4.8-.2-9,.3-13.6,1.9-8.5,2.9-16.8,4.9-25.7,3.1-9.1-1.9-16.4-7.1-23.2-13.1s-13.2-12.1-18.2-19.8c-4.4-6.7-7.8-14-10.3-21.7,42.3,29.3,144.3,13.7,181.5-19.1Z",fill:"#b52a2a",strokeWidth:"0"}),e.jsx("path",{d:"M160.9,167.4c-13.5,4.7-17.5-9.9-25.3-9-9.1,1-9.7,16-35.6,15.7-22.7-.3-30.2-16-34.8-16.6-9.8-1.2-6.6,11.2-15.5,12.6-11.8,1.9-21.7-6.8-32-14.9,5.1,9.5,12.1,18,21.3,25.3,15.3,14.6,31.3,18,50,10.2,4.2-.3,7-1.4,10.9-1.7,3.9.3,6.7,1.4,10.9,1.7,18.8,7.8,34.8,4.4,50-10.2,11.6-9.2,19.6-20.3,24.9-32.8-7.8,7.9-18.2,17.3-25,19.7Z",fill:"#cc8d27",strokeWidth:"0"}),e.jsx("path",{d:"M115.6,42.5c8.9-1.1,17.1-2.9,26.1-1.5,8.3,1.3,16.3,4.4,23.3,9.1,15.9,10.7,25.9,28.7,28.3,47.5.9,7.4.9,15.1,0,22.7-1.4,11-4.5,21.8-9.3,31.5-3.9,8.1-9.1,15.4-15.4,21.8-6.5,6.5-13.9,13.2-22.2,17.2-7.5,3.6-15.9,4.7-24.1,3.2-6.9-1.2-13.1-4.9-20.2-5.1-4.8-.2-9,.3-13.6,1.9-8.5,2.9-16.8,4.9-25.7,3.1-9.1-1.9-16.4-7.1-23.2-13.1s-13.2-12.1-18.2-19.8c-4.4-6.7-7.8-14-10.3-21.7-3.2-9.9-4.8-20.3-4.9-30.6-.5-37,28-72.5,67.3-68.2,4.6.5,9.1,1.6,13.7,2.1",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M106.4,5.2l7.7,5.4c-3,6.4-9.5,13.5-12.7,39,0,0-4-16.4-2.7-27s7.8-17.4,7.8-17.4Z",fill:"#8c5144",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"})]})),xi=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M193.36,92.75c9.38,40.44-29.37,83.97-29.37,83.97,0,0-53.96-22.03-63.34-62.47s12.76-79.01,29.37-83.97c15.58-4.66,53.96,22.03,63.34,62.47Z",fill:"#6da06a",strokeWidth:"0"}),e.jsx("path",{d:"M163.49,176.69c-3.9-25.9-14.66-92.07-23.49-97.69-8.97-5.71-37.91,14.54-37.95,40.11,11.42,35.06,55.76,55.14,61.44,57.58Z",fill:"#4e7f4a",strokeWidth:"0"}),e.jsx("path",{d:"M146.5,33.5c17.81,7.41,39.69,29.31,46.73,59.67,9.38,40.44-29.37,83.97-29.37,83.97,0,0-11.62-4.67-27.36-16.65",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M112.5,30.5s11.26-25.95,14.51-24.53c3.49,1.53,14.49,6.53,14.3,8.17-.6,5.33-12.81,26.36-12.81,26.36",fill:"#5e4a31",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7"}),e.jsx("path",{d:"M142.96,122.82c-23.1,59.19-76.47,78.16-119.39,70.29-14.38-33.63-38.32-81.56,14.39-139.29,21-23,60-32,73.01-23.09,2.72,1.86,5.83,3.52,8.88,5.73,24.1,6.35,39.1,45.35,23.1,86.35Z",fill:"#e0945c",strokeWidth:"0"}),e.jsx("path",{d:"M139,133c-59.34,37.17-109.66,46.43-129,24,2.42,12.71,9.56,24.8,14.14,35.53,40.09,7.35,88.61-9.53,114.86-59.53Z",fill:"#b56d3c",strokeWidth:"0"}),e.jsx("path",{d:"M98,37c-16,2-60.99,55.58-71.44,109.93",fill:"none",stroke:"#754e2f",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"}),e.jsx("path",{d:"M111,44c-2.56,8.07-35,75-72.44,132.93",fill:"none",stroke:"#754e2f",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"}),e.jsx("path",{d:"M127,52c9.85,31.15-15,85.73-56,120",fill:"none",stroke:"#754e2f",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"}),e.jsx("path",{d:"M143.5,122.5c-23.1,59.19-76.47,78.16-119.39,70.29-14.38-33.63-38.32-81.56,14.39-139.29,21-23,60-32,73.01-23.09,2.72,1.86,5.83,3.52,8.88,5.73,24.1,6.35,39.1,45.35,23.1,86.35Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),fi=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M185.35,68.77c12.36,19.27,9.57,50.26-19.15,68.21-28.72,17.95-61.03,7.18-70.6-14.36-9.57-21.54,1.28-35.83,26.47-51.99,25.19-16.15,50.92-21.13,63.28-1.86Z",fill:"#705025"}),e.jsx("path",{d:"M181.28,62.77c13.95,17.61,9.85,37.21-12.68,55.06-22.53,17.85-54.97,27.2-68.92,9.59-13.95-17.61-8.66-38.41,13.88-56.26,22.53-17.85,53.77-26,67.72-8.39Z",fill:"#a37d55"}),e.jsx("path",{d:"M102.35,120.68c1.55,2.24,2.82,4.16,18.94-6.05,3.52-2.23,43.79-30.04,47.29-32.73,12.57-9.69,11.19-11.42,9.72-13.56-1.52-2.21-3.15-3.85-17.49,5.1-3.4,2.12-42.72,29.2-46.05,31.7-15.28,11.43-13.95,13.3-12.4,15.55Z",fill:"#4f3b07"}),e.jsx("path",{d:"M187.04,70.08c-.12-.19-.25-.35-.37-.53-1.05-1.84-2.28-3.66-3.7-5.46-13.95-17.61-45.19-9.46-67.72,8.39-16.26,12.88-23.54,27.29-21.1,40.93.47,3.33,1.5,6.82,3.15,10.53,9.57,21.54,41.88,32.31,70.6,14.36,28.72-17.95,31.5-48.94,19.15-68.21Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"7"}),e.jsx("path",{d:"M101.33,33.3c16.38,26.26,9.41,52.7-12.59,67.16-22,14.46-50.13-1.37-61.23-16.26-11.13-14.95-22.29-51.53,7.08-70.57C56.68-.69,84.95,7.04,101.33,33.3Z",fill:"#705025"}),e.jsx("path",{d:"M26.13,23.24C39.59,4.64,62.18.13,83.96,14.72c21.77,14.59,36.09,50.47,17.64,69.48-18.45,19.01-44.95,15.33-61.82-1.7-16.87-17.03-27.1-40.66-13.65-59.26Z",fill:"#a37d55"}),e.jsx("path",{d:"M102.89,33.44c-.23-.37-.48-.73-.72-1.1-4.47-7.02-10.23-13.18-16.65-17.48-15.09-10.11-30.57-11.04-43.14-4.47-2.12.95-4.2,2.07-6.23,3.39-29.37,19.03-18.22,55.62-7.08,70.57,11.09,14.89,39.23,30.73,61.23,16.26,22-14.46,28.97-40.9,12.59-67.16Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7"}),e.jsx("path",{d:"M94.62,84.61c2.12-1.66,3.93-3.04-6.66-17.72-2.31-3.21-30.99-39.71-33.75-42.85-9.93-11.32-11.56-9.85-13.58-8.27s-3.62,3.33,5.67,16.4c2.2,3.1,30.14,38.74,32.7,41.75,11.74,13.78,13.5,12.35,15.62,10.69Z",fill:"#4f3b07"}),e.jsx("path",{d:"M10.15,131.19c-6.97,22.54,4.64,49.32,38.11,59.24,33.46,9.92,63.69-8.1,67.27-32.13,3.58-24.03-14.81-24-44.27-33.1-29.47-9.11-54.13-16.55-61.1,5.99Z",fill:"#705025"}),e.jsx("path",{d:"M13.18,127.44c-4.17,14.86,7.69,27.55,36.22,35.56,28.53,8.01,58.83,8,63.01-6.86,4.17-14.86-7.28-27.99-35.81-36-28.53-8.01-59.24-7.56-63.41,7.3Z",fill:"#a37d55"}),e.jsx("path",{d:"M109.08,149.81c-.51,1.9-.9,3.51-19.72-.97-4.11-.98-52.05-13.83-56.31-15.14-15.37-4.74-14.81-6.24-14.32-8.04.5-1.87,1.33-3.34,18.01.54,3.95.92,50.73,13.42,54.78,14.62,18.55,5.51,18.08,7.1,17.57,9Z",fill:"#4f3b07"}),e.jsx("path",{d:"M9.69,131.02c2.62-8.47,7.73-12.7,14.66-14.21,12.78-3.75,32.97-2.12,51.77,3.16,27.06,7.6,41.5,20.01,39.35,33.95-.06,1.32-.19,2.72-.41,4.21-3.58,24.03-33.8,42.05-67.27,32.13-33.46-9.92-45.07-36.7-38.11-59.24Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7"})]})),ki=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M154.8,96.9l-8.1,16.7c-15.7-1.1-39,0-70.2,8.6l-1.9-17.4c-1-19.3-7.3-34.9-13.8-46.2l12.7-12h0C100.4,17,142.2-1.3,158.9,9.7c16.5,10.8,14.3,50.5-4,87v.2Z",fill:"#ffe36c",strokeWidth:"0"}),e.jsx("path",{d:"M136.9,83.7c-14.6,11.6-32.6,17.7-60.7,19.6,1.1,5-1.8-4-1.5,1.6l1.9,17.4c31.2-8.7,54.5-9.8,70.2-8.6l8.1-16.7v-.2c10.6-20.9,15.7-42.8,15.2-59.7-5.1,17-12.7,30.4-33.2,46.7Z",fill:"#e8bc43",strokeWidth:"0"}),e.jsx("path",{d:"M66.2,178.7c8.9,2.4,17.8,2.8,24.1,2.1,15.7-1.7,25.1-11.3,35.5-23.6,10.4-12.2,51.3-39.1,51.3-39.1,0,0-8.4-4-25.7-5.3-16.4-1.2-40.7,0-73.2,9.4l-2-19c-1.1-21.1-7.6-38.1-14.4-50.4-8.3-15-17.1-23-17.1-23,0,0-3.3,43.4-9,53.4-5.6,10-13.7,32.8-11.9,49.2,1.2,10.9,5.3,19.1,11.1,26",fill:"#8abc62",strokeWidth:"0"}),e.jsx("path",{d:"M30.2,152c1.4,2.3,3,4.5,4.7,6.5-5.6,3.2-10.8,15.1-9.3,20.1,2.1,6.8,19.4,17.8,26.5,16.4,7.1-1.4,12.7-12.2,14-16.3,8.9,2.4,17.8,2.8,24.1,2.1,15.7-1.7,25.1-11.3,35.5-23.6,5.2-6.1,18-15.9,29.6-24.2-74.5,34.2-117.2,28.8-125.1,18.9Z",fill:"#518c4c",strokeWidth:"0"}),e.jsx("path",{d:"M34.9,158.5c-5.6,3.2-10.8,15.1-9.3,20.1,2.1,6.8,19.4,17.8,26.5,16.4,7.1-1.4,12.7-12.2,14-16.3",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M69.1,125c3.1-1,6.1-1.9,9-2.8,32.5-9.5,56.9-10.7,73.2-9.4,17.2,1.3,25.7,5.3,25.7,5.3,0,0-10.2,6.7-21.7,14.9h0c-11.5,8.3-24.4,18.1-29.6,24.2-10.4,12.2-19.7,21.8-35.5,23.6-6.3.7-15.2.3-24.1-2.1-6.2-1.6-12.4-4.2-17.7-8-5.1-3.7-9.7-7.6-13.6-12.2-1.7-2-3.3-4.2-4.7-6.5h0c-3.3-5.5-5.6-11.9-6.4-19.5-1.8-16.4,7.3-38.7,11.9-49.2s9-53.4,9-53.4c0,0,8.8,8,17.1,23,6.8,12.3,13.3,29.3,14.4,50.4,0,1.8.1,3.5.2,5.4",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M74.4,46.7C101.3,17,143.1-1.3,159.8,9.7c16.5,10.8,12.6,53.9-5.7,90.4",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),ji=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M99.6,7c37.6,0,69,44.3,75.9,90-32.4,89.7-131.7,53-151.8,36.6-1-5.6-1.6-11.6-1.6-18C22.2,64.2,56.9,7,99.6,7Z",fill:"#fcfaf0",strokeWidth:"0"}),e.jsx("path",{d:"M175.5,97c1,6.2,1.5,12.5,1.5,18.6,0,51.4-34.6,77.4-77.4,77.4s-68.7-20-75.8-59.4c20.1,16.4,119.4,53.1,151.8-36.6Z",fill:"#ede0bc",strokeWidth:"0"}),e.jsx("polyline",{points:"25 89 44.2 127 72 84.5 104 129 134.8 85.5 158.5 127 176 97",display:"none",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"}),e.jsx("path",{d:"M175.5,97c1,6.2,1.5,12.5,1.5,18.6,0,51.4-34.6,77.4-77.4,77.4s-68.7-20-75.8-59.4c-1-5.6-1.6-11.6-1.6-18C22.2,64.2,56.9,7,99.6,7s69,44.3,75.9,90Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7"})]})),yi=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M164.3,74.6c-1.3-1.2-2.7-2.3-4.2-3.4,14.7-4.2,22.2-1.9,25.4-34.1,2-19.5-7.6-36.5-38.2-31.1-19.1,3.4-29.4,15.3-32,31.1s3.2,16.9,8.5,23.1c-9.7.1-29.9-10.6-43,15.6,13.1-44.7-3.3-67.6-32.7-60S13.3,48.6,12.2,78c-.8,22.3,22,35.3,37.1,42.5-11.3,26.7,3.4,62.3,16.4,70.9s19.6,3.3,46.9-3.3c20.9-5,58.2-33.3,66.5-52.3,15.3-34.9,11.6-37.3-14.7-61.3Z",fill:"#fcc56b",strokeWidth:"0"}),e.jsx("path",{d:"M175.8,141.9c-81.2,36.4-115.7,20.6-130.4,7.2,1.9,19.2,11.4,37.1,20.1,42.9,9.4,6.2,19.6,3.3,46.9-3.3,19-4.5,51.3-28.2,63.4-46.8Z",fill:"#d19d4b",strokeWidth:"0"}),e.jsx("path",{d:"M57.6,110.6c24.7-5.7,79.7,24.5,98.6,49.9",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M48.3,153.3c36,6.4,54.4,18.7,68.7,33",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M13.7,88.5c4.8,15.8,24.7,28.8,37.3,35,4.1-9.2,17.4-30.7,24.7-38.9-13.9,1.7-40.1,20.1-62,3.9Z",fill:"#d19d4b",strokeWidth:"0"}),e.jsx("path",{d:"M83.2,75.9c31.7-9.2,88.9,32.7,98.1,52.1",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M116.5,32.6c32.2-4.8,41.4-2.7,66.7,20.1",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M83.2,67.7c-23.9-2.6-48.5-6-69.5,15.3",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M83.2,35c-25.8-9-47.5-10.7-63.4,4.1",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M164.3,74.6c-1.3-1.2-2.7-2.3-4.2-3.4,14.7-4.2,22.2-1.9,25.4-34.1,2-19.5-7.6-36.5-38.2-31.1s-29.4,15.3-32,31.1c-1.4,8.7,3.2,16.9,8.5,23.1-9.7.1-29.9-10.6-43,15.6,13.1-44.7-3.3-67.6-32.7-60S13.3,48.6,12.2,78c-.8,22.3,22,35.3,37.1,42.5-11.3,26.7,3.4,62.3,16.4,70.9s19.6,3.3,46.9-3.3c20.9-5,58.2-33.3,66.5-52.3,15.3-34.9,11.6-37.3-14.7-61.3Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),bi=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M193.5,73.6c3.1,28.5-29.9,56.2-47.1,65-24.8,12.8-46,6.6-61.3-3.3-25.9-16.9-33.6-69-8.6-104.4,4.1,4.1,7.1,8.1,9.2,13.2C117.2,11.6,131.5,5.5,175.5,6.9c7.9,32.1,9.9,56.5-2.3,81.9,10.2-4.1,14.2-11.2,20.3-15.3Z",fill:"#e84b4b",strokeWidth:"0"}),e.jsx("path",{d:"M188.1,99.2c-16.7,11-49.1,29.8-72.1,27.8-19.7-1.7-1-41-1-41,0,0-34.1,13.6-50.5,17.5,3.7,14,11,25.7,21,32.3,15.3,10,36.4,16.1,61.3,3.3,12-6.2,31.6-21.5,41.4-39.9Z",fill:"#c14242",strokeWidth:"0"}),e.jsx("path",{d:"M62.3,66.4c1.9-12.6,6.5-25,14.2-36,4.1,4.1,7.1,8.1,9.2,13.2C117.2,11.1,131.4,5,175.4,6.5c7.9,32.1,9.9,56.5-2.3,81.9,10.2-4.1,14.2-11.2,20.3-15.3,3.1,28.5-29.9,56.2-47.1,65-24.8,12.8-46,6.6-61.3-3.3-.3-.2-.6-.4-.9-.6",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M70.9,92.4c18.6,21.3,5.8,52.8-6,57.6-13.6,5.5-39.7,4.6-59.8-23.2,2.2-1.6,3.8-6.2,11.2-4.1-18.8-28.1-6.8-42.5-1.7-58.9,21.2,2.8,36.6,6.1,56.3,28.7Z",fill:"#e84b4b",strokeWidth:"0"}),e.jsx("path",{d:"M66.4,150c-4.6-16-19.4-36-19.4-36,0,0-.3,10.2-4,12s-16-10-37,1c3,6,24.1,19.5,39.5,25.6,7.9,1,15-.2,20.3-2.3.2,0,.4-.2.7-.3Z",fill:"#c14242",strokeWidth:"0"}),e.jsx("path",{d:"M65.8,149.7c-13.6,5.5-39.7,4.6-59.8-23.2,2.2-1.6,3.8-6.2,11.2-4.1-18.8-28.1-6.8-42.5-1.7-58.9,21.2,2.8,36.6,6.1,56.3,28.7,4.3,5,7,10.5,8.3,16.1",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M53.8,186.8c2.3-21,35.6-80.5,67.4-109.5-11.3,29.3-35.6,68.2-49.4,115.7-3.9,3-18-6.2-18-6.2Z",fill:"#f9c569",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),vi=c.memo(t=>e.jsx(Z,{...t,children:e.jsxs("svg",{viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M14.3,142.6c8.6,21.5,22.6,31.6,27,34.6,18.6,12.7,32.2,12,58.2,11.9h.6c26,0,39.6.7,58.2-11.9,5.4-3.7,25.4-18.1,31.9-51.3.2-.8,1.1-5.2,1.6-11.4,1-12.1.4-31.1-11.1-44.1s-30.1-19.7-30.1-19.7c0,0,10.2-1,16.5-8.4,4.3-5.1,5.2-11.4,2.2-16.7-3.2-5.6-10.1-8.2-16.5-8.3-15.5-.2-31.8-.3-52.7,0h-.6c-20.9-.3-37.2-.2-52.7,0-6.3,0-13.3,2.7-16.5,8.3-3,5.3-2.2,11.6,2.2,16.7,6.3,7.4,16.5,8.4,16.5,8.4,0,0-18.6,6.7-30.1,19.7-17.4,19.6-9.9,53.1-9.4,55.5,1.2,6.2,2.9,11.8,4.8,16.7Z",fill:"#fff",strokeWidth:"0"}),e.jsx("path",{d:"M173,91.3c-3.4-8.2-11.5-18.9-26.1-19.3-12.5-.3-43.9.3-46.9.3s-34.4-.7-46.9-.3c-14.6.4-22.7,11.1-26.1,19.3-2,4.7-2,15.5-2,20.3,0,15.4,4.9,24.3,7.6,30.7,1.1,2.6,3.4,6.2,6.3,10,4.6,5.9,10.7,12.1,16.6,15,11.3,5.7,24.6,6.7,44.4,6.7h.4c19.8,0,33-1,44.4-6.7,9.5-4.8,20-18.2,22.8-25,1.2-2.9,2.9-6.3,4.4-10.7,1.8-5.2,3.2-11.6,3.2-20s0-15.6-2-20.3h0Z",fill:"#fac800",strokeWidth:"0"}),e.jsx("path",{d:"M191.5,114.5c-5.1,6.5-11.9,12.2-19.7,17.1-1.5,4.3-3.2,7.8-4.4,10.7-2.9,6.7-13.3,20.2-22.8,25-11.3,5.7-24.6,6.7-44.4,6.7h-.4c-19.8,0-33-1-44.4-6.7-5.8-2.9-12-9.1-16.6-15-9.8-2.2-18.2-5.5-24.4-9.8h-.2c8.6,21.6,22.6,31.7,27,34.7,18.6,12.7,32.2,12,58.2,11.9h.6c26,0,39.6.7,58.2-11.9,5.4-3.7,25.4-18.1,31.8-51.3.2-.8,1.1-5.2,1.7-11.4h-.3,0Z",fill:"#d8d5cb",strokeWidth:"0"}),e.jsx("path",{d:"M55.5,167.3c11.3,5.7,24.6,6.7,44.4,6.7h.4c19.8,0,33-1,44.4-6.7,9.5-4.8,20-18.2,22.8-25,1.2-2.9,2.9-6.3,4.4-10.7-35.8,22.5-94.9,29.3-132.9,20.7,4.6,5.9,10.7,12.1,16.6,15h0Z",fill:"#d69045",strokeWidth:"0"}),e.jsx("circle",{cx:"58.7",cy:"92.6",r:"9.2",fill:"#fff",strokeWidth:"0"}),e.jsx("path",{d:"M14.3,142.6c8.6,21.5,22.6,31.6,27,34.6,18.6,12.7,32.2,12,58.2,11.9h.6c26,0,39.6.7,58.2-11.9,5.4-3.7,25.4-18.1,31.9-51.3.2-.8,1.1-5.2,1.6-11.4,1-12.1.4-31.1-11.1-44.1s-30.1-19.7-30.1-19.7c0,0,10.2-1,16.5-8.4,4.3-5.1,5.2-11.4,2.2-16.7-3.2-5.6-10.1-8.2-16.5-8.3-15.5-.2-31.8-.3-52.7,0h-.6c-20.9-.3-37.2-.2-52.7,0-6.3,0-13.3,2.7-16.5,8.3-3,5.3-2.2,11.6,2.2,16.7,6.3,7.4,16.5,8.4,16.5,8.4,0,0-18.6,6.7-30.1,19.7-17.4,19.6-9.9,53.1-9.4,55.5,1.2,6.2,2.9,11.8,4.8,16.7Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})})),Si=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M76,92.9l43.2,27c-18.6,28.5-47.7,75.3-51.5,75.6-4.8.4-37.6-19.8-39.2-25.3-1.2-4,29.3-49.2,47.5-77.3Z",fill:"#f7fced",strokeWidth:"0"}),e.jsx("path",{d:"M87.1,75.1l43.4,28c-2.8,3.8-6.7,9.8-11.3,16.9l-43.2-27c4.9-7.6,8.9-13.9,11.1-17.9Z",fill:"#b8ea6a",strokeWidth:"0"}),e.jsx("path",{d:"M172.4,47.4c5.3,1.6,14,30,11.4,34-2.6,4-46.1,17.4-49.3,17.1-.4,0-1.8,1.7-4,4.6l-43.4-28c.9-1.6,1.5-2.8,1.8-3.5,3.8-10,3.7-58.3,8.4-62s41.3-6.4,42-2.1c.6,4.3-4.9,45-2.9,47.8,2.2,3.2,34.5-8.3,36-7.9Z",fill:"#37a56b",strokeWidth:"0"}),e.jsx("path",{d:"M111.5,113.9c-17.5,27.2-41.9,66.8-53.7,76.4,4.5,2.4,8.2,4,9.6,3.9,3.8-.3,32.9-47.1,51.5-75.7l-7.4-4.6Z",fill:"#dce2cc",strokeWidth:"0"}),e.jsx("path",{d:"M111.1,114.7l7.8,4.9c4.6-7.1,8.6-13,11.3-16.9l-7.8-5.1c-3.2,4.5-7,10.4-11.3,17.1Z",fill:"#a3c180",strokeWidth:"0"}),e.jsx("path",{d:"M183.6,81.1c.8-1.2.6-4.6-.3-8.9-14.4,3.9-47,12.7-53.2,15.8-1.4.7-4.1,4.1-7.8,9.3l7.8,5.1c2.1-2.9,3.6-4.6,4-4.6,3.2.3,46.8-12.8,49.4-16.8Z",fill:"#40895e",strokeWidth:"0"}),e.jsx("path",{d:"M136.4,55.2c-.9-25.7,3.6-43.5,2.9-47.8-.6-4.3-37.2-1.7-42,2.1s-4.6,52-8.4,62c-.3.8-.9,2-1.8,3.5-2.2,4-6.2,10.3-11.1,17.9-18.2,28.2-48.7,73.3-47.5,77.3,1.6,5.5,34.3,25.7,39.2,25.3,3.8-.3,32.9-47.1,51.5-75.6,4.6-7.1,8.6-13,11.3-16.9,2.1-3,3.5-4.7,4-4.6,3.2.3,46.7-13.1,49.3-17.1,2.6-4-6.1-32.4-11.4-34-1.1-.3-12.6,5-22.9,7.1",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Ci=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M126.8,158.4c9.3,26.9-6.3,33.9-18.5,36s-33.7-.5-37.5-26.2c-3.8-25.7,14.9-69.6,31-72s16.5,37.6,25,62.2Z",fill:"#efca89",strokeWidth:"0"}),e.jsx("path",{"data-name":"mushroom2",d:"M122.8,144c1.2,5.2,2.4,8.2,4,12.6,9.3,26.9-6.3,33.9-18.5,36s-33.7-.5-37.5-26.2c-.8-5.5-.6-9.9.4-16.5",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M193.5,94.9c6.5,29.8-16.8,39.5-53.8,35.6-33.7-3.5-59.9,8.1-84.7,8.1s-53,0-49.2-46.1C9.7,45.9,70,8.7,99.6,8.7c43.5,0,83.6,39.3,93.9,86.2Z",fill:"#b27054",strokeWidth:"0"}),e.jsx("path",{d:"M193.4,95.2c6.5,29.8-16.8,39.5-53.8,35.6-33.6-3.5-59.9,8.1-84.7,8.1s-47.4,0-49.4-35.5c25.1,25.9,167,16.9,184-22h0c1.6,4.5,2.9,9.1,3.9,13.7Z",fill:"#845444",strokeWidth:"0"}),e.jsx("path",{d:"M189.5,81.5c1.6,4.5,2.9,9.1,3.9,13.8,6.5,29.8-16.8,39.5-53.8,35.6-33.6-3.5-59.9,8.1-84.7,8.1s-47.4,0-49.4-35.5c-.2-3.2-.1-6.8.2-10.6C9.7,46.2,70,9,99.6,9s75.6,31.9,89.9,72.5Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7"})]})),wi=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M139.8,194.7s5-.3,9.2-3.4c4-3,6.3-6.8,6.3-10.3,0-3.5,0-92.4,0-92.4,0,0-.2-7.5-2.4-12.5-3.8-8.4-17.3-37.6-17.6-40.8-.2-2.3-.3-7,.2-7.2,5.5-1.2,12.9-4.6,10.8-12.7-2.3-8.7-10.7-7.9-10.7-7.9h-71.1s-8.4-.8-10.7,7.9,5.3,11.6,10.8,12.7c.5.2.4,4.9.2,7.2-.3,3.3-13.8,32.4-17.6,40.8-2.3,5-2.4,12.5-2.4,12.5v92.4c0,3.5,2.3,7.3,6.3,10.3,4.2,3.1,9.2,3.4,9.2,3.4h79.6Z",fill:"#fcfcfc",strokeWidth:"0"}),e.jsx("path",{d:"M155.3,88.3v92.4c0,3.5-2.3,7.3-6.3,10.3-4.2,3.1-9.2,3.4-9.2,3.4h-37.9c21.8-2.1,33.1-12.2,33.4-19.2s0-140.4,0-140.4c.3,3.3,13.8,32.4,17.6,40.9,2.3,5,2.4,12.5,2.4,12.5Z",fill:"#e5e5df",strokeWidth:"0"}),e.jsx("rect",{x:"44.7",y:"95.6",width:"110.5",height:"56.4",fill:"#4c6dc1",strokeWidth:"0"}),e.jsx("path",{d:"M155.6,95.6h-20v56.4h20v-56.4Z",fill:"#4850b5",strokeWidth:"0"}),e.jsx("path",{d:"M113.9,194.5h25.9s5-.3,9.2-3.4c4-3,6.3-6.8,6.3-10.3v-92.4s-.2-7.5-2.4-12.5c-3.8-8.4-17.3-37.6-17.6-40.9-.2-2.3-.3-7,.2-7.2,5.5-1.2,12.9-4.6,10.8-12.7-2.3-8.7-10.7-7.9-10.7-7.9h-71.1s-8.4-.8-10.7,7.9c-2.2,8.1,5.3,11.6,10.8,12.7.5.2.4,4.9.2,7.2-.3,3.3-13.8,32.4-17.6,40.9-2.3,5-2.4,12.5-2.4,12.5v92.4c0,3.5,2.3,7.3,6.3,10.3,4.2,3.1,9.2,3.4,9.2,3.4h53.7Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"8"})]})),Bi=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M98,195.4h39.2c4.2,0,12.4-1.5,13.8-8.8,1.9-9.4,2.9-96.9-1.6-107.8-4.2-10.5-13.1-13.4-19.7-16.8-4.5-2.3-7.9-4.8-8.1-10-.5-13.9,0-39.7,0-39.7h-43.4s.5,25.8,0,39.7c-.3,8.9-19.2,5.8-27.8,26.8-4.4,10.9-3.5,98.4-1.6,107.8,1.4,7.3,9.6,8.8,13.8,8.8h35.1Z",fill:"#fff",strokeWidth:"0"}),e.jsx("path",{d:"M84.7,1c2,11.2,2,22.5,2,22.5h26.5s0-11.2,2-22.5h-30.6Z",fill:"#333",strokeWidth:"0"}),e.jsx("path",{d:"M96,195c31-6,30.8-12.5,30.8-17V60.5l.2-.4c.9.6,1.8,1.1,2.8,1.6,6.6,3.4,15.4,6.3,19.7,16.8,4.4,10.9,3.4,98.4,1.6,107.8-1.5,7.3-9.6,8.8-13.8,8.8h-41.2Z",fill:"#eaeaea",strokeWidth:"0"}),e.jsx("path",{d:"M136.7,86.5c-1-3.7-3.5-6.9-6.6-9.4-4.6-3.7-10.3-6.3-14-7.4h-32.1c-6.2,2-18.2,7.7-20.6,16.9-2.4,9.2-2.6,82.8-1.2,90.4,1.1,5.9,5,6.1,8.1,6.1h59.3s0,0,0,0c3.1,0,7-.2,8.1-6.1,1.4-7.6,1.2-81.2-1.2-90.4Z",fill:"#e5df6c",strokeWidth:"0"}),e.jsx("path",{d:"M136.9,86.5c-1-3.7-3.5-6.9-6.6-9.4-1-.9-2.1-1.6-3.3-2.4v103.2c0,1.5,0,3.2-1.1,5h4s0,0,0,0c3.1,0,7-.2,8.1-6.1,1.4-7.6,1.2-81.2-1.2-90.4Z",fill:"#d1c361",strokeWidth:"0"}),e.jsx("circle",{cx:"82.8",cy:"88.8",r:"7.2",fill:"#fff",strokeWidth:"0"}),e.jsx("path",{d:"M78.3,11.9",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M78.3,11.9s.5,25.8,0,39.7c-.3,8.9-19.2,5.8-27.8,26.8-4.4,10.9-3.4,98.4-1.6,107.8,1.4,7.3,9.6,8.8,13.8,8.8h74.4c4.2,0,12.4-1.5,13.8-8.8,1.9-9.4,2.9-96.9-1.6-107.8-4.2-10.5-13.1-13.4-19.7-16.8-1-.5-1.9-1-2.8-1.6-3.1-2-5.2-4.4-5.3-8.5-.5-13.9,0-39.7,0-39.7",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Ii=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M9.5,72.9c6.7-11.9,36.3-52.2,73.9-53.2,54.7-1.4,70,18.5,83.3,31.8,16.5,16.5,43.5,58.4,17.5,89.8-20.2,24.4-38.9,33.6-66.8,38.5-34.6,6.1-74.4-4.1-93.7-21.4S3.3,83.9,9.5,72.9Z",fill:"#f4bf7a",strokeWidth:"0"}),e.jsx("path",{d:"M180.2,120.8c-29.3,11.9-40,23.1-67.9,28-34.6,6.1-69.6-11.6-93.7-21.4-6.2-2.5-10.7-7.4-13.8-13.6,1.5,16.3,6.7,33.6,18.9,44.6,19.4,17.3,59.1,27.5,93.7,21.4,27.9-4.9,46.6-14.1,66.8-38.5,8.5-10.3,11.3-21.7,10.7-33-2.8,5.3-7.5,9.6-14.7,12.5Z",fill:"#c18f4d",strokeWidth:"0"}),e.jsx("path",{d:"M65.4,63.1c-3.7,5.4-9.7,6.9-14,4.1",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M142,107.4c-6.4,1.5-11.8-1.5-13.1-6.4",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M59.2,140.2c6.3,1.6,9.8,6.7,8.8,11.7",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M9.5,72.9c6.7-11.9,36.3-52.2,73.9-53.2,54.7-1.4,70,18.5,83.3,31.8,16.5,16.5,43.5,58.4,17.5,89.8-20.2,24.4-38.9,33.6-66.8,38.5-34.6,6.1-74.4-4.1-93.7-21.4S3.3,83.9,9.5,72.9Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7.1"})]})),Mi=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M68.2,72.3c-17,19.8-38.2,33-49.3,51.4-5.6,9.3-10.7,34.4,5.2,53.4,10.7,12.8,39.4,21.8,62.7,11.2,23.8-10.9,44.5-26.9,61.8-47.2,17.4-20.3,30-43.2,37.1-68.4,6.9-24.6-6.5-51.7-20.8-60.2-21.2-12.7-45.3-3.8-53.6,3.2-16.5,13.8-26.2,36.9-43.2,56.7Z",fill:"#ea9e6a",strokeWidth:"0"}),e.jsx("path",{d:"M13.6,141.5c-1,11,1,24.4,10.4,35.6,10.7,12.8,39.4,21.8,62.7,11.2,23.8-10.9,44.5-26.9,61.8-47.2,9.6-11.2,17.7-23.2,24.3-35.9-40,41.5-117.8,87.7-159.2,36.4Z",fill:"#d8855b",strokeWidth:"0"}),e.jsx("path",{d:"M100.4,39.9c-6.2,10.1-19.1,23.5-12.4,27.1s15.4-1.9,27.8-22c10.2-16.4,19-24.9,12.2-29s-15.2,3.8-27.6,23.9Z",fill:"#ffe5d4",strokeWidth:"0"}),e.jsx("path",{d:"M68.2,72.3c-17,19.8-38.2,33-49.3,51.4-5.6,9.3-10.7,34.4,5.2,53.4,10.7,12.8,39.4,21.8,62.7,11.2,23.8-10.9,44.5-26.9,61.8-47.2,17.4-20.3,30-43.2,37.1-68.4,6.9-24.6-6.5-51.7-20.8-60.2-21.2-12.7-45.3-3.8-53.6,3.2-16.5,13.8-26.2,36.9-43.2,56.7Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Ti=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M192.59,54.2c8.23,36.5-30.18,56.32-67.37,44.26-38.62-12.52-51.67-58.47-28.78-81.51,19.5-19.63,41.09-.94,53.2,3.24,13.53,4.68,37.48,9.77,42.94,34.01Z",fill:"#f9d79b"}),e.jsx("path",{d:"M165.22,36.97c-2.26,5.29-12.03,6.19-21.82,2-9.79-4.19-15.89-11.87-13.63-17.16,2.26-5.29,9.98-1.4,19.77,2.79s17.94,7.08,15.68,12.37Z",fill:"#845e41"}),e.jsx("path",{d:"M193.77,57.19c-11.23,19.25-36.16,33.08-62.85,25.7-20.04-5.54-36.95-15.47-44.61-30.42,2.49,19.44,16.45,39.04,39.65,46.56,25.39,8.23,51.35,1.6,62.65-15.06,4.22-8.64,5.94-18.3,5.15-26.78Z",fill:"#edb158"}),e.jsx("path",{d:"M193.01,54.42c8.23,36.5-30.18,56.32-67.37,44.26-38.62-12.52-51.67-58.47-28.78-81.51,19.5-19.63,41.09-.94,53.2,3.24,13.53,4.68,37.48,9.77,42.94,34.01Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M78.61,65.86c36.87,6.41,40.43,49.49,15.02,79.2-26.38,30.85-73.82,25.28-86.31-4.71-10.64-25.54,14.9-38.31,23.41-47.88,9.51-10.7,23.41-30.86,47.88-26.6Z",fill:"#f9d79b"}),e.jsx("path",{d:"M50.55,84.81c3.17,2.97.34,11.16-6.34,18.3s-14.66,10.52-17.83,7.56c-3.17-2.97.41-10.27,7.09-17.41,6.67-7.14,13.91-11.42,17.09-8.45Z",fill:"#845e41"}),e.jsx("path",{d:"M94.69,144.77c11.03-12.9,16.59-28.32,16.35-42.16-.15-1.15-.33-2.29-.55-3.42-7.21,21.6-27.82,40.37-54.35,46.77-17.1,4.13-33.58,2.36-46.81-3.84,13.78,28.15,59.59,32.78,85.36,2.65Z",fill:"#edb158"}),e.jsx("path",{d:"M78.97,65.56c36.87,6.41,40.43,49.49,15.02,79.2-26.38,30.85-73.82,25.28-86.31-4.71-10.64-25.54,14.9-38.31,23.41-47.88,9.51-10.7,23.41-30.86,47.88-26.6Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M87.31,162.2c-17.43-33.11,14.5-62.23,53.54-60.26,40.55,2.05,65.09,43.02,48.98,71.23-13.73,24.02-39.43,11.59-52.21,10.7-14.28-1-38.73.31-50.31-21.67Z",fill:"#f9d79b"}),e.jsx("path",{d:"M190.04,173.56c3.12-5.45,4.71-11.38,4.96-17.42,0-1.21,0-2.41,0-3.6-.08-1.85-.29-3.69-.61-5.54-14.56,26.43-33.77,22.52-60.28,22.24-24.52-.26-34.74-2.24-51.05-19.81.66,4.26,2.1,8.67,4.46,13.15,11.57,21.98,36.03,20.68,50.31,21.67,12.78.89,38.49,13.32,52.21-10.7Z",fill:"#edb158"}),e.jsx("path",{d:"M116.4,171.54c.95-5.68,10.24-8.85,20.74-7.09,10.5,1.76,18.24,7.79,17.29,13.47-.95,5.68-9.37,3.71-19.87,1.95-10.5-1.76-19.1-2.65-18.15-8.33Z",fill:"#634731"}),e.jsx("path",{d:"M86.85,162.1c-17.43-33.11,14.5-62.23,53.54-60.26,40.55,2.05,65.09,43.02,48.98,71.23-13.73,24.02-39.43,11.59-52.21,10.7-14.28-1-38.73.31-50.31-21.67Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Ei=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M139.7,6.2c17.4-2.6,74,34,48.1,95.2-4.6,10.9-86.1,1.8-103.1,20.8s6.9,54.6,34.2,70.9c-35,5.5-116.4-19.4-111.2-86.9C10.7,67.2,52.7,19.2,139.7,6.2Z",fill:"#f2bbc4",strokeWidth:"0"}),e.jsx("path",{d:"M7.7,106.2c.8-10,4.1-20.6,10.1-31.1.4,0,.7-.1,1.1-.2,51-7,64,28,65.2,47.9-19.7,23.1,7.7,54.1,34.8,70.3-35,5.5-116.4-19.4-111.2-86.9Z",fill:"#fcfafa",strokeWidth:"0"}),e.jsx("path",{d:"M94.1,172.9c9.3,17.7-24.9,6.6-73.6-20.7,23.4,32.7,73.4,44.8,98.7,40.8-8.9-5.4-17.9-12.3-25.2-20.1Z",fill:"#d6c8cc",strokeWidth:"0"}),e.jsx("path",{d:"M85,122c-5-18,96-24,108-48,.8,11.8-2,22-5.2,27.4-6,10.1-85.4,1.9-102.8,20.6Z",fill:"#d898a5",strokeWidth:"0"}),e.jsx("path",{d:"M139.7,6.2c17.4-2.6,74,34,48.1,95.2-4.6,10.9-86.1,1.8-103.1,20.8s6.9,54.6,34.2,70.9c-35,5.5-116.4-19.4-111.2-86.9C10.7,67.2,52.7,19.2,139.7,6.2Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Ni=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M100.6,193.1c67.9-2.3,93.3-35.2,93.3-74.9s-25.4-67.8-93.3-68.7h0C32.7,50.4,7.3,78.6,7.3,118.3s25.4,72.6,93.3,74.9h0Z",fill:"#ed4f4f",strokeWidth:"0"}),e.jsx("path",{d:"M193.8,120.1c0,0-.1.1-.2.2-53.5,65.1-160.6,43.6-178.8,28.1,0,0-.5.3-1.3.9,11.2,24.6,38,42.2,87,43.8h0c66.8-2.2,92.5-34.2,93.3-73Z",fill:"#bc4d4a",strokeWidth:"0"}),e.jsx("path",{d:"M156.8,60.3c25.5,11.8,36,32.5,36,58,0,39.6-25.4,72.6-93.3,74.9h1.1C32.7,190.9,7.3,157.9,7.3,118.3s10.5-46.2,36-58",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.2"}),e.jsx("path",{d:"M100.3,64.3c-30.7.2-55.7-13.3-58.1-35.7,25.4,22.6,37.8,17.7,37.8,17.7,0,0-9.9-24.6-3.5-39.5,12.4,32.9,23.5,36.6,23.5,36.6,0,0,11.3-3.7,23.7-36.6,6.4,14.9-3.5,39.5-3.5,39.5,0,0,12.3,4.9,37.8-17.7-2.5,22.4-27.4,35.9-58.1,35.7h.5Z",fill:"#5f935f",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8.4"})]})),ve=c.memo(({name:t})=>{switch(t){case"apple":return e.jsx(pi,{});case"cacao":return e.jsx(xi,{});case"coffee":return e.jsx(fi,{});case"corn":return e.jsx(ki,{});case"egg":return e.jsx(ji,{});case"ginger":return e.jsx(yi,{});case"herb":return e.jsx(bi,{});case"honey":return e.jsx(vi,{});case"leek":return e.jsx(Si,{});case"mushroom":return e.jsx(Ci,{});case"milk":return e.jsx(wi,{});case"oil":return e.jsx(Bi,{});case"potato":return e.jsx(Ii,{});case"sausage":return e.jsx(Mi,{});case"soy":return e.jsx(Ti,{});case"tail":return e.jsx(Ei,{});case"tomato":return e.jsx(Ni,{});case"unknown":return e.jsx("svg",{width:"24",height:"20",viewBox:"0 0 24 24",children:e.jsx("svg",{viewBox:"0 0 200 200",children:e.jsx("line",{x1:"10",y1:"100",x2:"180",y2:"100",stroke:"#bbbbbb",strokeWidth:"12"})})});case"unknown1":return e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#eaae35"})});case"unknown2":return e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#56c0fe"})});case"unknown3":return e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#f55865"})})}return e.jsx(e.Fragment,{})}),Vt=c.memo(({ingredient:t,checked:n,onClick:r})=>{const i=w.useCallback(s=>{const l=s.currentTarget.value;r(l)},[r]);return e.jsxs(Fi,{value:t,onClick:i,children:[e.jsx(ve,{name:t}),n&&e.jsx(Ie,{role:"switch"})]},t)}),Fi=M(F)({width:"20%",height:"40px",color:"white",fontSize:"0.9rem",padding:0,margin:"0.2rem",borderRadius:"0.5rem",'& > svg.MuiSvgIcon-root[role="switch"]':{position:"absolute",background:"#24d76a",borderRadius:"15px",fontSize:"15px",border:"2px solid white",bottom:"0px",right:"10px"}}),Ut=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 150 150",children:[e.jsx("path",{fill:"#FFEB32",d:"M33.76,62.78h-0.98c0-8.04-3.01-15.06-9.01-21.07c-6-6-13.03-9.01-21.07-9.01v-0.98 c8.04,0,15.07-3.01,21.07-9.02c6-6.03,9.01-13.06,9.01-21.07h0.98c0,8.04,3.01,15.07,9.01,21.07c6,6,13.03,9.01,21.07,9.01v0.98 c-8.04,0-15.07,3.01-21.07,9.01C36.77,47.72,33.76,54.74,33.76,62.78L33.76,62.78L33.76,62.78z M15.89,99.59h-0.45 c0-3.68-1.38-6.91-4.14-9.66c-2.75-2.75-5.98-4.14-9.66-4.14v-0.45c3.68,0,6.91-1.38,9.66-4.14c2.75-2.76,4.14-5.98,4.14-9.65h0.45 c0,3.68,1.38,6.91,4.14,9.66c2.75,2.75,5.97,4.14,9.66,4.14v0.45c-3.68,0-6.91,1.38-9.66,4.14C17.26,92.68,15.89,95.91,15.89,99.59 L15.89,99.59L15.89,99.59z M62.44,121.24h-0.45c0-3.68-1.38-6.91-4.14-9.66c-2.75-2.75-5.97-4.14-9.66-4.14v-0.45 c3.68,0,6.91-1.38,9.66-4.14c2.75-2.76,4.14-5.98,4.14-9.65h0.45c0,3.68,1.38,6.91,4.14,9.66c2.75,2.75,5.97,4.14,9.66,4.14v0.45 c-3.68,0-6.91,1.38-9.66,4.14C63.82,114.33,62.44,117.55,62.44,121.24L62.44,121.24L62.44,121.24z M93.6,87.19h-0.82 c0-6.74-2.52-12.64-7.56-17.68c-5.04-5.04-10.93-7.56-17.68-7.56v-0.82c6.74,0,12.64-2.52,17.68-7.57 c5.04-5.05,7.56-10.95,7.56-17.67h0.82c0,6.74,2.52,12.64,7.56,17.68c5.04,5.04,10.93,7.56,17.68,7.56v0.82 c-6.74,0-12.64,2.52-17.68,7.56C96.13,74.55,93.6,80.45,93.6,87.19L93.6,87.19L93.6,87.19z"}),e.jsx("path",{fill:"#D9C829",d:"M33.76,64.42h-0.98c-0.9,0-1.64-0.73-1.64-1.64c0-3.8-0.71-7.36-2.12-10.66c-1.42-3.31-3.55-6.4-6.41-9.25 l-0.08-0.09c-2.83-2.81-5.89-4.92-9.17-6.33c-3.3-1.41-6.86-2.12-10.66-2.12c-0.9,0-1.64-0.73-1.64-1.64v-0.98 c0-0.9,0.73-1.64,1.64-1.64c3.8,0,7.36-0.71,10.66-2.12c3.32-1.42,6.4-3.56,9.25-6.41c2.85-2.87,4.99-5.96,6.41-9.28 c1.41-3.3,2.12-6.85,2.12-10.63c0-0.9,0.73-1.64,1.64-1.64h0.98c0.9,0,1.64,0.73,1.64,1.64c0,3.8,0.71,7.36,2.12,10.66 c1.42,3.31,3.55,6.4,6.41,9.25c2.86,2.86,5.94,5,9.25,6.41c3.3,1.41,6.85,2.12,10.66,2.12c0.9,0,1.64,0.73,1.64,1.64v0.98 c0,0.9-0.73,1.64-1.64,1.64c-3.8,0-7.36,0.71-10.66,2.12c-3.31,1.42-6.4,3.55-9.25,6.41l-0.08,0.08c-2.81,2.84-4.92,5.9-6.33,9.19 c-1.41,3.3-2.12,6.86-2.12,10.66C35.4,63.69,34.66,64.42,33.76,64.42L33.76,64.42z M32.03,50.85c0.49,1.14,0.9,2.31,1.24,3.5 c0.34-1.19,0.75-2.36,1.24-3.51c1.57-3.67,3.91-7.08,7.02-10.21l0.09-0.09c3.15-3.15,6.58-5.51,10.29-7.1 c1.14-0.49,2.31-0.9,3.5-1.24c-1.19-0.34-2.36-0.75-3.5-1.24c-3.71-1.59-7.14-3.96-10.29-7.1s-5.51-6.58-7.1-10.29 c-0.49-1.15-0.91-2.32-1.25-3.52c-0.34,1.19-0.75,2.35-1.24,3.49c-1.58,3.7-3.95,7.14-7.1,10.31c-3.15,3.16-6.58,5.53-10.29,7.12 c-1.15,0.49-2.32,0.91-3.51,1.24c1.19,0.34,2.36,0.75,3.51,1.24c3.67,1.57,7.07,3.91,10.2,7.02l0.09,0.09 C28.07,43.7,30.44,47.14,32.03,50.85L32.03,50.85z M15.89,101.23h-0.45c-0.9,0-1.64-0.73-1.64-1.64c0-1.62-0.3-3.14-0.9-4.54 c-0.6-1.41-1.52-2.74-2.76-3.97c-1.23-1.23-2.56-2.15-3.97-2.76c-1.4-0.6-2.92-0.9-4.54-0.9C0.73,87.43,0,86.7,0,85.79v-0.45 c0-0.9,0.73-1.64,1.64-1.64c1.62,0,3.14-0.3,4.54-0.9c1.41-0.6,2.73-1.52,3.97-2.76l0.08-0.08c1.19-1.21,2.08-2.51,2.68-3.9 c0.6-1.4,0.9-2.91,0.9-4.53c0-0.9,0.73-1.64,1.64-1.64h0.45c0.9,0,1.64,0.73,1.64,1.64c0,1.62,0.3,3.14,0.9,4.54 c0.6,1.41,1.52,2.73,2.75,3.97s2.55,2.15,3.96,2.76c1.4,0.6,2.92,0.9,4.54,0.9c0.9,0,1.64,0.73,1.64,1.64v0.45 c0,0.9-0.73,1.64-1.64,1.64c-1.62,0-3.14,0.3-4.54,0.9c-1.41,0.6-2.73,1.52-3.97,2.76l-0.09,0.08c-1.19,1.2-2.08,2.49-2.67,3.87 c-0.6,1.4-0.9,2.92-0.9,4.55C17.53,100.49,16.79,101.23,15.89,101.23L15.89,101.23z M12.46,88.77c1.37,1.37,2.44,2.86,3.2,4.47 c0.75-1.57,1.79-3.02,3.13-4.37l0.08-0.09c1.37-1.37,2.86-2.44,4.47-3.2c-1.61-0.77-3.1-1.84-4.47-3.21 c-1.37-1.37-2.44-2.87-3.21-4.48c-0.75,1.56-1.79,3.02-3.11,4.37l-0.09,0.1c-1.37,1.37-2.86,2.44-4.47,3.21 C9.59,86.33,11.09,87.4,12.46,88.77L12.46,88.77z M62.44,122.88h-0.45c-0.9,0-1.64-0.73-1.64-1.64c0-1.62-0.3-3.14-0.9-4.54 c-0.6-1.41-1.52-2.73-2.76-3.97l-0.08-0.08c-1.21-1.19-2.5-2.08-3.89-2.67c-1.4-0.6-2.92-0.9-4.54-0.9c-0.9,0-1.64-0.73-1.64-1.64 v-0.45c0-0.9,0.73-1.64,1.64-1.64c1.62,0,3.14-0.3,4.54-0.9c1.41-0.6,2.74-1.52,3.97-2.76l0.08-0.08c1.19-1.21,2.08-2.51,2.68-3.9 c0.6-1.4,0.9-2.91,0.9-4.53c0-0.9,0.73-1.64,1.64-1.64h0.45c0.9,0,1.64,0.73,1.64,1.64c0,1.62,0.3,3.14,0.9,4.54 c0.6,1.41,1.52,2.73,2.75,3.97c1.23,1.23,2.55,2.15,3.96,2.76c1.4,0.6,2.92,0.9,4.54,0.9c0.9,0,1.64,0.73,1.64,1.64v0.45 c0,0.9-0.73,1.64-1.64,1.64c-1.62,0-3.14,0.3-4.54,0.9c-1.41,0.6-2.73,1.52-3.97,2.76l-0.09,0.08c-1.19,1.2-2.08,2.49-2.67,3.87 c-0.6,1.4-0.9,2.91-0.9,4.54C64.08,122.15,63.35,122.88,62.44,122.88L62.44,122.88z M59.01,110.42c1.37,1.37,2.44,2.86,3.2,4.47 c0.75-1.57,1.79-3.02,3.13-4.37l0.08-0.09c1.37-1.37,2.86-2.44,4.47-3.2c-1.61-0.77-3.1-1.84-4.47-3.21 c-1.37-1.37-2.44-2.87-3.21-4.48c-0.75,1.56-1.79,3.02-3.11,4.37l-0.09,0.1c-1.37,1.37-2.86,2.44-4.47,3.2 c1.57,0.75,3.03,1.79,4.37,3.12L59.01,110.42L59.01,110.42z M93.6,88.82h-0.82c-0.9,0-1.64-0.73-1.64-1.64 c0-3.15-0.59-6.1-1.76-8.84c-1.17-2.75-2.95-5.31-5.33-7.69c-2.38-2.38-4.94-4.15-7.68-5.33c-2.73-1.17-5.68-1.76-8.84-1.76 c-0.9,0-1.64-0.73-1.64-1.64v-0.82c0-0.9,0.73-1.64,1.64-1.64c3.16,0,6.1-0.59,8.84-1.76c2.75-1.18,5.31-2.96,7.68-5.33 c2.37-2.38,4.15-4.95,5.33-7.7c1.17-2.74,1.76-5.68,1.76-8.82c0-0.9,0.73-1.64,1.64-1.64h0.82c0.9,0,1.64,0.73,1.64,1.64 c0,3.15,0.59,6.1,1.76,8.84c1.18,2.75,2.95,5.32,5.32,7.69c2.37,2.37,4.93,4.15,7.69,5.32c2.74,1.17,5.68,1.76,8.84,1.76 c0.9,0,1.64,0.73,1.64,1.64v0.82c0,0.9-0.73,1.64-1.64,1.64c-3.15,0-6.1,0.59-8.84,1.76c-2.75,1.18-5.32,2.95-7.69,5.32 c-2.37,2.38-4.15,4.94-5.32,7.69c-1.17,2.74-1.76,5.68-1.76,8.84C95.24,88.09,94.51,88.82,93.6,88.82L93.6,88.82z M92.39,77.07 c0.3,0.7,0.57,1.42,0.8,2.14c0.23-0.72,0.5-1.44,0.8-2.14c1.35-3.15,3.35-6.06,6.02-8.72c2.68-2.67,5.58-4.67,8.72-6.02 c0.7-0.3,1.41-0.57,2.14-0.8c-0.72-0.23-1.44-0.5-2.14-0.8c-3.14-1.34-6.04-3.35-8.71-6.02l-0.01-0.01 c-2.67-2.67-4.67-5.57-6.02-8.71c-0.3-0.7-0.57-1.42-0.8-2.15c-0.23,0.72-0.5,1.43-0.8,2.13c-1.34,3.14-3.35,6.05-6.02,8.72 c-2.67,2.68-5.58,4.69-8.72,6.03c-0.7,0.3-1.42,0.57-2.14,0.8c0.72,0.23,1.44,0.5,2.14,0.8c3.15,1.35,6.05,3.35,8.72,6.02 C89.04,71.01,91.05,73.92,92.39,77.07L92.39,77.07z"})]})),kt=c.memo(t=>e.jsx(Z,{...t,viewBox:"0 0 200 200",children:e.jsxs("g",{transform:"scale(0.6)",children:[e.jsxs("g",{transform:"translate(30, 0)",children:[e.jsx("path",{d:"M139.8,194.7s5-.3,9.2-3.4c4-3,6.3-6.8,6.3-10.3,0-3.5,0-92.4,0-92.4,0,0-.2-7.5-2.4-12.5-3.8-8.4-17.3-37.6-17.6-40.8-.2-2.3-.3-7,.2-7.2,5.5-1.2,12.9-4.6,10.8-12.7-2.3-8.7-10.7-7.9-10.7-7.9h-71.1s-8.4-.8-10.7,7.9,5.3,11.6,10.8,12.7c.5.2.4,4.9.2,7.2-.3,3.3-13.8,32.4-17.6,40.8-2.3,5-2.4,12.5-2.4,12.5v92.4c0,3.5,2.3,7.3,6.3,10.3,4.2,3.1,9.2,3.4,9.2,3.4h79.6Z",fill:"#fcfcfc",strokeWidth:"0"}),e.jsx("path",{d:"M155.3,88.3v92.4c0,3.5-2.3,7.3-6.3,10.3-4.2,3.1-9.2,3.4-9.2,3.4h-37.9c21.8-2.1,33.1-12.2,33.4-19.2s0-140.4,0-140.4c.3,3.3,13.8,32.4,17.6,40.9,2.3,5,2.4,12.5,2.4,12.5Z",fill:"#e5e5df",strokeWidth:"0"}),e.jsx("rect",{x:"44.7",y:"95.6",width:"110.5",height:"56.4",fill:"#4c6dc1",strokeWidth:"0"}),e.jsx("path",{d:"M155.6,95.6h-20v56.4h20v-56.4Z",fill:"#4850b5",strokeWidth:"0"}),e.jsx("path",{d:"M113.9,194.5h25.9s5-.3,9.2-3.4c4-3,6.3-6.8,6.3-10.3v-92.4s-.2-7.5-2.4-12.5c-3.8-8.4-17.3-37.6-17.6-40.9-.2-2.3-.3-7,.2-7.2,5.5-1.2,12.9-4.6,10.8-12.7-2.3-8.7-10.7-7.9-10.7-7.9h-71.1s-8.4-.8-10.7,7.9c-2.2,8.1,5.3,11.6,10.8,12.7.5.2.4,4.9.2,7.2-.3,3.3-13.8,32.4-17.6,40.9-2.3,5-2.4,12.5-2.4,12.5v92.4c0,3.5,2.3,7.3,6.3,10.3,4.2,3.1,9.2,3.4,9.2,3.4h53.7Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"8"})]}),e.jsxs("g",{transform:"translate(133, 130)",children:[e.jsx("path",{d:"M9.5,72.9c6.7-11.9,36.3-52.2,73.9-53.2,54.7-1.4,70,18.5,83.3,31.8,16.5,16.5,43.5,58.4,17.5,89.8-20.2,24.4-38.9,33.6-66.8,38.5-34.6,6.1-74.4-4.1-93.7-21.4S3.3,83.9,9.5,72.9Z",fill:"#f4bf7a",strokeWidth:"0"}),e.jsx("path",{d:"M180.2,120.8c-29.3,11.9-40,23.1-67.9,28-34.6,6.1-69.6-11.6-93.7-21.4-6.2-2.5-10.7-7.4-13.8-13.6,1.5,16.3,6.7,33.6,18.9,44.6,19.4,17.3,59.1,27.5,93.7,21.4,27.9-4.9,46.6-14.1,66.8-38.5,8.5-10.3,11.3-21.7,10.7-33-2.8,5.3-7.5,9.6-14.7,12.5Z",fill:"#c18f4d",strokeWidth:"0"}),e.jsx("path",{d:"M65.4,63.1c-3.7,5.4-9.7,6.9-14,4.1",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M142,107.4c-6.4,1.5-11.8-1.5-13.1-6.4",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M59.2,140.2c6.3,1.6,9.8,6.7,8.8,11.7",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M9.5,72.9c6.7-11.9,36.3-52.2,73.9-53.2,54.7-1.4,70,18.5,83.3,31.8,16.5,16.5,43.5,58.4,17.5,89.8-20.2,24.4-38.9,33.6-66.8,38.5-34.6,6.1-74.4-4.1-93.7-21.4S3.3,83.9,9.5,72.9Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7.1"})]}),e.jsxs("g",{transform:"translate(0,140)",children:[e.jsx("path",{d:"M100,43.7c-5.5,0-11.4-.7-19.1-1.7-23.9-5.9-48.6,3.8-62.9,25.1-12.5,18.5-13.9,38.9-10.1,59.4,3.8,21.1,13.4,39.8,31.2,54,15.3,14.6,31.3,18,50,10.2,4.2-.3,7-1.4,10.9-1.7,3.9.3,6.7,1.4,10.9,1.7,18.8,7.8,34.8,4.4,50-10.2,17.8-14.1,27.4-32.9,31.2-54,3.7-20.5,2.3-40.9-10.1-59.4-14.3-21.3-39.1-31-62.9-25.1-7.7,1-13.6,1.7-19.1,1.7Z",fill:"#ef3930",strokeWidth:"0"}),e.jsx("path",{d:"M101.8,56.7c15.2,0,28.1-9.9,32-16.3-4.9,0-9.8.5-14.7,1.7-7.7,1-13.6,1.7-19.1,1.7-5.5,0-11.4-.7-19.1-1.7-3.7-.9-7.4-1.4-11.1-1.6,3.9,6.5,16.8,16.3,31.9,16.3Z",fill:"#b52a2a",strokeWidth:"0"}),e.jsx("path",{d:"M192.5,120.3h.7c-1.4,11.1-4.5,21.9-9.3,31.6-3.9,8.1-9.1,15.4-15.4,21.8-6.5,6.5-13.9,13.2-22.2,17.2-7.5,3.6-15.9,4.7-24.1,3.2-6.9-1.2-13.1-4.9-20.2-5.1-4.8-.2-9,.3-13.6,1.9-8.5,2.9-16.8,4.9-25.7,3.1-9.1-1.9-16.4-7.1-23.2-13.1s-13.2-12.1-18.2-19.8c-4.4-6.7-7.8-14-10.3-21.7,42.3,29.3,144.3,13.7,181.5-19.1Z",fill:"#b52a2a",strokeWidth:"0"}),e.jsx("path",{d:"M160.9,167.4c-13.5,4.7-17.5-9.9-25.3-9-9.1,1-9.7,16-35.6,15.7-22.7-.3-30.2-16-34.8-16.6-9.8-1.2-6.6,11.2-15.5,12.6-11.8,1.9-21.7-6.8-32-14.9,5.1,9.5,12.1,18,21.3,25.3,15.3,14.6,31.3,18,50,10.2,4.2-.3,7-1.4,10.9-1.7,3.9.3,6.7,1.4,10.9,1.7,18.8,7.8,34.8,4.4,50-10.2,11.6-9.2,19.6-20.3,24.9-32.8-7.8,7.9-18.2,17.3-25,19.7Z",fill:"#cc8d27",strokeWidth:"0"}),e.jsx("path",{d:"M115.6,42.5c8.9-1.1,17.1-2.9,26.1-1.5,8.3,1.3,16.3,4.4,23.3,9.1,15.9,10.7,25.9,28.7,28.3,47.5.9,7.4.9,15.1,0,22.7-1.4,11-4.5,21.8-9.3,31.5-3.9,8.1-9.1,15.4-15.4,21.8-6.5,6.5-13.9,13.2-22.2,17.2-7.5,3.6-15.9,4.7-24.1,3.2-6.9-1.2-13.1-4.9-20.2-5.1-4.8-.2-9,.3-13.6,1.9-8.5,2.9-16.8,4.9-25.7,3.1-9.1-1.9-16.4-7.1-23.2-13.1s-13.2-12.1-18.2-19.8c-4.4-6.7-7.8-14-10.3-21.7-3.2-9.9-4.8-20.3-4.9-30.6-.5-37,28-72.5,67.3-68.2,4.6.5,9.1,1.6,13.7,2.1",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M106.4,5.2l7.7,5.4c-3,6.4-9.5,13.5-12.7,39,0,0-4-16.4-2.7-27s7.8-17.4,7.8-17.4Z",fill:"#8c5144",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"})]})]})})),jt=c.memo(t=>e.jsxs(Z,{...t,viewBox:"0 0 512 512",children:[e.jsx("path",{d:`M218.856,98.781c4.859,1.75,12.844,4.656,12.844,11.5h48.578c0-6.844,8.016-9.75,12.875-11.5
                c5.344-1.906,16.813-9.938,16.813-22.813c0-20.375-20.234-35.391-53.969-35.391s-53.969,15.016-53.969,35.391
                C202.028,88.844,213.497,96.875,218.856,98.781z`}),e.jsx("path",{d:"M447.872,167.469c0-22.813-18.469-41.281-41.281-41.281H105.388c-22.797,0-41.266,18.469-41.266,41.281v24.75h383.75V167.469z"}),e.jsx("path",{d:`M492.388,215.594c-10.813,0-32.813,0-44.516,0h-7.75H71.888h-7.766c-11.703,0-33.688,0-44.516,0
                c-27.5,0-24.75,26.141,0,30.266c12.328,2.047,31.719,10.828,44.516,24.328v159.969c0,22.797,18.469,41.266,41.266,41.266h301.203
                c22.813,0,41.281-18.469,41.281-41.266V270.203c12.797-13.516,32.188-22.297,44.516-24.344
                C517.153,241.734,519.888,215.594,492.388,215.594z`})]})),Ve=c.memo(({mainSkill:t,second:n,firstIngredient:r})=>{switch(t){case"Charge Energy S":case"Charge Energy S (Moonlight)":return e.jsx(Vr,{sx:{color:"#ff88aa"},fontSize:"small"});case"Energy for Everyone S":return e.jsx(pt,{sx:{color:"#ff88aa"},fontSize:"small"});case"Energy for Everyone S (Lunar Blessing)":return n!==!0?e.jsx(pt,{sx:{color:"#ff88aa"},fontSize:"small"}):e.jsx(ce,{sx:{color:"#ff944b"}});case"Energizing Cheer S":return e.jsx(gt,{sx:{color:"#ff88aa"},fontSize:"small"});case"Charge Strength M":case"Charge Strength M (Bad Dreams)":case"Charge Strength S":case"Charge Strength S (Random)":case"Charge Strength S (Stockpile)":case"Berry Burst":case"Berry Burst (Disguise)":return e.jsx(ce,{sx:{color:"#ff944b"}});case"Dream Shard Magnet S":case"Dream Shard Magnet S (Random)":return e.jsx(Ut,{});case"Extra Helpful S":return e.jsx(In,{sx:{color:"#66cc66"},fontSize:"small"});case"Helper Boost":return e.jsx(_r,{sx:{color:"#66cc66"},fontSize:"small"});case"Ingredient Magnet S (Plus)":return n!==!0?e.jsx(kt,{fontSize:"small"}):e.jsx(ve,{name:r??"apple"});case"Ingredient Magnet S":case"Ingredient Draw S":case"Ingredient Draw S (Super Luck)":case"Ingredient Draw S (Hyper Cutter)":return e.jsx(kt,{fontSize:"small"});case"Cooking Power-Up S":return e.jsx(jt,{sx:{color:"#886666"},fontSize:"small"});case"Cooking Power-Up S (Minus)":return n!==!0?e.jsx(jt,{sx:{color:"#886666"},fontSize:"small"}):e.jsx(gt,{sx:{color:"#ff88aa"},fontSize:"small"});case"Tasty Chance S":return e.jsx($r,{sx:{color:"#ff0000"},fontSize:"small"});case"Metronome":return e.jsx(Or,{sx:{color:"#999"},fontSize:"small"});case"Skill Copy":case"Skill Copy (Mimic)":case"Skill Copy (Transform)":return e.jsx(Hr,{sx:{color:"#999"},fontSize:"small"});default:return e.jsx(e.Fragment,{children:"ー"})}}),qt=c.memo(({mainSkill:t,checked:n,onClick:r})=>{const{t:i}=T(),s=w.useCallback(l=>{const o=l.currentTarget.value;r(o)},[r]);return e.jsxs(Ai,{value:t,onClick:s,children:[e.jsxs("div",{children:[!n&&e.jsx(Ve,{mainSkill:t}),n&&e.jsx(Ie,{role:"switch"})]}),i(`skills.${t}`)]})}),Ai=M(F)({height:"2.2rem",lineHeight:1.2,margin:"1%",color:"black",fontSize:"0.8rem",justifyContent:"left",alignItems:"center",textAlign:"left",padding:0,textTransform:"none","& > div":{width:"24px","& > svg":{marginRight:"4px"},'& > svg[role="switch"]':{color:"white",width:"18px",height:"18px",background:"#24d76a",borderRadius:"5px",fontSize:"15px",border:"2px solid white"}}}),Oe=M(Mn)(({theme:t})=>{const n=t.typography.button;return{fontFamily:n.fontFamily,fontSize:n.fontSize,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,lineHeight:n.lineHeight,display:"inline",textAlign:"left",padding:0,color:"black","&::before":{borderBottom:"1px solid rgba(0, 0, 0, 0.42)",content:'"\\00a0"',position:"absolute",bottom:0,left:0,right:0},"&::after":{borderBottom:"2px solid #1976d2",content:'"\\00a0"',position:"absolute",bottom:0,left:0,right:0,transform:"scaleX(0)",transition:"transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms"},"&:focus::after":{transform:"scaleX(1)"},"&.focused::after":{transform:"scaleX(1)"}}}),Li=c.memo(({iv:t,onChange:n})=>{const r=t.nature,[i,s]=c.useState(!1),l=c.useRef(null),o=c.useCallback(()=>{s(u=>!u)},[s]),a=c.useCallback(()=>{s(!1)},[s]),d=c.useRef(i);return c.useEffect(()=>{d.current===!0&&i===!1&&l.current.focus(),d.current=i},[i]),e.jsxs(e.Fragment,{children:[e.jsx(Oe,{ref:l,onClick:o,className:i?"focused":"",children:e.jsx(Zt,{value:r})}),e.jsx(Ri,{iv:t,open:i,anchorRef:l,onClose:a,onChange:n})]})}),Ri=c.memo(({iv:t,open:n,anchorRef:r,onClose:i,onChange:s})=>{const{t:l}=T(),[o,a]=c.useState(1),[d,u]=c.useState(null),h=c.useMemo(()=>H.allNatures.filter(f=>t.pokemon.id!==Nt||t.pokemon.form==="Amped"&&f.isAmped||t.pokemon.form==="Low Key"&&f.isLowKey),[t.pokemon.id,t.pokemon.form]),m=c.useCallback(f=>{const k=f.currentTarget.getAttribute("value"),C=h.filter(b=>b.upEffect===k);if(C.length===1){s(new H(C[0].name)),i();return}u(k),a(2)},[h,s,i]),g=c.useCallback(f=>{const k=f.currentTarget.getAttribute("value");k!==null&&(s(new H(k)),i())},[s,i]),x=c.useCallback(f=>f.map(k=>({nature:k,key:l(`natures.${k.name}`)})).sort((k,C)=>k.key>C.key?1:-1).map(k=>k.nature),[l]);let y=[];const p=["No effect","Speed of help","Main skill chance","Ingredient finding","EXP gains","Energy recovery"];if(o===1)for(const f of p){const k=x(h.filter(b=>b.upEffect===f)).map(b=>e.jsx("span",{children:l(`natures.${b.name}`)},b.name)),C=f==="No effect"?e.jsx(e.Fragment,{children:l("nature effect.No effect")}):e.jsx(Xe,{children:l(`nature effect.${f}`)});y.push(e.jsx(zi,{value:f,onClick:m,children:e.jsxs("div",{children:[e.jsx("div",{className:"up",children:C}),e.jsx("div",{className:"natures",children:k})]})},f))}return o===2&&(y=x(h.filter(k=>k.upEffect===d)).map(k=>e.jsx(j,{value:k.name,onClick:g,children:e.jsx(Zt,{value:k})},k.name))),c.useEffect(()=>{n||a(1)},[n]),e.jsx(gn,{open:n,onClose:i,anchorEl:r.current,children:e.jsx($e,{children:y})})}),yt=M("div")({display:"grid",gridTemplateColumns:"8rem 1fr",gridGap:".3rem","& > span":{border:"2px solid #24d76a",borderRadius:"1rem",textAlign:"center",padding:".2rem 0",margin:".5rem 1rem .5rem 0"},"& > div":{margin:"auto 0",fontSize:".8rem","& > span":{display:"block"}}}),Xe=M("span")({"&::after":{content:'" ▲▲"',color:"#ff6666"}}),pn=M("span")({"&::after":{content:'" ▼▼"',color:"#6666ff"}}),zi=M(j)({"& > div":{"& > div.up":{height:"1rem",fontSize:"1rem"},"& > div.natures":{height:".6rem","& >span":{paddingRight:".8rem",color:"#888",fontSize:".6rem"}}}}),Zt=c.memo(({value:t})=>{const{t:n}=T();return t.upEffect==="No effect"?e.jsxs(yt,{children:[e.jsx("span",{children:n(`natures.${t.name}`)}),e.jsx("div",{children:n("nature effect.No effect")})]}):e.jsxs(yt,{children:[e.jsx("span",{children:n(`natures.${t.name}`)}),e.jsxs("div",{children:[e.jsx(Xe,{children:n(`nature effect.${t.upEffect}`)}),e.jsx(pn,{children:n(`nature effect.${t.downEffect}`)})]})]})});function ct(){const t=c.useRef({elm:null}),[n,r]=c.useState(200),i=c.useMemo(()=>new ResizeObserver(()=>{const l=t.current.elm;l!==null&&r(Math.floor(l.getBoundingClientRect().width))}),[]),s=c.useCallback(l=>{if(l===null){i.disconnect();return}t.current.elm=l,r(Math.floor(l.getBoundingClientRect().width)),i.disconnect(),i.observe(l)},[i]);return[n,s]}const Gt=20,bt=20,Kt=c.memo(({index:t,width:n,children:r,onChange:i})=>{const s=c.useRef(!0),l=Array.isArray(r)?r.length:0,o=n+Gt,[{x:a},d]=Mt(()=>({x:-t*o}),[t,o]),u=xr(({active:h,movement:[m],velocity:[g],cancel:x})=>{if(h)return d.start({x:-t*o+m,immediate:!0});const y=Math.abs(g)>.2||Math.abs(m)>n/2;let p=t;return y&&(p+=m>0?-1:1,p=Math.max(0,Math.min(l-1,p))),p!==t&&i(p),d.start({x:-p*o})},{from:[-t*o,0],bounds:()=>({left:t===l-1?-o*(l-1)-bt:-1/0,right:t===0?bt:1/0}),rubberband:!0});return c.useEffect(()=>{s.current?d.set({x:-t*o}):d.start({x:-t*o}),s.current=!1},[t,n,d]),Array.isArray(r)?e.jsx(Pi,{...u(),children:e.jsx(Tt.div,{className:"tabTrack",style:{x:a},children:r.map((h,m)=>e.jsx("div",{style:{width:n},children:h},m))})}):null}),Pi=M("div")({overflow:"hidden",touchAction:"pan-y",overscrollBehavior:"contain","& > div.tabTrack":{display:"flex",flexWrap:"nowrap",gap:Gt,width:"max-content","& > *":{flex:"0 0 100%"}}}),Di=c.memo(({open:t,value:n,onChange:r,onClose:i})=>{const{t:s}=T(),[l,o]=ct(),[a,d]=c.useState(0),u=c.useCallback((S,A)=>{d(A)},[]),h=w.useCallback(()=>{r(new ie({}))},[r]),m=w.useCallback(()=>{i()},[i]),g=w.useCallback(S=>{r(new ie({...n,name:S.target.value}))},[n,r]),x=w.useCallback(S=>{const A=n.filterTypes.includes(S)?n.filterTypes.filter(z=>z!==S):[...n.filterTypes,S];r(new ie({...n,filterTypes:A}))},[n,r]),y=w.useCallback(S=>{r(new ie({...n,filterSpecialty:n.filterSpecialty.includes(S)?n.filterSpecialty.filter(A=>A!==S):[...n.filterSpecialty,S]}))},[n,r]),p=w.useCallback(S=>{const A=n.ingredientName===S?void 0:S;r(new ie({...n,ingredientName:A}))},[n,r]),f=c.useCallback(S=>{r(new ie({...n,ingredientUnlockedOnly:S.target.checked}))},[r,n]),k=w.useCallback(S=>{r(new ie({...n,mainSkillNames:S}))},[n,r]),C=Be.map(S=>e.jsx(He,{type:S,onClick:x,checked:n.filterTypes.includes(S)},S)),b=Xn.map(S=>e.jsx(Ae,{specialty:S,onClick:y,checked:n.filterSpecialty.includes(S)},S)),v=dn.map(S=>e.jsx(Vt,{ingredient:S,onClick:p,checked:n.ingredientName===S},S));return e.jsxs(Wi,{open:t,onClose:i,children:[e.jsx("div",{ref:o,children:e.jsx(ne,{size:"small",fullWidth:!0,value:n.name,onChange:g,slotProps:{input:{endAdornment:e.jsx(ln,{position:"start",children:e.jsx(In,{})})}}})}),e.jsxs(Hi,{variant:"scrollable",scrollButtons:!0,value:a,onChange:u,children:[e.jsx(nn,{label:s("type"),value:0}),e.jsx(nn,{label:s("ingredient"),value:1}),e.jsx(nn,{label:s("main skill"),value:2}),e.jsx(nn,{label:s("sub skills"),value:3}),e.jsx(nn,{label:s("nature"),value:4})]}),e.jsxs(Kt,{index:a,width:l,onChange:d,children:[e.jsxs("div",{className:"tabChild",children:[C,e.jsx("h4",{style:{margin:"1rem 0 0.5rem"},children:s("specialty")}),b]}),e.jsxs("div",{className:"tabChild",children:[v,e.jsxs("section",{children:[e.jsxs("label",{children:[s("unlocked only"),":"]}),e.jsx(le,{checked:n.ingredientUnlockedOnly,onChange:f})]})]}),e.jsx("div",{className:"tabChild",children:e.jsx(Oi,{value:n.mainSkillNames,onChange:k})}),e.jsx("div",{className:"tabChild",children:e.jsx($i,{value:n,onChange:r})}),e.jsx("div",{className:"tabChild",children:e.jsx(_i,{value:n,onChange:r})})]}),e.jsxs($,{children:[e.jsx(F,{onClick:h,children:s("clear")}),e.jsx(F,{onClick:m,children:s("close")})]})]})}),Wi=M(V)({"div.MuiPaper-root":{maxWidth:"480px","& > div":{margin:".5rem .5rem 0 .5rem"},"& div.tabChild":{"& > section":{margin:"0 0.8rem",fontSize:".9rem",display:"flex",flex:"0 auto",alignItems:"center",maxWidth:"100%","&:first-of-type":{marginTop:"0.3rem"},"& > label":{marginRight:"auto"}}}}}),Hi=M(Cn)({minHeight:"36px",marginBottom:"clamp(.3rem, 0.6vh, .7rem)"}),nn=M(wn)({minHeight:"36px",minWidth:"0",padding:"6px clamp(6px, 1vw, 8px)",textTransform:"none"}),Oi=c.memo(({value:t,onChange:n})=>{const r=w.useCallback(s=>{const l=t.includes(s)?t.filter(o=>o!==s):[...t,s];n(l)},[t,n]),i=mn.map(s=>e.jsx(qt,{mainSkill:s,onClick:r,checked:t.includes(s)},s));return e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:i})}),$i=c.memo(({value:t,onChange:n})=>{const{t:r}=T(),i=w.useCallback(a=>{const d=t.subSkillNames.includes(a)?t.subSkillNames.filter(u=>u!==a):[...t.subSkillNames,a];n(new ie({...t,subSkillNames:d}))},[t,n]),s=w.useCallback(a=>{n(new ie({...t,subSkillUnlockedOnly:a.target.checked}))},[t,n]),l=w.useCallback(a=>{n(new ie({...t,subSkillAnd:a.target.checked}))},[t,n]),o=c.useCallback(a=>t.subSkillNames.includes(a.name)?e.jsx(Ie,{}):0,[t]);return e.jsxs(e.Fragment,{children:[e.jsx(_t,{subSkill2Badge:o,onClick:i}),e.jsxs("section",{style:{marginTop:"2rem"},children:[e.jsxs("label",{children:[r("unlocked only"),":"]}),e.jsx(le,{checked:t.subSkillUnlockedOnly,size:"small",onChange:s})]}),e.jsxs("section",{children:[e.jsx("label",{children:"AND:"}),e.jsx(le,{checked:t.subSkillAnd,size:"small",onChange:l})]})]})}),_i=c.memo(({value:t,onChange:n})=>{const r=w.useCallback(l=>{n(new ie({...t,neutralNature:!t.neutralNature,upNature:"No effect",downNature:"No effect"}))},[t,n]),i=w.useCallback(l=>{let o=t.downNature;o===l&&(o="No effect"),n(new ie({...t,neutralNature:!1,upNature:l===t.upNature?"No effect":l,downNature:o}))},[t,n]),s=w.useCallback(l=>{let o=t.upNature;o===l&&(o="No effect"),n(new ie({...t,neutralNature:!1,upNature:o,downNature:l===t.downNature?"No effect":l}))},[t,n]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:"0.4rem"},children:e.jsx(pe,{label:"No effect",onClick:r,checked:t.neutralNature})}),e.jsxs(vt,{children:[e.jsx(pe,{label:"Speed of help",up:!0,checked:t.upNature==="Speed of help",onClick:i}),e.jsx(pe,{label:"Main skill chance",up:!0,checked:t.upNature==="Main skill chance",onClick:i}),e.jsx(pe,{label:"Ingredient finding",up:!0,checked:t.upNature==="Ingredient finding",onClick:i}),e.jsx(pe,{label:"EXP gains",up:!0,checked:t.upNature==="EXP gains",onClick:i}),e.jsx(pe,{label:"Energy recovery",up:!0,checked:t.upNature==="Energy recovery",onClick:i})]}),e.jsxs(vt,{children:[e.jsx(pe,{label:"Speed of help",down:!0,checked:t.downNature==="Speed of help",onClick:s}),e.jsx(pe,{label:"Main skill chance",down:!0,checked:t.downNature==="Main skill chance",onClick:s}),e.jsx(pe,{label:"Ingredient finding",down:!0,checked:t.downNature==="Ingredient finding",onClick:s}),e.jsx(pe,{label:"EXP gains",down:!0,checked:t.downNature==="EXP gains",onClick:s}),e.jsx(pe,{label:"Energy recovery",down:!0,checked:t.downNature==="Energy recovery",onClick:s})]})]})}),vt=M("div")({display:"grid",gridTemplateColumns:"1fr 1fr",marginTop:"1rem"}),pe=c.memo(({label:t,checked:n,up:r,down:i,onClick:s})=>{const{t:l}=T(),o=w.useCallback(a=>{const d=a.currentTarget.value;s(d)},[s]);return e.jsxs(Vi,{value:t,onClick:o,children:[r===!0?e.jsx(Xe,{children:l(`nature effect.${t}`)}):i===!0?e.jsx(pn,{children:l(`nature effect.${t}`)}):l(`nature effect.${t}`),n&&e.jsx(Ie,{role:"switch"})]},t)}),Vi=M(F)({color:"black",textAlign:"left",fontSize:"clamp(0.65rem, calc(2vw), 0.8rem)",textTransform:"none",borderRadius:"0.5rem",border:"1px solid #ccc",margin:"2px",'& > svg.MuiSvgIcon-root[role="switch"]':{position:"absolute",background:"#24d76a",borderRadius:"15px",fontSize:"15px",color:"white",border:"1px solid white",bottom:"1px",right:"10px"}}),he=c.memo(({children:t,value:n,renderValue:r,sx:i,menuSx:s,onChange:l})=>{const[o,a]=c.useState(!1),d=c.useRef(null),u=c.useCallback(()=>{a(!0)},[]),h=c.useCallback(()=>{a(!1)},[]),m=c.useCallback(f=>{if(l===void 0)return;const k=f.props.value;k!=null&&(l(k),h())},[l,h]),g=c.Children.toArray(t),x=g.find(f=>typeof f=="object"&&"props"in f&&f.props.value===n);let y=null;r!==void 0?y=r(n):typeof x=="object"&&"props"in x&&(y=x.props.children);const p=g.map(f=>{if(!c.isValidElement(f))return null;const k=n===f.props.value;return c.cloneElement(f,{onClick:()=>{m(f)},selected:k})});return e.jsxs(e.Fragment,{children:[e.jsx(Oe,{ref:d,onClick:u,style:i,className:o?"focused":"",children:y}),e.jsx(gn,{anchorEl:d.current,open:o,onClose:h,children:e.jsx($e,{style:s,children:p})})]})}),dt=c.memo(({value:t,dispatch:n,sx:r})=>{const{t:i}=T(),s=c.useCallback(l=>{n({type:"changeParameter",payload:{parameter:{...t,level:parseInt(l,10)}}})},[n,t]);return e.jsxs(he,{sx:r,value:t.level,onChange:s,children:[e.jsx(j,{dense:!0,value:0,children:i("current level")}),e.jsx(un,{}),e.jsx(j,{dense:!0,value:10,children:"Lv. 10"}),e.jsx(j,{dense:!0,value:25,children:"Lv. 25"}),e.jsx(j,{dense:!0,value:30,children:"Lv. 30"}),e.jsx(j,{dense:!0,value:50,children:"Lv. 50"}),e.jsx(j,{dense:!0,value:60,children:"Lv. 60"}),e.jsx(j,{dense:!0,value:65,children:"Lv. 65"}),e.jsx(j,{dense:!0,value:75,children:"Lv. 75"}),e.jsx(j,{dense:!0,value:100,children:"Lv. 100"})]})}),Xt=c.memo(({message:t,open:n,onClose:r})=>{const{t:i}=T();return n?e.jsxs(V,{open:n,onClose:r,children:[e.jsx(K,{children:t}),e.jsx($,{children:e.jsx(F,{onClick:r,autoFocus:!0,children:i("close")})})]}):e.jsx(e.Fragment,{})}),Dn=100,Ui=c.memo(({value:t,onChange:n})=>{const[r,i]=c.useState(!1),[s,l]=c.useState(!1),o=c.useRef(null),a=c.useCallback(f=>{let k=parseInt(f,10);(isNaN(k)||k<1)&&(k=0),k>Dn&&(k=Dn),i(!1),t!==k&&n(k)},[n,t]),d=c.useCallback(f=>{if(f===null)return;const k=f.target.value;if(typeof k=="string"&&k.trim()===""){i(!0),n(0);return}a(k)},[a,n]),u=c.useCallback(()=>{l(!0)},[]),h=c.useCallback(f=>{l(!1),f!==null&&a(f.target.value)},[a]),m=c.useCallback((f,k)=>{k!==null&&n(parseInt(k,10))},[n]),g=["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],x=c.useCallback(f=>f,[]),y=r?"":t.toString()+(s?"":"%"),p=s?"number":"text";return e.jsx(nt,{size:"small",options:g,freeSolo:!0,disableClearable:!0,value:y,sx:{width:"4rem"},onFocus:u,onBlur:h,onInputChange:d,onChange:m,filterOptions:x,renderInput:f=>e.jsx(ne,{...f,variant:"standard",type:p,inputRef:o,slotProps:{htmlInput:{...f.inputProps,min:0,max:Dn,inputMode:"numeric",style:{textOverflow:"clip"}}}}),slots:{paper:Gi,popper:qi}})}),qi=function(t){return e.jsx(Bn,{...t,style:{width:"17.5rem",zIndex:2147483647},placement:"bottom-end"})},Zi=M(et)({width:"17.5rem","& > ul":{display:"grid",gridTemplateColumns:"3.5rem 3.5rem 3.5rem 3.5rem 3.5rem",margin:0,padding:0,"& > li.MuiAutocomplete-option":{display:"inline-block",width:"3.5rem",textAlign:"center",height:"3rem",padding:0,verticalAlign:"middle",lineHeight:"2.8rem",borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& > li.MuiAutocomplete-option:nth-of-type(5n)":{borderRight:0}}}),Gi=c.forwardRef((t,n)=>{const{sx:r,...i}=t;return e.jsx(Zi,{ref:n,...i})}),qe=c.memo(({size:t,type:n,disabled:r,deletable:i,onChange:s,onClick:l,onDelete:o})=>{const[a,d]=c.useState(!1),u=c.useRef(null),h=c.useCallback(p=>{l?.(p),r!==!0&&d(!0)},[r,l]),m=c.useCallback(p=>{o?.(n)},[n,o]),g=c.useCallback(p=>{s(p),d(!1)},[s]),x=c.useCallback(()=>{d(!1)},[]),y=Be.map(p=>e.jsx(He,{type:p,size:t,onClick:g,checked:p===n},p));return e.jsxs(e.Fragment,{children:[e.jsx(He,{ref:u,type:n,size:t,deletable:i,disabled:r,onClick:h,onDelete:m,checked:!1}),e.jsx(gn,{anchorEl:u.current,open:a,onClose:x,children:e.jsx($e,{style:{padding:0,width:t==="small"?"15rem":"16.2rem"},children:y})})]})}),Ki=c.memo(({show:t,children:n})=>{const r=c.useRef(null),[i,s]=c.useState(0),[l,o]=c.useState(n);c.useEffect(()=>{setMounted(!0)},[]),c.useEffect(()=>{t&&o(n)},[n,t]),c.useLayoutEffect(()=>{s(r.current?r.current.scrollHeight:0)},[n,l]);const a=Mt({height:t?i:0,config:{tension:400,friction:40}});return e.jsx(Tt.div,{style:{...a,overflow:"hidden"},children:e.jsx("div",{ref:r,children:l})})}),Xi=c.memo(({value:t,onChange:n})=>{const{t:r}=T(),i=Ze(t.fieldIndex),{types:s,reasons:l}=c.useMemo(()=>lt(t),[t]),o=c.useCallback(m=>{const g=[t.favoriteType[0]??"normal",t.favoriteType[1]??"normal",t.favoriteType[2]??"normal"];g[0]=m,n({...t,favoriteType:g})},[n,t]),a=c.useCallback(m=>{const g=[t.favoriteType[0]??"normal",t.favoriteType[1]??"normal",t.favoriteType[2]??"normal"];g[1]=m,n({...t,favoriteType:g})},[n,t]),d=c.useCallback(m=>{const g=[t.favoriteType[0]??"normal",t.favoriteType[1]??"normal",t.favoriteType[2]??"normal"];g[2]=m,n({...t,favoriteType:g})},[n,t]),u=c.useCallback(m=>{const g=[m,...s.filter(x=>x!==m)];n({...t,favoriteType:g})},[n,t,s]),h=c.useCallback(m=>{n({...t,expertEffect:m})},[n,t]);return e.jsxs(Ki,{show:t.fieldIndex>=0,children:[e.jsxs("section",{children:[e.jsxs("label",{children:[r("favorite berry"),":"]}),e.jsxs(Qi,{children:[e.jsxs("span",{children:[i&&e.jsx("header",{children:r("main")}),l[0]==="random"?e.jsx(qe,{type:s[0],size:"small",onChange:o}):e.jsx(He,{type:s[0],size:"small",checked:!1,onClick:u}),e.jsx("footer",{className:l[0].replace(/ /g,"-"),children:r(l[0])})]}),e.jsxs("span",{children:[i&&e.jsx("header",{children:r("sub1")}),l[1]==="random"?e.jsx(qe,{type:s[1],size:"small",onChange:a}):e.jsx(He,{type:s[1],size:"small",checked:!1,onClick:u}),e.jsx("footer",{className:l[1].replace(/ /g,"-"),children:r(l[1])})]}),e.jsxs("span",{children:[i&&e.jsx("header",{children:r("sub2")}),l[2]==="random"?e.jsx(qe,{type:s[2],size:"small",onChange:d}):e.jsx(He,{type:s[2],size:"small",checked:!1,onClick:u}),e.jsx("footer",{className:l[2].replace(/ /g,"-"),children:r(l[2])})]})]})]}),i&&e.jsxs("section",{children:[e.jsxs("label",{children:[r("expert effect"),":"]}),e.jsx(Ji,{value:t.expertEffect,onChange:h})]})]})}),Ji=c.memo(({value:t,onChange:n})=>{const{t:r}=T(),i=c.useCallback(s=>{n(s.target.value)},[n]);return e.jsxs(te,{variant:"standard",value:t,onChange:i,children:[e.jsx(j,{value:"berry",children:r("expert berry effect")}),e.jsxs(j,{value:"ing",children:[r("expert ing effect"),e.jsx("br",{}),e.jsx("small",{children:r("expert ing effect2")})]}),e.jsx(j,{value:"skill",children:r("expert skill effect")})]})}),Qi=M("span")({display:"flex","& > span":{display:"grid","& header":{display:"block",textAlign:"center",color:"white",width:"2rem",background:"#7cd377",fontSize:"0.5rem",borderRadius:"0.7rem",margin:"0 auto 2px auto",padding:"2px 12px"},"& > button":{marginTop:0,marginButton:0},"& > footer":{textAlign:"center",position:"relative",top:"-3px",fontSize:"0.6rem",fontWeight:"bold",color:"#7cd377","&.set-for-event":{color:"#e07377"}}}}),Jt=c.memo(({value:t,onChange:n})=>{const{t:r}=T(),i=c.useCallback(o=>{n({...t,fieldBonus:o})},[n,t]),s=c.useCallback(o=>{n({...t,isGoodCampTicketSet:o.target.checked})},[n,t]),l=t.period!==ae;return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"first",children:[e.jsxs("label",{children:[r("research area"),":"]}),e.jsx(Yt,{value:t,fontSize:"0.9rem",onChange:n})]}),e.jsx(Xi,{value:t,onChange:n}),e.jsxs("section",{children:[e.jsxs("label",{children:[r("area bonus"),":"]}),e.jsx(Ui,{value:t.fieldBonus,onChange:i})]}),e.jsx(me,{in:l,children:e.jsxs("section",{children:[e.jsxs("label",{children:[r("good camp ticket"),":"]}),e.jsx(le,{checked:t.isGoodCampTicketSet,size:"small",onChange:s})]})})]})}),Qt=c.memo(({open:t,value:n,onChange:r,onClose:i})=>{const{t:s}=T();return t?e.jsxs(V,{open:t,onClose:i,children:[e.jsx(Yi,{children:e.jsx(Jt,{value:n,onChange:r})}),e.jsx($,{children:e.jsx(F,{onClick:i,children:s("close")})})]}):e.jsx(e.Fragment,{})}),Yi=M(K)({minWidth:"16rem",paddingBottom:0,fontSize:"0.9rem","& section":{"& > label":{paddingTop:"1rem",display:"block"},"&.first > label":{paddingTop:0},"& > span, & > div, & > button:first-of-type":{marginLeft:"1rem",fontSize:"0.9rem"}}}),Yt=c.memo(({showConfigButton:t,value:n,fontSize:r,onChange:i})=>{const{t:s}=T(),[l,o]=c.useState(!1),[a,d]=c.useState(!1),u=c.useCallback(k=>{const C=parseInt(k,10);i({...n,fieldIndex:C})},[i,n]),h=c.useCallback(()=>{d(!0)},[]),m=c.useCallback(()=>{d(!1)},[]),g=c.useCallback(()=>{o(!0)},[]),x=c.useCallback(()=>{o(!1)},[]),y=[],p=[...ze];y.push(e.jsx(j,{value:cn,dense:!0,children:s("no favorite berries")},cn)),y.push(e.jsx(j,{value:an,dense:!0,children:s("all favorite berries")},an)),y.push(e.jsx(un,{},"divider"));for(const k of p)y.push(e.jsxs(j,{value:k.index,dense:!0,children:[e.jsx("span",{className:"field_icon",children:k.emoji}),s(`area.${k.index}`)]},k.index));const f=n.fieldIndex===6&&!t;return e.jsxs(e.Fragment,{children:[e.jsx(he,{value:n.fieldIndex,onChange:u,sx:{padding:"0 .2rem",fontSize:r??"1rem"},children:y}),t&&e.jsx(oe,{size:"small",style:{padding:"2px"},onClick:h,children:e.jsx(Pt,{fontSize:r?"inherit":"small"})}),f&&e.jsx(oe,{size:"small",color:"warning",style:{padding:"2px"},onClick:g,children:e.jsx(Dt,{fontSize:r?"inherit":"small"})}),e.jsx(Qt,{open:a,onClose:m,value:n,onChange:i}),e.jsx(Xt,{open:l,onClose:x,message:s("amber assumption")})]})}),el=c.memo(({sortConfig:t,parameter:n,dispatch:r,onChange:i})=>{const{t:s}=T(),l=c.useCallback(m=>{r({type:"changeParameter",payload:{parameter:m}})},[r]),o=c.useCallback(m=>{i({...t,ingredient:m})},[i,t]),a=c.useCallback(m=>{i({...t,mainSkill:m})},[i,t]),d=c.useCallback(m=>{l({...n,evolved:m.target.checked})},[n,l]),u=c.useMemo(()=>{const m=dn.map(g=>e.jsx(St,{value:g,children:e.jsx(ve,{name:g})},g));return m.push(e.jsx(St,{value:"unknown",children:s("total")},"unknown")),m},[s]),h=c.useMemo(()=>mn.map(m=>e.jsxs(tl,{value:m,children:[e.jsx(Ve,{mainSkill:m}),s(`skills.${m}`)]},m)),[s]);return t.sort!=="total strength"&&t.sort!=="berry"&&t.sort!=="ingredient"&&t.sort!=="skill count"?e.jsx(e.Fragment,{}):e.jsx(nl,{children:e.jsxs("div",{children:[e.jsx("span",{children:e.jsx(dt,{value:n,dispatch:r,sx:{padding:"0 .2rem",fontSize:"0.8rem",textWrap:"nowrap"}})}),(t.sort==="berry"||t.sort==="total strength")&&e.jsx("span",{className:"field",children:e.jsx(Yt,{value:n,onChange:l,fontSize:"0.8rem",showConfigButton:!0})}),t.sort==="ingredient"&&e.jsx("span",{className:"ing",children:e.jsx(he,{onChange:o,value:t.ingredient,sx:{padding:"0 .5rem",fontSize:"0.8rem"},menuSx:{display:"flex",flexWrap:"wrap",width:"16rem"},children:u})}),t.sort==="skill count"&&e.jsx("span",{className:"skill",children:e.jsx(he,{onChange:a,sx:{fontSize:"0.8rem",textWrap:"nowrap"},menuSx:{display:"grid",gridTemplateColumns:"1fr 1fr"},value:t.mainSkill,children:h})}),e.jsx("span",{className:"evolved",children:e.jsx(Lt,{control:e.jsx(le,{checked:n.evolved,size:"small",onChange:d}),label:s("calc with evolved (short)")})})]})})}),nl=M("div")({"& > div":{padding:".2rem 0 .2rem 1.2rem",background:"#f3f5f0",borderTop:"1px solid #ccc",position:"relative",display:"flex",flexWrap:"wrap",alignItems:"stretch",gap:"0 10px","& > span":{"& > button":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},"& span":{fontSize:"0.8rem"},"&.ing svg":{padding:"0 5px",width:"18px",height:"18px"},"&.skill svg":{width:"18px",height:"18px",paddingRight:"4px",verticalAlign:"top"},"&.evolved":{paddingLeft:"5px","& span.MuiTypography-root":{textWrap:"nowrap"}}}}}),St=M(j)({width:"4rem"}),tl=M(j)({maxWidth:"12rem",fontSize:"0.8rem",paddingLeft:"4px",textWrap:"wrap","& > svg":{width:"18px",height:"18px",padding:"0 4px",flexShrink:0}}),Ct=[0,0,54,125,233,361,525,727,971,1245,1560,1905,2281,2688,3107,3536,3976,4430,4899,5382,5879,6394,6931,7489,8068,8668,9290,9933,10598,11284,11992,12721,13469,14235,15020,15823,16644,17483,18340,19215,20108,21018,21946,22891,23854,24834,25831,26846,27878,28927,29993,31355,32917,34664,36610,38805,41084,43488,46021,48687,51493,54358,57280,60257,63286,66363],rl=[0,0,14,18,22,27,30,34,39,44,48,50,52,53,56,59,62,66,68,71,74,78,81,85,88,92,95,100,105,111,117,122,126,130,136,143,151,160,167,174,184,192,201,211,221,227,236,250,264,279,295,309,323,338,356,372,391,437,486,538,593,651,698,750,804,866],sl={600:1,900:1.5,1080:1.8,1320:2.2};function il(t,n,r,i){const s=t.level;if(s<0||s>fe||r<0||r>fe||s>=r)return{exp:0,candy:0,shards:0};const l=vn(s,r,t)-n;let o=0,a=0,d=n;const u=i==="none"?1:i==="mini"?4:5;for(let h=s;h<r;h++){const m=vn(h,h+1,t)-d,g=ll(h,t.nature,i),x=Math.ceil(m/g);o+=rl[h+1]*x*u,a+=Math.ceil(m/g),d=g*x-m}return{exp:l,candy:a,shards:o}}function ll(t,n,r){const i=r!=="none"?2:1;return t<25?(n.isExpGainsUp?41:n.isExpGainsDown?29:35)*i:t<30?(n.isExpGainsUp?35:n.isExpGainsDown?25:30)*i:(n.isExpGainsUp?30:n.isExpGainsDown?21:25)*i}function vn(t,n,r){const i=sl[r.pokemon.exp];return t<0||t>fe||n<0||n>fe?0:Math.round(Ct[n]*i)-Math.round(Ct[t]*i)}function P(t){t=Math.round(t*10);const n=(t%10).toString();return`${_(t/10)}.${n}`}function xe(t){t=Math.round(t*100);const n=(t%100).toString().padStart(2,"0");return`${_(t/100)}.${n}`}function ol(t){t=Math.round(t*1e3);const n=(t%1e3).toString().padStart(3,"0");return`${_(t/1e3)}.${n}`}function _(t){const n=[];for(t=Math.floor(t);t>=1e3;)n.push((t%1e3).toString().padStart(3,"0")),t=Math.floor(t/1e3);return n.push(t.toString()),n.reverse(),n.join(",")}function Ge(t,n){if(t<10)return xe(t);if(t<1e3)return P(t);if(t<1e5)return _(Math.round(t));const r=n("short num unit digits");if(r==="4")return(t/1e4).toFixed(1).toString()+n("short num unit");if(r==="3")return(t/1e3).toFixed(0).toString()+n("short num unit");throw new Error("unknown short num digits: "+r)}const al=M("div")({display:"flex",alignItems:"center",gap:".7rem",height:"1.8rem"}),cl=M(Jn)({userSelect:"none","& *":{userSelect:"none"}}),dl=/iP(hone|od|ad)/.test(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,er=c.memo(({hideInput:t,max:n,value:r,onChange:i})=>{const s=c.useCallback(a=>{if(a===null||dl&&a.type==="mousedown")return;const d=a.target.value;i(d)},[i]),l=c.useCallback(()=>{i(r-1)},[r,i]),o=c.useCallback(()=>{i(r+1)},[r,i]);return e.jsxs(al,{children:[!t&&e.jsx(ul,{value:r,onChange:i}),e.jsx(yn,{label:"◀",disabled:r===1,onClick:l}),e.jsx(cl,{min:1,max:n,size:"small",style:{userSelect:"none"},value:r,onChange:s}),e.jsx(yn,{label:"▶",disabled:r===n,onClick:o})]})}),ul=c.memo(({value:t,onChange:n})=>{const[r,i]=c.useState(!1),s=c.useRef(null),l=c.useCallback(h=>{if(h===null)return;const m=h.target.value;if(typeof m=="string"&&m.trim()===""){i(!0),n(1);return}let g=parseInt(m,10);(isNaN(g)||g<1)&&(g=1),g>100&&(g=100),i(!1),n(g)},[n]),o=c.useCallback((h,m)=>{m!==null&&(n(parseInt(m,10)),setTimeout(()=>{s.current?.blur()}))},[n]),a=["10","25","30","50","60","65","75","100"],d=c.useCallback(h=>h,[]),u=r?"":t.toString();return e.jsx(nt,{size:"small",options:a,freeSolo:!0,disableClearable:!0,value:u,sx:{width:"3rem"},onBlur:l,onInputChange:l,onChange:o,filterOptions:d,renderInput:h=>e.jsx(ne,{...h,variant:"standard",type:"number",inputRef:s,sx:{"& input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{WebkitAppearance:"none"},"& input[type=number]":{MozAppearance:"textfield"}},slotProps:{htmlInput:{...h.inputProps,min:1,max:100,inputMode:"numeric",style:{textOverflow:"clip",fontSize:"0.9rem"}}}}),slots:{paper:gl,popper:hl}})}),hl=function(t){return e.jsx(Bn,{...t,style:{zIndex:2147483647},placement:"bottom-start"})},ml=M(et)({width:"14rem","& > ul":{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",margin:0,padding:0,"& > li.MuiAutocomplete-option":{display:"inline-block",width:"3.5rem",textAlign:"center",height:"3rem",padding:0,verticalAlign:"middle",lineHeight:"2.8rem",borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"}}}),gl=c.forwardRef((t,n)=>{const{sx:r,...i}=t;return e.jsx(ml,{ref:n,...i})}),Gn=c.memo(({value:t,onChange:n})=>{const[r,i]=c.useState(!1),s=c.useRef(null),l=c.useCallback(()=>{i(!0)},[]),o=c.useCallback(()=>{i(!1)},[]),a=c.useCallback(d=>{i(!1),n(d)},[n]);return e.jsxs(e.Fragment,{children:[e.jsx(Oe,{ref:s,onClick:l,className:r?"focused":"",children:t}),e.jsx(gn,{anchorEl:s.current,open:r,onClose:o,children:e.jsxs(pl,{style:{width:"10rem"},children:[e.jsx(er,{max:fe,hideInput:!0,value:t,onChange:n}),e.jsxs("div",{className:"buttons",children:[e.jsx(F,{onClick:()=>a(10),children:"10"}),e.jsx(F,{onClick:()=>a(25),children:"25"}),e.jsx(F,{onClick:()=>a(30),children:"30"}),e.jsx(F,{onClick:()=>a(40),children:"40"}),e.jsx(F,{onClick:()=>a(50),children:"50"}),e.jsx(F,{onClick:()=>a(60),children:"60"}),e.jsx(F,{onClick:()=>a(65),children:"65"})]})]})})]})}),pl=M("div")({width:"10rem",padding:".3rem .7rem","& > div.buttons":{paddingTop:".4rem",marginLeft:"-0.2rem",display:"flex",flexWrap:"wrap",gap:"0.3rem 0.5rem","& > button":{color:"#79d073",fontWeight:"bold",fontSize:"0.8rem",padding:0,width:"1.5rem",height:"1.5rem",minWidth:"1.5rem",minHeight:"1.5rem",borderRadius:"50%",border:"1.5px solid #79d073"}}}),ut=c.memo(t=>e.jsx(Z,{...t,viewBox:"0 0 75 75",children:e.jsxs("g",{strokeLinejoin:"round",strokeWidth:"4",stroke:"currentColor",fill:"currentColor",transform:"rotate(-45, 45, 45)",children:[e.jsx("polygon",{points:"30,30 10,15 10,45"}),e.jsx("circle",{cx:"45",cy:"30",r:"18"}),e.jsx("polygon",{points:"60,30 80,15 80,45"})]})})),xl=/iP(hone|od|ad)/.test(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,nr=c.memo(({iv:t,dstLevel:n,open:r,onChange:i,onClose:s})=>{const{t:l}=T(),[o,a]=c.useState(t),[d,u]=c.useState(t.level),[h,m]=c.useState(0),[g,x]=c.useState(!1),[y,p]=c.useState(0),[f,k]=c.useState(fe),[C,b]=c.useState(0),[v,S]=c.useState("none"),[A,z]=c.useState(!1),B=c.useCallback(()=>y===0?!0:!(t.level===o.level&&t.idForm===o.idForm&&t.nature.expGainsFactor===o.nature.expGainsFactor),[t,o,y]);c.useEffect(()=>{if(r){if(!B()){z(!0);return}a(t),u(t.level),m(0),p(vn(t.level,t.level+1,t)),b(t.nature.expGainsFactor),z(!0);let O=0;n!==void 0?O=Math.min(n,fe):t.pokemon.specialty==="Berries"?O=65:t.pokemon.specialty==="Ingredients"?O=60:O=50,k(Math.max(O,t.level))}else z(!1)},[t,B,n,r]);const I=c.useCallback(O=>{const Q=parseInt(O.target.value,10);b(Q)},[]),N=c.useCallback(O=>{u(O),m(0),p(vn(O,O+1,t)),i(t.changeLevel(O))},[t,i]),W=c.useCallback(O=>{O!==null&&(xl&&O.type==="mousedown"||(x(!1),m(O.target.value)))},[]),X=c.useCallback(O=>{if(O===null)return;const Q=O.target.value;if(typeof Q=="string"&&Q.trim()===""){x(!0),m(0);return}let ge=parseInt(Q,10);(isNaN(ge)||ge<0)&&(ge=0),ge>y&&(ge=y),x(!1),m(y-ge)},[y]),E=c.useCallback((O,Q)=>{Q!==null&&S(Q)},[]);if(!A)return null;const R=t.changeLevel(d);R.nature=C===1?new H("Timid"):C===0?new H("Serious"):new H("Relaxed");const D=il(R,h,f,v),q=g?"":y-h;return e.jsx(e.Fragment,{children:e.jsxs(fl,{open:r,onClose:s,children:[e.jsxs("article",{children:[e.jsx("div",{className:"icon",children:e.jsx(Nn,{idForm:t.idForm,size:80})}),e.jsxs("div",{className:"levels",children:[e.jsxs("div",{className:"level",children:[e.jsxs("div",{className:"levelInput",children:[e.jsx("label",{children:"Lv."}),e.jsx(Gn,{value:d,onChange:N})]}),e.jsxs("div",{className:"expLeft",children:[e.jsx(kl,{value:h,min:0,max:y-1,onChange:W}),e.jsx(Ur,{value:q,type:"number",size:"small",startAdornment:e.jsx(ln,{position:"start",children:l("exp to go1")}),endAdornment:e.jsx(ln,{position:"end",children:l("exp to go2")}),onChange:X,inputProps:{inputMode:"numeric"},sx:{"& input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{WebkitAppearance:"none"},"& input[type=number]":{MozAppearance:"textfield"}}})]})]}),e.jsx(qr,{}),e.jsx("div",{className:"level",children:e.jsxs("div",{className:"levelInput",children:[e.jsx("label",{children:"Lv."}),e.jsx(Gn,{value:f,onChange:k})]})})]}),e.jsx("div",{className:"expResult",children:e.jsxs("section",{children:[e.jsxs("label",{children:[l("required exp"),":"]}),e.jsx("div",{children:_(D.exp)})]})}),e.jsxs("div",{className:"candyResult",children:[e.jsxs("section",{children:[e.jsxs("label",{children:[l("candy"),":"]}),e.jsxs("div",{children:[e.jsx(ut,{sx:{color:"#e7ba67"}}),_(D.candy)]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[l("dream shard"),":"]}),e.jsxs("div",{children:[e.jsx(Ut,{}),_(D.shards)]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[l("nature"),":"]}),e.jsxs(te,{variant:"standard",onChange:I,value:C,size:"small",children:[e.jsx(j,{value:1,children:e.jsx(Xe,{children:l("nature effect.EXP gains")})}),e.jsxs(j,{value:0,children:[l("nature effect.EXP gains")," ーー"]}),e.jsx(j,{value:-1,children:e.jsx(pn,{children:l("nature effect.EXP gains")})})]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[l("candy boost"),":"]}),e.jsxs(G,{size:"small",exclusive:!0,value:v,onChange:E,children:[e.jsx(L,{value:"none",children:l("none")}),e.jsx(L,{value:"mini",children:l("mini candy boost")}),e.jsx(L,{value:"unlimited",children:l("normal candy boost")})]})]})]})]}),e.jsx($,{children:e.jsx(F,{onClick:s,children:l("close")})})]})})}),fl=M(V)({"& > div.MuiDialog-container > div.MuiPaper-root":{maxWidth:"22rem"},"& .MuiPaper-root":{width:"100%","& > article":{padding:".8rem .8rem 0 .8rem","& > div.icon":{margin:"0 auto .5rem",width:"80px"},"& > div.levels":{display:"flex",justifyContent:"center",gap:"0.7rem",margin:"0 auto","& > div.level":{width:"7rem","& > div.levelInput":{color:"#79d073",fontSize:"1.2rem",fontWeight:"bold",display:"flex",justifyContent:"center",gap:"0.2rem","& > label":{transform:"scale(1, 0.9)",paddingTop:"0.2rem"},"& > button":{color:"#79d073",width:"3rem",fontWeight:"bold",fontSize:"1.3rem !important",paddingBottom:0,transform:"scale(1, 0.9)"}},"& > div.expLeft":{paddingTop:"0.3rem","& > div.MuiInput-root":{top:"-0.2rem","& > div.MuiInputAdornment-root > p":{color:"#79d073",fontSize:"0.7rem",fontWeight:"bold",transform:"scale(1, 0.9)"},"& > input":{padding:0,color:"#000000",fontSize:"0.9rem",fontWeight:"bold",transform:"scale(1, 0.9)"}}}},"& > svg":{paddingTop:"0.3rem",color:"#888"}},"& > div.expResult":{fontWeight:"bold",fontSize:"1.2rem",margin:"2rem .5rem 0",padding:"0.5rem"},"& > div.candyResult":{background:"#f0f0f0",padding:"0.5rem",borderRadius:"0.9rem",fontSize:"0.9rem",margin:"0 .5rem"},"& section":{display:"flex",flex:"0 auto",marginTop:"0.5rem","&:first-of-type":{marginTop:0},"& > label":{marginRight:"auto",marginTop:0},"& > div":{display:"flex",alignItems:"center","& > svg":{width:"1rem",height:"1rem",paddingRight:"0.2rem"}},"& > div > div.MuiSelect-select":{fontSize:"0.9rem",padding:"0 1.5rem 0 0"},"& button.MuiToggleButtonGroup-grouped":{padding:"0.2rem 0.4rem",textTransform:"none"}}}}}),kl=M(Jn)({color:"#79d073",height:8,"@media (pointer: coarse)":{padding:0},padding:0,"& .MuiSlider-thumb":{width:"14px",height:"13px","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&::before":{display:"none"}},"& .MuiSlider-rail":{backgroundColor:"#ccc"}}),jl=c.memo(({items:t,iv:n,selectedId:r,parameter:i,dispatch:s})=>{const{t:l}=T(),[o,a]=c.useState(bl()),[d,u]=c.useState(Wn),[h,m]=c.useState(!1),[g,x]=c.useState(!1),y=c.useCallback(()=>{s({type:"add"})},[s]),p=c.useCallback(E=>{const R={...o,sort:E.sort,descending:E.descending};a(R),localStorage.setItem("PstPokemonBoxParam",JSON.stringify(R))},[o]),f=c.useCallback(E=>{a(E),localStorage.setItem("PstPokemonBoxParam",JSON.stringify(E))},[]),k=c.useCallback(()=>{m(!0)},[]),C=c.useCallback(()=>{m(!1)},[]),b=c.useCallback(E=>{Wn=E,u(Wn)},[]),v=c.useCallback(E=>{x(!0)},[]),S=c.useCallback(()=>{x(!1)},[]),A=c.useCallback(E=>{t.find(D=>D.id===r)!==void 0&&s({type:"updateIv",payload:{iv:E}})},[t,s,r]),z=c.useMemo(()=>d.filter(t,l),[t,d,l]),[B,I]=c.useMemo(()=>yl(z,o,i,l),[o,z,i,l]);let N=B.map(E=>e.jsx(vl,{item:E,selected:E.id===r,dispatch:s,onCandyClick:v},E.id));o.descending||(N=[...N].reverse());const W=c.useMemo(()=>({isFiltered:!d.isEmpty,sort:o.sort,descending:o.descending}),[d,o]),X=c.useMemo(()=>["level","name","pokedexno","rp","total strength","berry","ingredient","skill count"],[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",margin:"0 0.5rem 300px 0.5rem",width:"calc(100% - 1rem)"},children:[N.length===0&&e.jsx("div",{style:{margin:"5rem auto 0",color:"#888",fontSize:"0.9rem"},children:t.length===0?l("box is empty"):I}),N]}),e.jsxs("div",{style:{position:"fixed",width:"100%",bottom:0,margin:".5rem 0 0"},children:[e.jsx(Zr,{onClick:y,color:"primary",size:"medium",sx:{position:"absolute",top:"-55px",right:"10px"},children:e.jsx(Gr,{})}),e.jsx(Il,{count:t.length,config:o,dispatch:s,onChange:f}),e.jsx(el,{parameter:i,sortConfig:o,dispatch:s,onChange:f}),e.jsx("div",{style:{paddingLeft:"1rem",paddingBottom:"1.2rem",background:"#f76",width:"calc(100% - 1rem)"},children:e.jsx(Ot,{value:W,onChange:p,onFilterButtonClick:k,sortTypes:X})})]}),e.jsx(Di,{open:h,onClose:C,value:d,onChange:b}),e.jsx(nr,{iv:n,open:g,dstLevel:i.level===0?void 0:i.level,onChange:A,onClose:S})]})});function yl(t,n,r,i){if(t.length===0)return[[],i("no pokemon found")];t=[...t];const s=n.sort;if(s==="level"){const l=n.descending?-1:1;return[t.sort((o,a)=>a.iv.level!==o.iv.level?a.iv.level-o.iv.level:a.iv.pokemon.id!==o.iv.pokemon.id?l*(a.iv.pokemon.id-o.iv.pokemon.id):a.iv.idForm!==o.iv.idForm?l*(a.iv.idForm-o.iv.idForm):a.id-o.id),""]}else{if(s==="name")return[t.sort((l,o)=>o.filledNickname(i)>l.filledNickname(i)?1:o.filledNickname(i)<l.filledNickname(i)?-1:o.iv.pokemon.id!==l.iv.pokemon.id?o.iv.pokemon.id-l.iv.pokemon.id:o.iv.idForm!==l.iv.idForm?o.iv.idForm-l.iv.idForm:o.id-l.id),""];if(s==="pokedexno")return[t.sort((l,o)=>o.iv.pokemon.id!==l.iv.pokemon.id?o.iv.pokemon.id-l.iv.pokemon.id:o.iv.idForm!==l.iv.idForm?o.iv.idForm-l.iv.idForm:o.iv.level!==l.iv.level?o.iv.level-l.iv.level:o.id-l.id),""];if(s==="rp"){const l={};return t.forEach(o=>{l[o.id]=new re(o.iv).Rp}),[t.sort((o,a)=>l[a.id]!==l[o.id]?l[a.id]-l[o.id]:a.iv.pokemon.id!==o.iv.pokemon.id?a.iv.pokemon.id-o.iv.pokemon.id:a.iv.level!==o.iv.level?a.iv.level-o.iv.level:a.id-o.id),""]}else if(s==="total strength"){const l={};return t.forEach(o=>{const a=new Te(o.iv,r);l[o.id]=a.calculate().totalStrength}),[t.sort((o,a)=>l[a.id]!==l[o.id]?l[a.id]-l[o.id]:a.iv.pokemon.id!==o.iv.pokemon.id?a.iv.pokemon.id-o.iv.pokemon.id:a.id-o.id),""]}else if(s==="berry"){const l={};return t.forEach(o=>{const a=new Te(o.iv,r);l[o.id]=a.calculate().berryTotalStrength}),[t.sort((o,a)=>l[a.id]!==l[o.id]?l[a.id]-l[o.id]:a.iv.pokemon.id!==o.iv.pokemon.id?a.iv.pokemon.id-o.iv.pokemon.id:a.id-o.id),""]}else if(s==="ingredient"){if(r.tapFrequency==="none")return[[],i("no ingredient")];const l={};t.forEach(a=>{const u=new Te(a.iv,r).calculate().ingredients;n.ingredient==="unknown"?l[a.id]=u.reduce((h,m)=>h+m.count,0):l[a.id]=u.find(h=>h.name===n.ingredient)?.count??0});const o=t.filter(a=>l[a.id]>0).sort((a,d)=>l[d.id]!==l[a.id]?l[d.id]-l[a.id]:d.id-a.id);return[o,o.length>0?"":i("no pokemon found")]}else if(s==="skill count"){if(r.tapFrequency==="none"||r.period<=ae)return[[],i("no skill")];const l={};t=t.filter(a=>it(a.iv.pokemon.skill,n.mainSkill)),t.forEach(a=>{const d=new Te(a.iv,{...r,maxSkillLevel:!0});l[a.id]=d.calculate().skillCount});const o=t.sort((a,d)=>l[d.id]!==l[a.id]?l[d.id]-l[a.id]:d.id-a.id);return[o,o.length>0?"":i("no pokemon found")]}}return[t,""]}class ie{name;filterTypes;filterSpecialty;ingredientName;ingredientUnlockedOnly;mainSkillNames;subSkillNames;subSkillUnlockedOnly;subSkillAnd;neutralNature;upNature;downNature;constructor(n){this.name=n.name??"",this.filterTypes=n.filterTypes??[],this.filterSpecialty=n.filterSpecialty??[],this.ingredientName=n.ingredientName,this.ingredientUnlockedOnly=n.ingredientUnlockedOnly??!1,this.mainSkillNames=n.mainSkillNames??[],this.subSkillNames=n.subSkillNames??[],this.subSkillUnlockedOnly=n.subSkillUnlockedOnly??!0,this.subSkillAnd=n.subSkillAnd??!0,this.neutralNature=n.neutralNature??!1,this.upNature=n.upNature??"No effect",this.downNature=n.downNature??"No effect"}filter(n,r){let i=n;if(this.name!==""){const s=this.name.toLowerCase();i=i.filter(l=>l.nickname.toLowerCase().indexOf(this.name)!==-1||r(`pokemons.${l.iv.pokemonName}`).toLowerCase().indexOf(s)!==-1)}if(this.ingredientName!==void 0){const s=this.ingredientName,l=this.ingredientUnlockedOnly;i=i.filter(o=>o.iv.getIngredients(l).includes(s))}return this.filterTypes.length!==0&&(i=i.filter(s=>this.filterTypes.includes(s.iv.pokemon.type))),this.filterSpecialty.length>0&&(i=i.filter(s=>s.iv.pokemon.specialty==="All"||this.filterSpecialty.includes(s.iv.pokemon.specialty))),this.mainSkillNames.length!==0&&(i=i.filter(s=>this.mainSkillNames.some(l=>it(s.iv.pokemon.skill,l)))),this.subSkillNames.length!==0&&(i=i.filter(s=>{const l=s.iv.subSkills.getActiveSubSkills(this.subSkillUnlockedOnly?s.iv.level:100).map(o=>o.name);return this.subSkillAnd?this.subSkillNames.every(o=>l.includes(o)):this.subSkillNames.some(o=>l.includes(o))})),this.neutralNature&&(i=i.filter(s=>s.iv.nature.isNeautral)),this.upNature!=="No effect"&&(i=i.filter(s=>s.iv.nature.upEffect===this.upNature)),this.downNature!=="No effect"&&(i=i.filter(s=>s.iv.nature.downEffect===this.downNature)),i}get isEmpty(){return this.name===""&&this.filterTypes.length===0&&this.filterSpecialty.length===0&&this.ingredientName===void 0&&this.mainSkillNames.length===0&&this.subSkillNames.length===0&&this.neutralNature===!1&&this.upNature==="No effect"&&this.downNature==="No effect"}}let Wn=new ie({});function bl(){const t={sort:"level",ingredient:"unknown",mainSkill:"Energy for Everyone S",descending:!0,warnItems:0,warnDate:""},n=localStorage.getItem("PstPokemonBoxParam");if(n===null)return t;const r=JSON.parse(n);return typeof r!="object"||r===null||(typeof r.sort=="string"&&["level","name","pokedexno","rp","berry","total strength","ingredient","skill count"].includes(r.sort)&&(t.sort=r.sort),typeof r.ingredient=="string"&&dn.includes(r.ingredient)&&(t.ingredient=r.ingredient),typeof r.mainSkill=="string"&&mn.includes(r.mainSkill)&&(t.mainSkill=r.mainSkill),typeof r.descending=="boolean"&&(t.descending=r.descending),typeof r.warnItems=="number"&&(t.warnItems=r.warnItems),typeof r.warnDate=="string"&&r.warnDate.match(/^\d{4}-\d{2}-\d{2}$/)&&(t.warnDate=r.warnDate)),t}const vl=c.memo(({item:t,selected:n,dispatch:r,onCandyClick:i})=>{const{t:s}=T(),[l,o]=c.useState(null),a=!!l,d=Cl(()=>{g("select"),g("edit")},500),u=c.useCallback(()=>{r({type:"select",payload:{id:t.id}})},[r,t.id]),h=c.useCallback(p=>{o(p.currentTarget)},[o]),m=c.useCallback(()=>{o(null)},[o]),g=c.useCallback(p=>{r({type:p,payload:{id:t.id}}),o(null)},[t,r,o]),x=c.useCallback(()=>{o(null),Ht(t.iv,r,s)},[r,t.iv,s]),y=c.useCallback(()=>{o(null),i(t)},[t,i]);return e.jsxs(Sl,{children:[e.jsxs(Mn,{onClick:u,className:n?"selected":"",ref:d,children:[e.jsxs("header",{children:[e.jsx("span",{className:"lv",children:"Lv."}),t.iv.level]}),e.jsx(Nn,{idForm:t.iv.idForm,size:32}),e.jsx("footer",{children:t.filledNickname(s)})]}),n&&e.jsx(oe,{onClick:h,children:e.jsx(Qn,{})}),e.jsx(on,{anchorEl:l,open:a,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxs($e,{children:[e.jsxs(j,{onClick:()=>g("edit"),children:[e.jsx(ee,{children:e.jsx(Kr,{})}),s("edit")]}),e.jsxs(j,{onClick:y,children:[e.jsx(ee,{sx:{minWidth:"24px"},children:e.jsx(ut,{sx:{color:"#888"}})}),s("candy")]}),e.jsxs(j,{onClick:x,children:[e.jsx(ee,{children:e.jsx(Yn,{})}),s("share")]}),e.jsxs(j,{onClick:()=>g("dup"),children:[e.jsx(ee,{children:e.jsx(Xr,{})}),s("duplicate")]}),e.jsxs(j,{onClick:()=>g("remove"),children:[e.jsx(ee,{sx:{minWidth:"24px"},children:e.jsx(Jr,{})}),s("delete")]})]})})]})}),Sl=M("div")({position:"relative","& > button:first-of-type":{fontFamily:'"M PLUS 1p"',display:"block",textAlign:"center",width:"80px",padding:"0.2rem 0",border:"1px solid transparent","& > header":{fontSize:"0.7rem",fontWeight:"bold","& > span.lv":{color:"#62d540",fontSize:"0.6rem",paddingRight:"0.2rem"}},"& > div":{margin:"0.1rem auto 0.1rem"},"& > footer":{fontSize:"0.8rem",color:"#666666",overflowWrap:"anywhere"},"&.selected":{background:"#d3e9f7",borderRadius:"0.5rem",border:"1px solid #5e7da0"}},"& > button.MuiIconButton-root":{position:"absolute",right:"-5px",top:"-2px","& > svg":{width:"0.8rem",height:"0.8rem"}}});function Cl(t,n){const r=c.useRef(null),i=c.useRef(null),s=c.useCallback(()=>{r.current=setTimeout(t,n)},[t,n]),l=c.useCallback(()=>{r.current&&clearTimeout(r.current),r.current=null},[]),o=c.useCallback(()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",o),r.current&&clearTimeout(r.current),r.current=null},[]),a=c.useCallback(()=>{r.current===null&&(r.current=setTimeout(t,n),document.addEventListener("mousemove",o),document.addEventListener("mouseup",o))},[t,n,o]);return c.useEffect(()=>{if(i.current===null)return()=>{};const d=i.current;return d.addEventListener("touchstart",s),d.addEventListener("mousedown",a),d.addEventListener("touchmove",l),d.addEventListener("touchend",l),()=>{d.removeEventListener("touchstart",s),d.removeEventListener("mousedown",a),d.removeEventListener("touchmove",l),d.removeEventListener("touchend",l)}},[a,s,l]),i}const wl=30,Bl=10,Il=c.memo(({count:t,config:n,dispatch:r,onChange:i})=>{const{t:s}=T(),l=c.useCallback(()=>{i({...n,warnDate:new Date().toLocaleDateString("sv-SE"),warnItems:t})},[n,t,i]),o=c.useCallback(()=>{r({type:"export"}),l()},[r,l]),a=n.warnDate!==""?new Date(n.warnDate).getTime():new Date().getTime(),u=new Date().getTime()-a>wl*24*60*60*1e3;return!(Math.abs(t-n.warnItems)>=Bl)&&!u?e.jsx(e.Fragment,{}):e.jsxs(Ml,{children:[e.jsx(Ke,{}),e.jsxs("div",{children:[s("export notice"),e.jsxs(F,{onClick:o,children:["[",s("export"),"]"]})]}),e.jsx(oe,{onClick:l,children:e.jsx(Tn,{})})]})}),Ml=M("div")({background:"#e5f6fd",borderTop:"1px solid #d9e9e9",paddingTop:"0.2rem",color:"#014343",display:"grid",gridTemplateColumns:"26px 1fr 40px","& > svg":{color:"#0288d1",width:"18px",height:"18px",padding:"4px"},"& > div":{fontSize:"0.8rem",color:"#014480","& > button":{padding:"0 0 0 0.3rem",minWidth:0,fontSize:"0.8rem"}}}),Tl=c.memo(({open:t,value:n,onChange:r,onClose:i})=>{const{t:s}=T(),[l,o]=ct(),[a,d]=c.useState(n.tabIndex),u=c.useCallback((g,x)=>{d(x)},[]),h=w.useCallback(()=>{r(new ye({}))},[r]),m=w.useCallback(()=>{i()},[i]);return e.jsxs(El,{open:t,onClose:i,children:[e.jsxs(Nl,{variant:"scrollable",scrollButtons:!0,ref:o,value:a,onChange:u,children:[e.jsx(Hn,{label:s("type"),value:0}),e.jsx(Hn,{label:s("ingredient"),value:1}),e.jsx(Hn,{label:s("main skill"),value:2})]}),e.jsxs(Kt,{index:a,width:l,onChange:d,children:[e.jsx("div",{className:"tabChild",children:e.jsx(Fl,{value:n,onChange:r})}),e.jsx("div",{className:"tabChild",children:e.jsx(Al,{value:n,onChange:r})}),e.jsx("div",{className:"tabChild",children:e.jsx(Ll,{value:n,onChange:r})})]}),e.jsxs($,{children:[e.jsx(F,{onClick:h,children:s("clear")}),e.jsx(F,{onClick:m,children:s("close")})]})]})}),El=M(V)({"div.MuiPaper-root":{padding:"0 .5rem 0 .5rem","& div.tabChild":{"& > section":{margin:"0 0.8rem",fontSize:".9rem",display:"flex",flex:"0 auto",alignItems:"center",maxWidth:"40rem","&:first-of-type":{marginTop:"0.3rem"},"& > label":{marginRight:"auto"}}}}}),Nl=M(Cn)({minHeight:"36px",marginBottom:"clamp(.3rem, 0.6vh, .7rem)"}),Hn=M(wn)({minHeight:"36px",minWidth:"0",textTransform:"none"}),Fl=c.memo(({value:t,onChange:n})=>{const{t:r}=T(),i=w.useCallback(d=>{n(new ye({...t,filterType:t.filterType===d?null:d}))},[t,n]),s=w.useCallback(d=>{n(new ye({...t,filterSpecialty:t.filterSpecialty.includes(d)?[]:[d]}))},[t,n]),l=w.useCallback((d,u)=>{u===null||t.filterEvolve===u||n(new ye({...t,filterEvolve:u}))},[t,n]),o=Be.map(d=>e.jsx(He,{type:d,onClick:i,checked:d===t.filterType},d)),a=Xn.map(d=>e.jsx(Ae,{specialty:d,onClick:s,checked:t.filterSpecialty.includes(d)},d));return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:o}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"1rem 0 0.5rem"},children:r("specialty")}),a]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"1rem 0 0.5rem"},children:r("evolve")}),e.jsxs(Rl,{value:t.filterEvolve,exclusive:!0,onChange:l,children:[e.jsx(L,{value:"all",children:r("all")}),e.jsx(L,{value:"non",children:r("non-evolve")}),e.jsx(L,{value:"final",children:r("final-evoltion")})]})]})]})}),Al=c.memo(({value:t,onChange:n})=>{const{t:r}=T(),i=w.useCallback(d=>{const u=t.ingredientName===d?"unknown":d;n(new ye({...t,ingredientName:u}))},[t,n]),s=w.useCallback(d=>{n(new ye({...t,ingredientA:d.target.checked}))},[t,n]),l=w.useCallback(d=>{n(new ye({...t,ingredientB:d.target.checked}))},[t,n]),o=w.useCallback(d=>{n(new ye({...t,ingredientC:d.target.checked}))},[t,n]),a=dn.map(d=>e.jsx(Vt,{ingredient:d,onClick:i,checked:t.ingredientName===d},d));return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:"1rem"},children:a}),e.jsxs("section",{children:[e.jsxs("label",{children:[r("ing-a"),":"]}),e.jsx(le,{checked:t.ingredientA,size:"small",onChange:s})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[r("ing-b"),":"]}),e.jsx(le,{checked:t.ingredientB,size:"small",onChange:l})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[r("ing-c"),":"]}),e.jsx(le,{checked:t.ingredientC,size:"small",onChange:o})]})]})}),Ll=c.memo(({value:t,onChange:n})=>{const r=w.useCallback(s=>{const l=t.mainSkillNames.includes(s)?t.mainSkillNames.filter(o=>o!==s):[...t.mainSkillNames,s];n(new ye({...t,mainSkillNames:l}))},[t,n]),i=mn.map(s=>e.jsx(qt,{mainSkill:s,onClick:r,checked:t.mainSkillNames.includes(s)},s));return e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:i})}),Rl=M(G)({"& > button":{textTransform:"none",lineHeight:1},"& > button:first-of-type":{borderRadius:"1rem 0 0 1rem"},"& > button:last-of-type":{borderRadius:"0 1rem 1rem 0"}}),tr="2023-07-17",zl=M(V)({"& > div.MuiDialog-container > div.MuiPaper-root":{width:"100%",margin:"20px"}});function Pl(t){const{disablePortal:n,anchorEl:r,open:i,...s}=t;return e.jsx(Dl,{...s})}const Dl=M("div")({[`& .${Qr.paper}`]:{boxShadow:"none",margin:0,width:"100%",color:"inherit",fontSize:13,"& > ul.MuiAutocomplete-listbox":{paddingTop:0,maxHeight:"60vh",minHeight:"60vh","& > li > ul":{userSelect:"none",display:"flex",flexWrap:"wrap",justifyContent:"left",margin:"0 0 .5rem 0",padding:0,"& > li":{width:"76px",height:"80px",padding:0,margin:"0 0 6px 0",position:"relative",display:"block","& > div":{margin:"4px auto 0 auto"},"& > img":{margin:"4px auto 0 auto",display:"block"},"& > footer":{display:"inline-block",width:"100%",fontSize:"12px",textAlign:"center",textWrap:"wrap",lineHeight:1.1,verticalAlign:"middle"}}}}}}),Wl=M(Yr)(({theme:t})=>({width:"calc(100% - 8px)",padding:4,margin:4,borderRadius:4,border:"1px solid #cccccc","& input":{fontSize:14}})),Hl=M("div")({position:"sticky",top:"-1px",padding:"4px 10px",fontWeight:"bold",zIndex:9,backgroundColor:"#66aaff",borderRadius:"5px",margin:"0 4px 4px 4px",color:"#fff","&.dozing":{backgroundColor:"#fdec6e",color:"#862"},"&.snoozing":{backgroundColor:"#85fbff",color:"#226"},"&.slumbering":{backgroundColor:"#5592fc"},"&.normal":{backgroundColor:"#939393"},"&.fire":{backgroundColor:"#e8554d"},"&.water":{backgroundColor:"#579bf3"},"&.electric":{backgroundColor:"#f1c525"},"&.grass":{backgroundColor:"#57a747"},"&.ice":{backgroundColor:"#68c5df"},"&.fighting":{backgroundColor:"#e8a33b"},"&.poison":{backgroundColor:"#ab7aca"},"&.ground":{backgroundColor:"#c8a841"},"&.flying":{backgroundColor:"#add5ea"},"&.psychic":{backgroundColor:"#ed6c94"},"&.bug":{backgroundColor:"#a5ab39"},"&.rock":{backgroundColor:"#b2b194"},"&.ghost":{backgroundColor:"#8d658e"},"&.dragon":{backgroundColor:"#7482e9"},"&.dark":{backgroundColor:"#706261"},"&.steel":{backgroundColor:"#94b1c2"},"&.fairy":{backgroundColor:"#e48fe3"}});class ye{filterType;filterSpecialty;filterEvolve;ingredientName;ingredientA;ingredientB;ingredientC;mainSkillNames;constructor(n){this.filterType=n.filterType??null,this.filterSpecialty=n.filterSpecialty??[],this.filterEvolve=n.filterEvolve??"all",this.ingredientName=n.ingredientName??"unknown",this.ingredientA=n.ingredientA??!0,this.ingredientB=n.ingredientB??!0,this.ingredientC=n.ingredientC??!0,this.mainSkillNames=n.mainSkillNames??[]}load(n){typeof n=="object"&&(typeof n.filterType=="string"&&Be.includes(n.filterType)&&(this.filterType=n.filterType),Array.isArray(n.filterSpecialty)&&n.filterSpecialty.every(r=>Xn.includes(r))&&(this.filterSpecialty=n.filterSpecialty),typeof n.filterEvolve=="string"&&["all","non","final"].includes(n.filterEvolve)&&(this.filterEvolve=n.filterEvolve),typeof n.ingredientName=="string"&&dn.includes(n.ingredientName)&&(this.ingredientName=n.ingredientName),typeof n.ingredientA=="boolean"&&(this.ingredientA=n.ingredientA),typeof n.ingredientB=="boolean"&&(this.ingredientB=n.ingredientB),typeof n.ingredientC=="boolean"&&(this.ingredientC=n.ingredientC),Array.isArray(n.mainSkillNames)&&n.mainSkillNames.every(r=>mn.includes(r))&&(this.mainSkillNames=n.mainSkillNames))}get isFiltered(){return this.filterEvolve!=="all"||this.filterSpecialty.length>0||this.filterType!==null||this.ingredientName!=="unknown"||this.mainSkillNames.length>0}get tabIndex(){return this.filterEvolve!=="all"||this.filterSpecialty.length>0?0:this.ingredientName!=="unknown"?1:this.mainSkillNames.length>0?2:0}filter(n,r){const i=o=>o.toLowerCase().trim().replace(/[ぁ-ん]/g,a=>String.fromCharCode(a.charCodeAt(0)+96)),s=i(r);let l=n.filter(o=>i(o.localName).includes(s));return this.filterType!==null&&(l=l.filter(o=>this.filterType===o.type)),this.filterSpecialty.length>0&&(l=l.filter(o=>o.specialty==="All"||this.filterSpecialty.includes(o.specialty))),this.filterEvolve==="final"?l=l.filter(o=>o.isFullyEvolved):this.filterEvolve==="non"&&(l=l.filter(o=>o.isNonEvolving)),this.ingredientName!=="unknown"&&(l=l.filter(o=>this.ingredientA&&this.ingredientName===o.ing1Name||this.ingredientB&&this.ingredientName===o.ing2Name||this.ingredientC&&this.ingredientName===o.ing3Name)),this.mainSkillNames.length>0&&(l=l.filter(o=>this.mainSkillNames.some(a=>it(o.skill,a)))),l.length===0&&l.push({...Ee[0],id:-1,idForm:-1,name:"",localName:"",arrival:tr,specialty:"Berries",sleepType:"dozing",type:"normal",skill:"Charge Energy S",ancestor:null,isFullyEvolved:!1,isNonEvolving:!1,ing1Name:"unknown",ing2Name:"unknown",ing3Name:void 0}),l}}const Ol=c.memo(({open:t,pokemonOptions:n,selectedValue:r,onClose:i,onChange:s})=>{const{t:l}=T(),[o,a]=c.useState(!1);let[d,u]=c.useState(null);const h=d===null?$l():d,m=h.sort,g=h.descending,x=w.useCallback(()=>{i()},[i]),y=w.useCallback((B,I)=>h.filter.filter(B,I.inputValue),[h.filter]),p=w.useCallback((B,I)=>{if(I===null)return;let N;if(typeof I=="string"){if(N=n.find(W=>W.localName===I),N===void 0)return}else{if(I.id<0)return;N=I}s(N),x()},[s,x,n]),f=w.useCallback((B,I)=>{I==="escape"&&x()},[x]),k=w.useCallback(B=>{if(B.id<0)return"";switch(m){case"sleeptype":return B.sleepType;case"name":return B.localName.charAt(0).normalize("NFD")[0];case"pokedexno":return B.id<=151?"Kanto":B.id<=251?"Johto":B.id<=386?"Hoenn":B.id<=494?"Sinnoh":B.id<=649?"Unova":B.id<=721?"Kalos":B.id<=809?"Alola":B.id<=905?"Galar":"Paldea";case"type":return B.type;case"arrival":return B.arrival===tr?"initial pokemon":B.arrival.substring(0,4);default:return""}},[m]),C=w.useCallback(B=>{let I=B.group;return I===""?e.jsx(e.Fragment,{}):(m==="sleeptype"?I=l(B.group):m==="type"?I=l(`types.${B.group}`):m==="pokedexno"?I=l(`generation.${B.group}`):m==="arrival"&&B.group==="initial pokemon"&&(I=l("initial pokemon")),e.jsxs("li",{children:[e.jsx(Hl,{className:B.group,children:I}),e.jsx("ul",{style:{padding:0},children:B.children})]},B.group))},[m,l]),b=w.useCallback(()=>{a(!0)},[]),v=w.useCallback(()=>{a(!1)},[]),S=w.useCallback(B=>{const I={...h,filter:B};u(I),localStorage.setItem("PstPokemonSelectParam",JSON.stringify(I))},[h]),A=w.useCallback(B=>{const I={...h,descending:B.descending,sort:B.sort};u(I),localStorage.setItem("PstPokemonSelectParam",JSON.stringify(I))},[h]);let z=[];switch(m){case"sleeptype":z=n.sort((B,I)=>{const N=wt[B.sleepType],W=wt[I.sleepType];return N===W?B.id-I.id:N-W});break;case"name":z=n.sort((B,I)=>B.localName>I.localName?1:B.localName<I.localName?-1:0);break;case"pokedexno":z=n.sort((B,I)=>B.id-I.id);break;case"type":z=n.sort((B,I)=>{const N=Bt[B.type],W=Bt[I.type];return N===W?B.id-I.id:N-W});break;case"arrival":z=n.sort((B,I)=>B.arrival!==I.arrival?B.arrival>I.arrival?1:-1:(B.id-I.id)*(g?-1:1));break;default:throw new Error("invalid sort type")}return g&&(z=z.reverse()),e.jsxs(zl,{open:t,onClose:x,children:[e.jsx(nt,{options:z,fullWidth:!0,open:!0,freeSolo:!0,value:z.find(B=>B.name===r.name),slots:{popper:Pl},filterOptions:y,getOptionLabel:B=>typeof B=="string"?B:B.localName,groupBy:k,renderGroup:C,renderOption:(B,I)=>e.jsxs(j,{...B,children:[e.jsx(Nn,{idForm:I.idForm,size:48}),e.jsx("footer",{children:I.localName})]}),renderInput:B=>e.jsx(Wl,{ref:B.InputProps.ref,inputProps:{autoComplete:"false",...B.inputProps},startAdornment:e.jsx(ln,{position:"start",children:e.jsx(In,{})})}),onClose:f,onChange:p}),e.jsx(Ot,{sortTypes:["pokedexno","name","sleeptype","type","arrival"],value:{isFiltered:h.filter.isFiltered,sort:h.sort,descending:h.descending},onChange:A,onFilterButtonClick:b}),e.jsx(Tl,{open:o,onClose:v,value:h.filter,onChange:S})]})}),wt={dozing:0,snoozing:1,slumbering:2},Bt={normal:0,fire:1,water:2,electric:3,grass:4,ice:5,fighting:6,poison:7,ground:8,flying:9,psychic:10,bug:11,rock:12,ghost:13,dragon:14,dark:15,steel:16,fairy:17};function $l(){const t={filter:new ye({}),sort:"pokedexno",descending:!1},n=localStorage.getItem("PstPokemonSelectParam");if(n===null)return t;const r=JSON.parse(n);return typeof r!="object"||r===null||(r.filter===void 0&&(r.filter={filterType:r.filterType,filterEvolve:r.filterEvolve}),t.filter.load(r.filter),typeof r.sort=="string"&&["sleeptype","name","pokedexno","type","arrival"].includes(r.sort)&&(t.sort=r.sort),typeof r.descending=="boolean"&&(t.descending=r.descending)),t}const _l=c.memo(({iv:t,fixMode:n,onChange:r,onCandyClick:i})=>{const s=t.pokemon.name,{t:l}=T(),[o,a]=c.useState(!1),d=c.useMemo(()=>Ee.map(y=>({...y,idForm:new se(y.name).idForm,localName:l(`pokemons.${y.name}`),isNonEvolving:y.evolutionCount===-1,isFullyEvolved:y.isFullyEvolved,ing1Name:y.ing1.name,ing2Name:y.ing2.name,ing3Name:y.ing3?.name})),[l]);let u=d.find(y=>y.name===s);if(u===void 0)throw new Error(`value ${s} is invalid`);const h=u,m=w.useCallback(y=>{a(!0)},[a]),g=w.useCallback(y=>{r(y.name)},[r]),x=w.useCallback(()=>{a(!1)},[a]);return e.jsxs("div",{children:[n?e.jsx(e.Fragment,{children:h.localName}):e.jsx(Oe,{onClick:m,style:{width:"10.2rem",fontSize:"0.9rem"},className:o?"focused":"",children:h.localName}),e.jsx(Vl,{iv:t,onChange:r}),e.jsx(ql,{onClick:i}),e.jsx(Ol,{open:o,onClose:x,onChange:g,pokemonOptions:d,selectedValue:h})]})}),Vl=c.memo(({iv:t,onChange:n})=>{const{t:r}=T(),[i,s]=c.useState(null),l=t.pokemon.ancestor!==null,o=c.useCallback(g=>{const x=g.currentTarget.getAttribute("value");x!==null&&(n(x),s(null))},[n,s]),a=[],d=t.allDecendants;for(const g of d)a.push(e.jsxs(j,{value:g.name,onClick:o,children:[e.jsx(ee,{children:g.name===t.pokemon.name?e.jsx(Ie,{}):e.jsx(Vn,{})}),r(`pokemons.${g.name}`)]},g.name));const u=w.useCallback(g=>{s(g.currentTarget)},[s]),h=w.useCallback(()=>{s(null)},[s]),m=!!i;return e.jsxs(e.Fragment,{children:[e.jsx(Ul,{size:"small",onClick:u,disabled:!l,children:e.jsx(es,{fontSize:"inherit"})}),e.jsx(on,{open:m,anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:h,children:a})]})}),Ul=M(oe)({color:"#6c9",fontSize:"0.9rem",boxShadow:"0 1px 3px 1px rgba(128, 128, 128, 0.2)",marginLeft:".4rem",border:"1px solid #ccc","&:disabled":{color:"#999"}}),ql=c.memo(({onClick:t})=>e.jsx(Zl,{size:"small",onClick:t,children:e.jsx(ut,{sx:{color:"#e7ba67"}})})),Zl=M(oe)({fontSize:"0.9rem",boxShadow:"0 1px 3px 1px rgba(128, 128, 128, 0.2)",marginLeft:".2rem","@media (min-width: 390px)":{marginLeft:".5rem"},border:"1px solid #ccc","& > svg":{width:"14px",height:"14px"}}),Gl=M(zt)(({theme:t})=>({marginRight:".8rem",width:26,height:26,"& .MuiBadge-badge":{top:23,right:4,border:"1px solid #ccbb88",fontSize:"0.5rem",height:"0.7rem",width:"0.8rem",color:"#000",backgroundColor:"#ffffff",boxShadow:"0 1px 2px 1px rgba(128, 128, 128, 0.4)",zIndex:0},"& > svg":{width:"20px",height:"20px"}})),Ce=c.memo(({name:t,count:n})=>t==="unknown"?e.jsx("span",{style:{padding:"0 0.7rem 0 0.2rem"},children:e.jsx(ve,{name:t})}):e.jsx(Gl,{badgeContent:"×"+n,children:e.jsx(ve,{name:t})})),Kl=M(j)({borderTop:"1px dashed #ddd",padding:".3rem .5rem","&:first-of-type":{borderTop:0}}),Xl=c.memo(({iv:t,onChange:n})=>{const r=w.useCallback(o=>{const a=t.clone();a.ingredient=o.target.value,n(a)},[t,n]),i=w.useCallback(o=>{const a=t.clone();a.mythIng1=o,n(a)},[t,n]),s=w.useCallback(o=>{const a=t.clone();a.mythIng2=o,n(a)},[t,n]),l=w.useCallback(o=>{const a=t.clone();a.mythIng3=o,n(a)},[t,n]);return t.isMythical?Yl(t,i,s,l):Jl(t,r)});function Jl(t,n){const r=[],i=["AAA","AAB","ABA","ABB"];t.pokemon.ing3!==void 0&&(i.splice(2,0,"AAC"),i.push("ABC"));for(const s of i)r.push(e.jsx(Kl,{value:s,dense:!0,children:e.jsx(Ql,{pokemon:t.pokemon,value:s})},s));return e.jsx(ne,{variant:"standard",size:"small",select:!0,value:t.ingredient,slotProps:{select:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}}},onChange:n,children:r})}const Ql=c.memo(({pokemon:t,value:n})=>{const r=e.jsx(Ce,{count:t.ing1.c1,name:t.ing1.name}),s=n.charAt(1)==="A"?t.ing1:t.ing2,l=e.jsx(Ce,{count:s.c2,name:s.name}),o=n.charAt(2),a=o==="C"&&t.ing3!==void 0?t.ing3:o==="A"?t.ing1:t.ing2,d=e.jsx(Ce,{count:a.c3,name:a.name});return e.jsxs(e.Fragment,{children:[r,l,d]})});function Yl(t,n,r,i){if(t.pokemon.mythIng===void 0)return e.jsx(e.Fragment,{});const s=[],l=[],o=[];for(const a of t.pokemon.mythIng)s.push(e.jsx(j,{value:a.name,children:e.jsx(Ce,{count:a.c1,name:a.name})},a.name)),l.push(e.jsx(j,{value:a.name,children:e.jsx(Ce,{count:a.c2,name:a.name})},a.name)),o.push(e.jsx(j,{value:a.name,children:e.jsx(Ce,{count:a.c3,name:a.name})},a.name));return l.push(e.jsx(j,{value:"unknown",children:e.jsx(Ce,{count:0,name:"unknown"})},"unknown")),o.push(e.jsx(j,{value:"unknown",children:e.jsx(Ce,{count:0,name:"unknown"})},"unknown")),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx(he,{value:t.mythIng1,sx:{paddingBottom:"0.4rem"},menuSx:{display:"grid",gridTemplateColumns:"1fr 1fr"},onChange:n,children:s}),e.jsx(he,{value:t.mythIng2,sx:{paddingBottom:"0.4rem"},menuSx:{display:"grid",gridTemplateColumns:"1fr 1fr"},onChange:r,children:l}),e.jsx(he,{value:t.mythIng3,sx:{paddingBottom:"0.4rem"},menuSx:{display:"grid",gridTemplateColumns:"1fr 1fr"},onChange:i,children:o})]})}const eo=c.memo(({pokemon:t,value:n,onChange:r})=>{const{t:i}=T(),s=Re(t.skill),l=[];for(let a=1;a<=s;a++)l.push(e.jsxs(j,{value:a,dense:!0,children:["Lv ",a]},a));const o=c.useCallback(a=>{r(a.target.value)},[r]);return e.jsxs(no,{children:[e.jsx("span",{style:{marginRight:"1rem"},children:i(`skills.${t.skill}`)}),e.jsx(ne,{variant:"standard",size:"small",select:!0,value:n,slotProps:{select:{MenuProps:{sx:{height:"400px"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}}},onChange:o,children:l})]})}),no=M("div")({"& .MuiSelect-select":{paddingTop:"1px",paddingBottom:"1px",fontSize:"0.9rem"}}),to=M(oe)({"&":{padding:0,marginLeft:"6px","& > svg":{width:"20px",height:"20px",color:"#bbb","&.error":{color:"#ed6c02",animation:"redglow 0.6s ease-out infinite normal"}}},"@keyframes redglow":{"0%":{transform:"scale(0.9)"},"100%":{transform:"scale(1.1)"}}}),Y=c.memo(({isError:t,onClick:n})=>e.jsxs(to,{onClick:n,children:[!t&&e.jsx(Ke,{}),t&&e.jsx(Dt,{className:"error"})]})),ro=c.memo(({value:t,onChange:n})=>{const{t:r}=T(),i=c.useCallback(s=>{n(s.target.value)},[n]);return e.jsxs(so,{variant:"standard",size:"small",select:!0,value:t,SelectProps:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}},onChange:i,children:[e.jsx(j,{value:0,children:r("200 hours-")}),e.jsx(j,{value:1,children:r("200 hours+")}),e.jsx(j,{value:2,children:r("500 hours+")}),e.jsx(j,{value:3,children:r("1000 hours+")}),e.jsx(j,{value:4,children:r("2000 hours+")})]})}),so=M(ne)({"& .MuiSelect-select":{paddingTop:"1px",paddingBottom:"1px",fontSize:"0.9rem"}}),Ue=c.memo(({energy:t})=>t>80?e.jsx(ns,{sx:{color:"#62d540"}}):t>60?e.jsx(ts,{sx:{color:"#66dcd8"}}):t>40?e.jsx(rs,{sx:{color:"#4aacfd"}}):t>20?e.jsx(ss,{sx:{color:"#d4b5fd"}}):e.jsx(is,{sx:{color:"#a5a3a6"}})),io=M("div")({margin:"0 0.3rem 0 0.3rem",fontSize:".9rem","& > div.table":{width:"100%",display:"grid",gap:"clamp(.3rem, 0.7vh, .5rem) .8rem",gridTemplateColumns:"fit-content(200px) 1fr"},"& > h3":{margin:"clamp(0.7rem, 1.8vh, 1rem) 0 .3rem -.3rem",fontSize:".8rem",padding:".1rem .5rem",background:"#557799",borderRadius:"0.4rem",color:"white"}}),rr=c.memo(({pokemonIv:t,fixMode:n,onChange:r})=>{const{t:i}=T(),s=c.useCallback(b=>{r(t.clone(b))},[t,r]),l=c.useCallback(b=>{const v=t.changeLevel(b);r(v)},[t,r]),o=c.useCallback(b=>{const v=t.clone();v.skillLevel=b,r(v)},[t,r]),a=c.useCallback(b=>{const v=t.changeSubSkills(b.value);r(v)},[t,r]),d=c.useCallback(b=>{const v=t.clone();v.nature=b,r(v)},[t,r]),u=c.useCallback(b=>{const v=t.clone();v.ribbon=b,r(v)},[t,r]),[h,m]=c.useState(!1),g=c.useCallback(()=>{m(!0)},[m]),x=c.useCallback(()=>{m(!1)},[m]),[y,p]=c.useState(!1),f=c.useCallback(()=>{p(!0)},[]),k=c.useCallback(()=>{p(!1)},[]),C=new re(t);return e.jsxs(io,{children:[e.jsxs("div",{className:"table",children:[e.jsxs("div",{children:[i("pokemon"),":"]}),e.jsx(_l,{iv:t,fixMode:n,onChange:s,onCandyClick:f}),e.jsxs("div",{children:[i("level"),":"]}),e.jsx(er,{max:100,value:t.level,onChange:l}),e.jsxs("div",{children:[i("ingredient"),":"]}),e.jsx(Xl,{iv:t,onChange:r}),e.jsxs("div",{children:[i("frequency"),":"]}),e.jsxs("div",{children:[sr(C.frequency,i),C.frequency>0&&e.jsx(Y,{onClick:g}),e.jsx(oo,{rp:C,iv:t,open:h,onClose:x})]}),e.jsxs("div",{children:[i("carry limit"),":"]}),t.carryLimit]}),e.jsx("h3",{children:i("Main Skill & Sub Skills")}),e.jsx(eo,{pokemon:C.pokemon,value:t.skillLevel,onChange:o}),e.jsx(ui,{value:t.subSkills,onChange:a}),e.jsx("h3",{className:"nature",children:i("additional stats")}),e.jsx(Li,{iv:t,onChange:d}),e.jsxs("div",{style:{marginTop:".7rem"},children:[e.jsxs("span",{style:{paddingRight:"0.7rem"},children:[i("sleeping time shared"),":"]}),e.jsx(ro,{value:t.ribbon,onChange:u})]}),e.jsx(nr,{iv:t,open:y,onChange:r,onClose:k})]})}),lo=M(V)({"& div.MuiPaper-root":{margin:"20px"},"& article":{margin:"1rem",display:"grid",gridTemplateColumns:"max-content 1fr",gridGap:"1rem",rowGap:"0.5rem",fontSize:"0.9rem",alignItems:"start","& > span.energy":{display:"flex",alignItems:"center"}},"& section":{margin:"0.5rem 1rem 0 1rem","& div.line":{fontSize:".9rem",display:"flex",flex:"0 auto",alignItems:"center","& > label":{marginRight:"auto"},"& > div":{paddingLeft:".5rem","& > button":{padding:"2px 7px"}}},"& div.value button.MuiToggleButton-root":{lineHeight:1.3,textTransform:"none"}}}),oo=c.memo(({rp:t,iv:n,open:r,onClose:i})=>{const{t:s}=T(),[l,o]=c.useState(0),[a,d]=c.useState(!1),[u,h]=c.useState(0),[m,g]=c.useState("frequency"),x=c.useCallback((B,I)=>{I!==null&&o(parseInt(I,10))},[]),y=c.useCallback(B=>{d(B.target.checked)},[]),p=c.useCallback((B,I)=>{I!==null&&h(parseInt(I,10))},[]),f=c.useCallback((B,I)=>{I!==null&&g(I)},[]);if(c.useEffect(()=>{r||setTimeout(()=>{o(0),d(!1),g("frequency")},200)},[r]),!r)return e.jsx(e.Fragment,{});const k=t.frequencyWithHelpingBonus(l)/(a?1.2:1),C=B=>{switch(m){case"frequency":return sr(Math.floor(k*B),s);case"count":return s("help count per hour",{n:(3600/k/B).toFixed(2)});case"full":const N=Math.ceil(n.carryLimit*(a?1.2:1))/t.getBagUsagePerHelp(0,u)*k*B/60;return new hn(N).toString(s)}return""},b=C(1),v=C(.66),S=C(.58),A=C(.52),z=C(.45);return e.jsxs(lo,{open:r,onClose:i,children:[e.jsxs("article",{children:[e.jsxs("span",{className:"energy",children:[e.jsx(Ue,{energy:100}),"81",s("range separator"),"150"]}),e.jsx("span",{children:z}),e.jsxs("span",{className:"energy",children:[e.jsx(Ue,{energy:80}),"61",s("range separator"),"80"]}),e.jsx("span",{children:A}),e.jsxs("span",{className:"energy",children:[e.jsx(Ue,{energy:60}),"41",s("range separator"),"60"]}),e.jsx("span",{children:S}),e.jsxs("span",{className:"energy",children:[e.jsx(Ue,{energy:40}),"1",s("range separator"),"40"]}),e.jsx("span",{children:v}),e.jsxs("span",{className:"energy",children:[e.jsx(Ue,{energy:20}),"0"]}),e.jsx("span",{children:b})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"line",children:[e.jsxs("label",{children:[s("helping bonus"),":"]}),e.jsxs(G,{size:"small",exclusive:!0,value:l,onChange:x,children:[e.jsx(L,{value:0,children:"0"}),e.jsx(L,{value:1,children:"1"}),e.jsx(L,{value:2,children:"2"}),e.jsx(L,{value:3,children:"3"}),e.jsx(L,{value:4,children:"4"}),e.jsx(L,{value:5,children:"5"})]})]}),e.jsxs("div",{className:"line",children:[e.jsxs("label",{children:[s("good camp ticket"),":"]}),e.jsx(le,{checked:a,onChange:y})]}),e.jsx(me,{in:m==="full",children:e.jsxs("div",{className:"line",children:[e.jsxs("label",{children:[s("ingredient bonus from event"),":"]}),e.jsxs(G,{size:"small",exclusive:!0,value:u,onChange:p,children:[e.jsx(L,{value:0,children:s("none")}),e.jsx(L,{value:1,children:"+1"})]})]})}),e.jsx("div",{className:"line",children:e.jsxs("label",{children:[s("value"),":"]})}),e.jsx("div",{className:"value",children:e.jsxs(G,{exclusive:!0,size:"small",value:m,onChange:f,children:[e.jsx(L,{value:"frequency",children:s("frequency")}),e.jsx(L,{value:"count",children:s("help count")}),e.jsx(L,{value:"full",children:s("time to full inventory")})]})})]}),e.jsx($,{children:e.jsx(F,{onClick:i,children:s("close")})})]})});function sr(t,n){const r=Math.floor(t/3600),i=Math.floor(t/60%60),s=Math.floor(t%60);return n("freq hhmmss",{h:r,m:i,s})}const ir=c.memo(({value:t,dispatch:n})=>{const{t:r}=T(),i=c.useCallback(s=>{n({type:"changeParameter",payload:{parameter:{...t,period:parseInt(s,10)}}})},[n,t]);return e.jsxs(he,{onChange:i,value:t.period,menuSx:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[e.jsx(j,{value:1,dense:!0,children:r("1hour")}),e.jsx(j,{value:3,dense:!0,children:r("3hours")}),e.jsx(j,{value:8,dense:!0,children:r("8hours")}),e.jsx(j,{value:16,dense:!0,children:r("16hours")}),e.jsx(j,{value:24,dense:!0,children:r("1day")}),e.jsx(j,{value:168,dense:!0,children:r("1week")}),e.jsx(un,{style:{gridColumn:"1 / -1"}}),e.jsx(j,{value:-10,dense:!0,children:r("help x10")}),e.jsx(j,{value:-30,dense:!0,children:r("help x30")}),e.jsx(j,{value:-100,dense:!0,children:r("help x100")}),e.jsx(j,{value:ae,dense:!0,children:r("whistle")})]})}),lr=c.memo(({open:t,value:n,onClose:r,onChange:i})=>{const{t:s}=T(),[l,o]=c.useState(n.customEventBonus?.target?.type??["normal"]),[a,d]=c.useState(n.customEventBonus?.target?.specialty??"Berries"),u=c.useCallback(I=>{const N=I.target.value,W=_n.getBonusByName(N);if(W===void 0){i({...n,event:"custom",customEventBonus:{target:{},effects:Cr({})}});return}Array.isArray(W.target.type)&&o(W.target.type),typeof W.target.specialty<"u"&&d(W.target.specialty),i({...n,event:W.name,customEventBonus:{target:W.target,effects:W.effects}})},[n,i]),h=c.useCallback((I,N)=>{if(N===null)return;const W={};switch(N){case"type":W.type=l;break;case"specialty":W.specialty=a;break}i({...n,event:"custom",customEventBonus:{...n.customEventBonus,target:W}})},[l,a,n,i]),m=c.useCallback(I=>{o(I),i({...n,event:"custom",customEventBonus:{...n.customEventBonus,target:{type:I}}})},[n,i]),g=c.useCallback(I=>{d(I),i({...n,event:"custom",customEventBonus:{...n.customEventBonus,target:{specialty:I}}})},[n,i]),x=c.useCallback((I,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,skillTrigger:N}}})},[n,i]),y=c.useCallback((I,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,skillLevel:N}}})},[n,i]),p=c.useCallback((I,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,berry:N}}})},[n,i]),f=c.useCallback((I,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,ingredient:N}}})},[n,i]),k=c.useCallback((I,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,dreamShard:N}}})},[n,i]),C=c.useCallback((I,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,ingredientMagnet:N}}})},[n,i]),b=c.useCallback((I,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,ingredientDraw:N}}})},[n,i]),v=c.useCallback((I,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,berryBurst:N}}})},[n,i]),S=c.useCallback((I,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,dish:N}}})},[n,i]),A=c.useCallback((I,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,energyFromDish:N}}})},[n,i]);if(!t)return e.jsx(e.Fragment,{});const z=_n.bonus.map(I=>e.jsx(j,{value:I.name,children:s("events."+I.name)},I.name));z.unshift(e.jsx(j,{value:"custom",children:s("events.custom")},"custom"));const B=typeof n.customEventBonus.target.type<"u"?"type":typeof n.customEventBonus.target.specialty<"u"?"specialty":"all";return e.jsxs(ao,{open:t,onClose:r,children:[e.jsx("header",{children:e.jsxs("section",{children:[e.jsxs("label",{children:[s("event"),":"]}),e.jsx(ne,{value:n.event,onChange:u,slotProps:{select:{MenuProps:{PaperProps:{sx:{"& .MuiMenuItem-root":{minHeight:"32px",fontSize:"0.875rem",py:.5}}}}}},select:!0,size:"small",variant:"standard",children:z})]})}),e.jsxs("article",{children:[e.jsxs("section",{children:[e.jsxs("label",{children:[s("target"),":"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:B,onChange:h,children:[e.jsx(L,{value:"all",children:s("all")}),e.jsx(L,{value:"type",children:s("type")}),e.jsx(L,{value:"specialty",children:s("specialty")})]})})]}),e.jsx(me,{in:typeof n.customEventBonus.target.type<"u",sx:{textAlign:"right"},children:e.jsx(co,{onChange:m,value:l})}),e.jsxs(me,{in:typeof n.customEventBonus.target.specialty<"u",sx:{textAlign:"right"},children:[e.jsx(Ae,{specialty:"Berries",onClick:g,checked:a==="Berries"}),e.jsx(Ae,{specialty:"Ingredients",onClick:g,checked:a==="Ingredients"}),e.jsx(Ae,{specialty:"Skills",onClick:g,checked:a==="Skills"})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("berry"),":"]}),e.jsx("div",{children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.berry,onChange:p,children:[e.jsx(L,{value:0,children:s("none")}),e.jsx(L,{value:1,children:"+1"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("ingredient"),":"]}),e.jsx("div",{children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.ingredient,onChange:f,children:[e.jsx(L,{value:0,children:s("none")}),e.jsx(L,{value:1,children:"+1"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("skill rate"),":"]}),e.jsx("div",{children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.skillTrigger,onChange:x,children:[e.jsx(L,{value:1,children:"×1"}),e.jsx(L,{value:1.25,children:"×1.25"}),e.jsx(L,{value:1.5,children:"×1.5"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("skill level"),":"]}),e.jsx("div",{children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.skillLevel,onChange:y,children:[e.jsx(L,{value:0,children:s("none")}),e.jsx(L,{value:1,children:"+1"}),e.jsx(L,{value:3,children:"+3"}),e.jsx(L,{value:5,children:"+5"})]})})]})]}),e.jsxs("article",{className:"transparent",children:[e.jsxs("section",{children:[e.jsxs("label",{children:[s("skills.Dream Shard Magnet S"),":"]}),e.jsx("div",{children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.dreamShard,onChange:k,children:[e.jsx(L,{value:1,children:s("none")}),e.jsx(L,{value:1.5,children:"×1.5"}),e.jsx(L,{value:2,children:"×2"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("skills.Ingredient Magnet S"),":"]}),e.jsx("div",{children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.ingredientMagnet,onChange:C,children:[e.jsx(L,{value:1,children:s("none")}),e.jsx(L,{value:1.5,children:"×1.5"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("skills.Ingredient Draw S"),":"]}),e.jsx("div",{children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.ingredientDraw,onChange:b,children:[e.jsx(L,{value:1,children:s("none")}),e.jsx(L,{value:1.5,children:"×1.5"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("skills.Berry Burst"),":"]}),e.jsx("div",{children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.berryBurst,onChange:v,children:[e.jsx(L,{value:1,children:s("none")}),e.jsx(L,{value:1.4,children:"×1.4"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("dish"),":"]}),e.jsx("div",{children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.dish,onChange:S,children:[e.jsx(L,{value:1,children:s("none")}),e.jsx(L,{value:1.1,children:"×1.1"}),e.jsx(L,{value:1.25,children:"×1.25"}),e.jsx(L,{value:1.5,children:"×1.5"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("energy from dish"),":"]}),e.jsx("div",{children:e.jsxs(G,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.energyFromDish,onChange:A,children:[e.jsx(L,{value:0,children:s("none")}),e.jsx(L,{value:5,children:"+5"})]})})]})]}),e.jsx($,{children:e.jsx(F,{onClick:r,children:s("close")})})]})}),ao=M(V)({"& > div.MuiDialog-container > div.MuiPaper-root":{width:"100%",margin:"20px",maxHeight:"calc(100% - 20px)"},"& .MuiPaper-root":{width:"100%","& > header, & > article":{margin:"0.8rem 0.8rem 0 0.8rem","& > section":{display:"flex",flex:"0 auto",fontSize:".85rem",marginTop:"0.5rem","&:first-of-type":{marginTop:0},"& > label":{marginRight:"auto",marginTop:0},"& > div":{}}},"& .MuiSelect-select":{fontSize:"0.8rem"},"& > article":{background:"#f0f0f0",padding:"0.5rem",borderRadius:"0.9rem","& button.MuiToggleButtonGroup-grouped":{padding:"0.2rem 0.4rem",background:"transparent"},"& button.MuiToggleButtonGroup-grouped.Mui-selected":{background:"rgba(0, 0, 0, 0.08)"}},"& > article.transparent":{marginTop:0,background:"transparent"}}}),co=c.memo(({value:t,onChange:n})=>{const r=c.useCallback((o,a)=>{const d=[...t];d[o]=a,n(d)},[t,n]),i=c.useCallback(o=>{const a=[...t];a.splice(o,1),n(a)},[t,n]),s=c.useCallback(()=>{const o=[...t];o.push(Be.find(a=>!t.includes(a))??"normal"),n(o)},[t,n]),l=t.map((o,a)=>e.jsx(qe,{type:o,size:"small",deletable:t.length>1,onChange:d=>r(a,d),onDelete:()=>i(a)},a));return e.jsxs(e.Fragment,{children:[l,l.length<3&&e.jsx(oe,{size:"small",onClick:s,children:e.jsx(Rt,{fontSize:"small"})})]})}),uo=M("div")({padding:"0 1rem",marginBottom:"10rem","& section":{margin:"0.2rem 0",fontSize:".9rem",display:"flex",flex:"0 auto","&.mt":{marginTop:"1rem"},"& > label":{marginRight:"auto",marginTop:0,textWrap:"nowrap"},"& > span > button":{marginRight:0},"& > .MuiInput-underline":{fontSize:"0.9rem"},"& div.MuiToggleButtonGroup-root > button":{fontSize:"0.75rem",padding:"0.5rem 0.2rem",lineHeight:1.1,maxWidth:"7rem"}},"& > button":{marginLeft:"-.4rem"}}),ho=c.memo(({dispatch:t,value:n,hasHelpingBonus:r})=>{const{t:i}=T(),[s,l]=c.useState(!1),[o,a]=c.useState(!1),[d,u]=c.useState(!1),h=c.useCallback(()=>{l(!0)},[]),m=c.useCallback(()=>{l(!1)},[]),g=c.useCallback(D=>{t({type:"changeParameter",payload:{parameter:D}})},[t]),x=c.useCallback(D=>{g({...n,helpBonusCount:parseInt(D.target.value,10)})},[g,n]),y=c.useCallback(D=>{g({...n,evolved:D.target.checked})},[g,n]),p=c.useCallback(D=>{g({...n,maxSkillLevel:D.target.checked})},[g,n]),f=c.useCallback((D,q)=>{q!==null&&(q==="advanced"&&(q="custom"),g({...n,event:q}))},[g,n]),k=c.useCallback(()=>{a(!0)},[]),C=c.useCallback(()=>{a(!1)},[]),b=c.useCallback(D=>{g({...n,tapFrequency:D.target.value})},[g,n]),v=c.useCallback(D=>{g({...n,tapFrequencyAsleep:D.target.value})},[g,n]),S=c.useCallback(()=>{t({type:"openEnergyDialog"})},[t]),A=c.useCallback(D=>{g({...n,recipeBonus:parseInt(D.target.value)})},[g,n]),z=c.useCallback(D=>{g({...n,recipeLevel:parseInt(D.target.value)})},[g,n]),B=c.useCallback(()=>{u(!0)},[]),I=c.useCallback(()=>{u(!1)},[]),N=At(new Date).map(D=>D.name).reverse();let W="";const X=["none",...N,"advanced"].map(D=>{let q=i(`events.${D}`);return W.replace(/\(.*/,"")===q.replace(/\(.*/,"")&&(q=q.replace(/.*\(/,"").replace(")","")),W=q,e.jsx(L,{value:D,style:{textTransform:"none"},children:q},D)}),E=["none",...N].includes(n.event)?n.event:"advanced",R=n.period!==ae;return e.jsxs(uo,{children:[e.jsxs("section",{children:[e.jsxs("label",{children:[i("period"),":"]}),e.jsx(ir,{dispatch:t,value:n})]}),e.jsx(Jt,{value:n,onChange:g}),e.jsxs("section",{className:"mt",children:[e.jsxs("label",{children:[i("event"),":"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[e.jsx(G,{size:"small",exclusive:!0,value:E,onChange:f,children:X}),e.jsx(me,{in:E==="advanced",children:e.jsx(F,{onClick:k,children:i("configure event details")})})]})]}),e.jsxs("section",{className:"mt",children:[e.jsxs("label",{children:[i("level"),":"]}),e.jsx(dt,{dispatch:t,value:n})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[i("calc with evolved"),":"]}),e.jsx(le,{checked:n.evolved,onChange:y})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[i("calc with max skill level"),":"]}),e.jsx(le,{checked:n.maxSkillLevel,onChange:p})]}),e.jsxs("section",{className:"mt",children:[e.jsxs("label",{children:[i("helping bonus"),":"]}),e.jsxs(te,{variant:"standard",value:n.helpBonusCount.toString(),onChange:x,children:[e.jsx(j,{value:0,children:r?"×1":i("none")}),e.jsx(j,{value:1,children:r?"×2":"×1"}),e.jsx(j,{value:2,children:r?"×3":"×2"}),e.jsx(j,{value:3,children:r?"×4":"×3"}),e.jsx(j,{value:4,children:r?"×5":"×4"})]})]}),e.jsxs(me,{in:R,children:[e.jsxs("section",{children:[e.jsxs("label",{children:[i("tap frequency")," (",i("awake"),"):"]}),e.jsxs(te,{variant:"standard",value:n.tapFrequency,onChange:b,children:[e.jsx(j,{value:"always",children:i("every minute")}),e.jsx(j,{value:"none",children:i("none")})]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[i("tap frequency")," (",i("asleep"),"):"]}),n.tapFrequency==="none"?e.jsx("span",{style:{fontSize:"0.9rem"},children:i("none")}):e.jsxs(te,{variant:"standard",value:n.tapFrequencyAsleep,onChange:v,children:[e.jsx(j,{value:"always",children:i("every minute")}),e.jsx(j,{value:"none",children:i("none")})]})]}),e.jsxs("section",{className:"mt",children:[e.jsxs("label",{children:[i("energy"),":"]}),e.jsx(F,{onClick:S,children:i("edit")})]})]}),e.jsxs("section",{className:"mt",children:[e.jsxs("label",{children:[i("recipe bonus"),":",e.jsx(Y,{onClick:h})]}),e.jsx(tt,{size:"small",children:e.jsxs(te,{variant:"standard",value:n.recipeBonus.toString(),onChange:A,children:[e.jsxs(j,{value:0,children:["0% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(",i("mixed recipe"),")"]})]}),e.jsxs(j,{value:19,children:["19% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(7",i("range separator"),"16 ",i("ingredients unit"),")"]})]}),e.jsxs(j,{value:20,children:["20% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(20",i("range separator"),"22 ",i("ingredients unit"),")"]})]}),e.jsxs(j,{value:21,children:["21% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(23",i("range separator"),"26 ",i("ingredients unit"),")"]})]}),e.jsxs(j,{value:25,children:["25% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(17",i("range separator"),"35 ",i("ingredients unit"),")"]})]}),e.jsxs(j,{value:35,children:["35% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(35",i("range separator"),"56 ",i("ingredients unit"),")"]})]}),e.jsxs(j,{value:48,children:["48% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(49",i("range separator"),"77 ",i("ingredients unit"),")"]})]}),e.jsxs(j,{value:61,children:["61% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(87",i("range separator"),"102 ",i("ingredients unit"),")"]})]})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[i("average recipe level"),":"]}),e.jsxs(te,{variant:"standard",value:n.recipeLevel.toString(),onChange:z,children:[e.jsx(j,{value:1,children:"1"}),e.jsx(j,{value:10,children:"10"}),e.jsx(j,{value:20,children:"20"}),e.jsx(j,{value:30,children:"30"}),e.jsx(j,{value:40,children:"40"}),e.jsx(j,{value:50,children:"50"}),e.jsx(j,{value:55,children:"55"}),e.jsx(j,{value:60,children:"60"}),e.jsx(j,{value:65,children:"65"})]})]}),e.jsx("section",{className:"mt",children:e.jsx(F,{onClick:B,variant:"outlined",children:i("initialize all parameters")})}),e.jsx(go,{open:d,onClose:I,dispatch:t}),e.jsx(mo,{open:s,onClose:m}),e.jsx(lr,{open:o,onClose:C,value:n,onChange:g})]})}),mo=c.memo(({open:t,onClose:n})=>{const{t:r}=T();return e.jsxs(V,{open:t,onClose:n,children:[e.jsxs(K,{children:[e.jsx(be,{sx:{marginBottom:"16px"},children:e.jsx(J,{i18nKey:"recipe bonus help",components:{raenonx:e.jsx("a",{href:r("recipe bonus list"),children:"raenonx"})}})}),e.jsx(be,{variant:"body2",children:r("recipe strength help")})]}),e.jsx($,{children:e.jsx(F,{onClick:n,children:r("close")})})]})}),go=c.memo(({dispatch:t,open:n,onClose:r})=>{const[i,s]=c.useState(!1),{t:l}=T(),o=c.useCallback(()=>{t({type:"changeParameter",payload:{parameter:ot({})}}),s(!0),r()},[t,r]),a=c.useCallback(()=>{s(!1)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(V,{open:n,onClose:r,children:[e.jsx(de,{children:l("initialize all parameters")}),e.jsx(K,{children:e.jsx("p",{style:{fontSize:"0.9rem",margin:0},children:l("initialize all parameters message")})}),e.jsxs($,{children:[e.jsx(F,{onClick:o,color:"error",children:l("reset")}),e.jsx(F,{onClick:r,children:l("cancel")})]})]}),e.jsx(Le,{open:i,autoHideDuration:2e3,onClose:a,message:l("initialized all parameters")})]})}),po=M("div")({display:"grid",gridTemplateColumns:"4.8rem 1fr",marginLeft:"0.8rem",marginBottom:".4rem","& header":{marginTop:".7rem","&:first-of-type":{marginTop:0},gridColumn:"1 / -1",fontSize:"1rem","& > span":{display:"inline-block",width:"4rem",fontSize:".6rem",padding:".1rem 0",textAlign:"center",color:"white",borderRadius:".6rem",verticalAlign:"20%"},"& > div":{width:"4.5rem",textAlign:"right",fontWeight:800,display:"inline-block",color:"#555","& > span":{fontSize:"0.7rem",paddingLeft:".2rem"}},"& > button":{padding:0,marginLeft:"6px","& > svg":{width:"20px",height:"20px",color:"#bbb"}}},"& footer":{fontSize:"0.7rem",color:"#666","& > svg":{verticalAlign:"baseline",paddingLeft:".5rem","&:first-of-type":{paddingLeft:0},"&.MuiSvgIcon-root":{width:"1rem",height:"1rem",verticalAlign:"top",paddingRight:0}},"&.ings > svg.MuiSvgIcon-root":{width:".8rem",height:".8rem",paddingRight:"0.2rem"}}}),or=c.memo(t=>{const{t:n}=T();return e.jsxs(po,{children:[e.jsxs("header",{children:[e.jsx("span",{style:{background:"#24d76a"},children:n("berry")}),e.jsx("div",{children:t.berryValue}),t.onBerryInfoClick!==void 0&&e.jsx(Y,{onClick:t.onBerryInfoClick})]}),e.jsxs("footer",{children:[n("probability"),": ",t.berryProb,"%"]}),e.jsx("footer",{children:t.berrySubValue}),e.jsxs("header",{children:[e.jsx("span",{style:{background:"#fab855"},children:n("ingredient")}),e.jsx("div",{children:t.ingredientValue}),t.onIngredientInfoClick!==void 0&&e.jsx(Y,{onClick:t.onIngredientInfoClick})]}),e.jsxs("footer",{children:[n("probability"),": ",t.ingredientProb,"%"]}),e.jsx("footer",{className:"ings",children:t.ingredientSubValue}),e.jsxs("header",{children:[e.jsx("span",{style:{background:"#44a2fd"},children:n("skill")}),e.jsx("div",{children:t.skillValue}),t.onSkillInfoClick!==void 0&&e.jsx(Y,{onClick:t.onSkillInfoClick})]}),e.jsxs("footer",{children:[n("probability"),": ",t.skillProb,"%"]}),e.jsx("footer",{children:t.skillSubValue})]})}),ar=c.memo(({berry:t,ingredient:n,skill:r,width:i,height:s,specialty:l})=>{const u=Math.min(300,i-15-69.28),h=l==="Berries"?"#24d76a":l==="Ingredients"?"#fab855":l==="Skills"?"#44a2fd":"#e28197";return e.jsx("svg",{width:i,height:s,viewBox:`0 0 ${i} ${s}`,style:{position:"absolute",top:"-45px",left:"-0.5rem",pointerEvents:"none"},children:e.jsxs("g",{transform:`translate(${u}, 210)`,children:[e.jsx(xo,{r:80}),e.jsx(fo,{r:80,berry:t,ingredient:n,skill:r,color:h})]})})}),xo=c.memo(({r:t})=>{const{t:n}=T(),r=0,i=-t,s=-t*1.732/2,l=t/2,o=-s,a=l,d=1/4,u=1/2,h=3/4;return e.jsxs(e.Fragment,{children:[e.jsxs("g",{fill:"#666",fontSize:"70%",children:[e.jsx("text",{textAnchor:"middle",x:r,y:i-10,children:n("berry")}),e.jsx("text",{textAnchor:"end",dominantBaseline:"hanging",x:s+15,y:l+5,children:n("skill")}),e.jsx("text",{textAnchor:"end",dominantBaseline:"hanging",x:o+5,y:a+5,children:n("ingredient")})]}),e.jsxs("g",{stroke:"#ccc",fill:"none",children:[e.jsx("polygon",{points:`${r*u},${i*u},${s*u},${l*u},${o*u},${a*u}`}),e.jsx("polygon",{points:`${r},${i},${s},${l},${o},${a}`})]}),e.jsxs("g",{stroke:"#eee",fill:"none",children:[e.jsx("polygon",{points:`${r*d},${i*d},${s*d},${l*d},${o*d},${a*d}`}),e.jsx("polygon",{points:`${r*h},${i*h},${s*h},${l*h},${o*h},${a*h}`})]}),e.jsxs("g",{stroke:"#999",children:[e.jsx("line",{x1:"0",y1:"0",x2:r,y2:i}),e.jsx("line",{x1:"0",y1:"0",x2:s,y2:l}),e.jsx("line",{x1:"0",y1:"0",x2:o,y2:a})]})]})}),fo=c.memo(({r:t,berry:n,ingredient:r,skill:i,color:s})=>{n=n*t,r=r*t,i=i*t;const l=0,o=-n,a=-1.732/2*i,d=i/2,u=1.732/2*r,h=r/2;return e.jsx(e.Fragment,{children:e.jsx("g",{stroke:s,strokeWidth:2,fill:s,fillOpacity:"0.3",children:e.jsx("polygon",{points:`${l},${o},${a},${d},${u},${h}`})})})}),cr=c.memo(({rp:t,iv:n,showIcon:r,isError:i,onClick:s})=>{const{t:l}=T(),o=n.level>fe,a=c.useCallback(()=>{s!==void 0&&s()},[s]);return e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},children:[e.jsx("span",{style:{color:"#fd775d",fontWeight:"bold",paddingRight:".4rem",fontSize:".8rem",display:"inline-block",transform:"scale(1, 0.9)"},children:l("rp")}),e.jsx("span",{style:{fontSize:"1.5rem",fontWeight:"bold",display:"inline-block",transform:"scale(1, 0.9)"},children:l("num",{n:t})}),o&&e.jsx("span",{style:{border:"1px solid red",background:"#ffeeee",color:"red",fontSize:"0.7rem",borderRadius:"0.5rem",marginLeft:".5rem",padding:"0 0.3rem"},children:l("estimated value")}),r&&e.jsx(Y,{onClick:a,isError:i})]})}),ko=c.memo(({state:t,width:n})=>{const{t:r}=T(),[i,s]=c.useState(!1),[l,o]=c.useState(!1),[a,d]=c.useState("berry"),u=c.useCallback(()=>{s(!0)},[]),h=c.useCallback(()=>{s(!1)},[]),m=c.useCallback(()=>{o(!0),d("berry")},[o]),g=c.useCallback(()=>{o(!0),d("ingredient")},[o]),x=c.useCallback(()=>{o(!0),d("skill")},[o]),y=c.useCallback(()=>{o(!1)},[o]),p=t.pokemonIv,f=new re(p),k=f.calculate(),C=ot({helpBonusCount:p.hasHelpingBonusInActiveSubSkills?1:0}),b=new Te(p,C).calculate(),v=f.pokemon,S=400,A=t.lowerTabIndex===1&&t.selectedItemId>=0&&(t.parameter.level>0||t.parameter.fieldIndex>=0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(cr,{rp:k.rp,iv:p,showIcon:!0,isError:A,onClick:u}),e.jsx(or,{berryValue:P(k.berryRp),berryProb:P(f.berryRatio*100),berrySubValue:e.jsxs(e.Fragment,{children:[e.jsx(ce,{sx:{color:"#ff944b",width:"1rem",height:"1rem"}}),_(Math.round(b.berryTotalStrength))]}),onBerryInfoClick:m,ingredientValue:P(k.ingredientRp),ingredientProb:P(f.ingredientRatio*100),ingredientSubValue:e.jsx(e.Fragment,{children:b.ingredients.map(z=>e.jsxs(c.Fragment,{children:[e.jsx(ve,{name:z.name}),P(z.count)]},z.name))}),onIngredientInfoClick:g,skillValue:P(k.skillRp),skillProb:P(f.skillRatio*100),skillSubValue:b.skillCount.toFixed(2)+r("times unit"),onSkillInfoClick:x}),e.jsx(jo,{isError:A,open:i,onClose:h}),e.jsx(bo,{open:l,onClose:y,rp:f,rpResult:k,rpType:a})]}),e.jsx(ar,{width:n,height:S,specialty:v.specialty,berry:k.berryRp/2e3,ingredient:k.ingredientRp/2e3,skill:k.skillRp/2e3})]})}),jo=c.memo(({isError:t,open:n,onClose:r})=>{const{t:i}=T();return n?t?e.jsxs(It,{open:n,onClose:r,children:[e.jsx("article",{children:i("go to strength tab to show the current condition values")}),e.jsx($,{children:e.jsx(F,{onClick:r,children:i("close")})})]}):e.jsxs(It,{open:n,onClose:r,children:[e.jsxs("article",{children:[e.jsx("h2",{children:i("rp")}),e.jsx("p",{children:e.jsx(J,{i18nKey:"rp formula",components:{link:e.jsx("a",{href:i("rp formula doc url"),children:i("rp formula doc title")})}})}),e.jsx("p",{children:i("estimated beyond level",{level:fe})}),e.jsx("h2",{children:i("strength, ingredients, skill count")}),e.jsx("p",{children:i("the amount under the following condition")}),e.jsxs("ul",{children:[e.jsxs("li",{children:[i("period"),": ",i("1day")]}),e.jsxs("li",{children:[i("favorite berry"),": ",i("none")]}),e.jsxs("li",{children:[i("good camp ticket"),": ",i("none")]}),e.jsxs("li",{children:[i("area bonus"),": 0%"]}),e.jsxs("li",{children:[i("helping bonus other pokemon"),": ",i("none")]}),e.jsxs("li",{children:[i("skills.Energy for Everyone S"),": 18 × 3"]}),e.jsxs("li",{children:[i("sleep score"),": 100"]}),e.jsxs("li",{children:[i("tap frequency")," (",i("awake"),"): ",i("every minute")]}),e.jsxs("li",{children:[i("tap frequency")," (",i("asleep"),"): ",i("none")]})]}),e.jsx("p",{children:i("use strength tab if you want to change these condition")}),e.jsx("p",{children:i("estimated beyond level",{level:fe})})]}),e.jsx($,{children:e.jsx(F,{onClick:r,children:i("close")})})]}):e.jsx(e.Fragment,{})}),It=M(V)({"& article":{margin:"1rem 1rem 0 1rem","& > h2":{fontSize:"1rem",margin:"0.8rem 0 0 0",lineHeight:1.2,"&:first-of-type":{margin:0}},"& > p":{fontSize:"0.8rem",margin:"0.3rem 0"},"& > ul":{margin:"0.5rem 0",padding:"0 0 0 1.5rem","& > li":{margin:"0.2rem 0",fontSize:"0.8rem"}}}}),yo=M(V)({"& header":{margin:"1rem","& > h1":{fontSize:"1.5rem",margin:0,"& > span":{fontWeight:400,display:"inline-block",width:"4rem",fontSize:".6rem",padding:".1rem 0",textAlign:"center",color:"white",borderRadius:".6rem",verticalAlign:"50%"},"& > strong":{paddingLeft:"0.5rem"}},"& > h2":{display:"inline-block",fontWeight:"normal",fontSize:"0.9rem",margin:"0.3rem 0 0 0.5rem",lineHeight:"1.9"}},"& article":{margin:"1rem .5rem 0 .5rem",display:"grid",gridGap:".5rem",rowGap:".8rem",gridTemplateColumns:"max-content 1fr",fontSize:"0.9rem","& > div":{textAlign:"right"}},"& footer":{margin:"1rem 1rem 0 1rem",fontSize:"0.8rem","& > p":{margin:".5rem 0 0 0"}},"& span.box":{borderRadius:".3rem",padding:".1rem .4rem",margin:"0",color:"white",textAlign:"center"},"& span.box1":{background:"#1ebee1"},"& span.box2":{background:"#27c18e"},"& span.box3":{background:"#e7c300"},"& span.box4":{background:"#ce5052"},"& span.box5":{background:"#ce3fa3"}}),bo=c.memo(({open:t,onClose:n,rp:r,rpResult:i,rpType:s})=>{const{t:l}=T();if(!t)return e.jsx(e.Fragment,{});let o="",a="",d=l(s);const u=xe(r.helpCountPer5Hour),h=l("helps per 5 hours");let m="",g="",x="",y="",p="",f="";const C=r.bonus.toString();return s==="berry"?(o="#24d76a",a=P(i.berryRp),m=P(r.berryRatio*100)+"%",g=l("berry rate"),x=r.berryStrength.toString(),y=l("berry strength"),p=r.berryCount.toString(),f=l("berry count")):s==="ingredient"?(o="#fab855",a=P(i.ingredientRp),m=P(r.ingredientRatio*100)+"%",g=l("ingredient rate"),x=P(r.ingredientEnergy),y=l("ingredient strength"),p=ol(r.ingredientG),f=l("ingredient factor")):(o="#44a2fd",a=P(i.skillRp),m=P(r.skillRatio*100)+"%",g=l("skill rate"),x=_(r.skillValue),y=l("skill strength")),e.jsxs(yo,{open:t,onClose:n,children:[e.jsxs("header",{children:[e.jsxs("h1",{children:[e.jsx("span",{style:{background:o},children:d}),e.jsx("strong",{children:a})]}),e.jsxs("h2",{children:[e.jsx("span",{className:"box box1",children:u}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:m}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box3",children:x}),e.jsx(e.Fragment,{children:" × "}),p!==""&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"box box4",children:p}),e.jsx(e.Fragment,{children:" × "})]}),e.jsx("span",{className:"box box5",children:C})]})]}),e.jsxs("article",{children:[e.jsx("div",{children:e.jsx("span",{className:"box box1",children:u})}),e.jsx("span",{children:h}),e.jsx("div",{children:e.jsx("span",{className:"box box2",children:m})}),e.jsx("span",{children:g}),e.jsx("div",{children:e.jsx("span",{className:"box box3",children:x})}),e.jsx("span",{children:y}),p!==""&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("span",{className:"box box4",children:p})}),e.jsx("span",{children:f})]}),e.jsx("div",{children:e.jsx("span",{className:"box box5",children:C})}),e.jsx("span",{children:e.jsx(J,{i18nKey:"bonus factor",components:{nature:e.jsx(e.Fragment,{children:xe(r.energyBonus)}),subskill:e.jsx(e.Fragment,{children:xe(r.subSkillBonus)})}})})]}),e.jsxs("footer",{children:[e.jsx("p",{children:e.jsx(J,{i18nKey:"rp formula",components:{link:e.jsx("a",{href:l("rp formula doc url"),children:l("rp formula doc title")})}})}),e.jsx("p",{children:l("estimated beyond level",{level:fe})})]}),e.jsx($,{children:e.jsx(F,{onClick:n,children:l("close")})})]})}),dr=c.memo(({open:t,onClose:n,iv:r,fieldBonus:i,berryBonus:s})=>{const{t:l}=T();if(!t)return e.jsx(e.Fragment,{});const o=new re(r).berryStrength,a=Math.ceil(Math.ceil(o*(1+i/100))*s);return e.jsxs(Fn,{open:t,onClose:n,PaperProps:{style:{maxWidth:"20rem"}},children:[e.jsxs(de,{children:[e.jsxs("article",{children:[e.jsx(ce,{sx:{color:"#ff944b"}}),_(a)]}),e.jsxs("footer",{children:[e.jsx("span",{className:"box box3",children:o}),e.jsx(e.Fragment,{children:" × "}),"(1 + ",e.jsxs("span",{className:"box box4",children:[i,"%"]}),")",e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box5",children:s})]})]}),e.jsx(K,{children:e.jsxs("article",{children:[e.jsx("div",{children:e.jsx("span",{className:"box box3",children:o})}),e.jsx("span",{children:l("berry strength")}),e.jsx("div",{children:e.jsxs("span",{className:"box box4",children:[i,"%"]})}),e.jsx("span",{children:l("area bonus")}),e.jsx("div",{children:e.jsx("span",{className:"box box5",children:s})}),e.jsx("span",{children:l("favorite berry")})]})}),e.jsx($,{children:e.jsx(F,{onClick:n,children:l("close")})})]})}),vo=c.memo(({open:t,onClose:n,strength:r,result:i})=>{const{t:s}=T(),[l,o]=c.useState(!1),a=c.useCallback(()=>{o(!0)},[]),d=c.useCallback(()=>{o(!1)},[]);if(!t)return e.jsx(e.Fragment,{});const u=r.parameter,h=Math.ceil(i.berryStrength*r.berryStrengthBonus);return e.jsxs(Fn,{open:t,onClose:n,children:[e.jsxs(de,{children:[e.jsxs("article",{children:[e.jsx(ce,{sx:{color:"#ff944b"}}),_(Math.round(i.berryTotalStrength))]}),e.jsxs("footer",{children:[e.jsx("span",{className:"box box1",children:h}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:i.berryCount}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box3",children:P(i.berryHelpCount)})]})]}),e.jsx(K,{children:e.jsxs("article",{children:[e.jsx("div",{children:e.jsx("span",{className:"box box1",children:h})}),e.jsxs("span",{children:[s("actual berry strength"),e.jsx(Y,{onClick:a})]}),e.jsx("div",{children:e.jsx("span",{className:"box box2",children:i.berryCount})}),e.jsx("span",{children:s("berry count")}),e.jsx("div",{children:e.jsx("span",{className:"box box3",children:P(i.berryHelpCount)})}),e.jsxs("span",{children:[s("berry help count"),e.jsxs("ul",{className:"detail",children:[e.jsxs("li",{children:[e.jsx("strong",{children:P(i.notFullHelpCount*i.berryRatio)}),s("times unit"),": ",s("berry picking count"),e.jsxs("footer",{children:[P(i.notFullHelpCount),e.jsxs("small",{children:[" (",s("normal help count"),")"]}),e.jsx(e.Fragment,{children:" × "}),P(i.berryRatio*100),"%",e.jsxs("small",{children:[" (",s("berry rate"),")"]})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:P(i.fullHelpCount)}),s("times unit"),": ",s("sneaky snacking")]})]})]})]})}),e.jsx($,{children:e.jsx(F,{onClick:n,children:s("close")})}),e.jsx(dr,{open:l,onClose:d,iv:r.pokemonIv,fieldBonus:u.fieldBonus,berryBonus:r.berryStrengthBonus})]})}),So=c.memo(({open:t,iv:n,energy:r,parameter:i,onClose:s,dispatch:l})=>{const{t:o}=T(),[a,d]=ct(),[u,h]=c.useState(!1),m=c.useCallback(S=>{l({type:"changeParameter",payload:{parameter:{...i,e4eEnergy:parseInt(S.target.value,10)}}})},[l,i]),g=c.useCallback(S=>{l({type:"changeParameter",payload:{parameter:{...i,e4eCount:parseInt(S.target.value,10)}}})},[l,i]),x=c.useCallback(S=>{l({type:"changeParameter",payload:{parameter:{...i,recoveryBonusCount:parseInt(S.target.value,10)}}})},[l,i]),y=c.useCallback(S=>{h(S.target.value==="");let A=parseInt(S.target.value,10);isNaN(A)&&(A=0),A=Math.min(100,Math.max(0,A)),l({type:"changeParameter",payload:{parameter:{...i,sleepScore:A}}})},[l,i]),p=c.useCallback(S=>{l({type:"changeParameter",payload:{parameter:{...i,isEnergyAlwaysFull:S.target.checked}}})},[l,i]),f=c.useCallback(S=>{l({type:"changeParameter",payload:{parameter:{...i,isGoodCampTicketSet:S.target.checked}}})},[l,i]),k=c.useCallback(S=>{l({type:"changeParameter",payload:{parameter:{...i,tapFrequency:S.target.value}}})},[l,i]),C=c.useCallback(S=>{l({type:"changeParameter",payload:{parameter:{...i,tapFrequencyAsleep:S.target.value}}})},[l,i]);if(!t)return e.jsx(e.Fragment,{});const b=n.hasEnergyRecoveryBonusInActiveSubSkills,v=r.carryLimit;return e.jsxs(Co,{open:t,onClose:s,children:[e.jsx(wo,{width:a,period:i.period,result:r}),e.jsx(me,{in:!i.isEnergyAlwaysFull,children:e.jsxs("section",{children:[e.jsxs("div",{children:[e.jsxs("label",{children:[o("skills.Energy for Everyone S"),":"]}),e.jsxs("div",{children:[e.jsxs(te,{variant:"standard",value:i.e4eEnergy.toString(),onChange:m,children:[e.jsx(j,{value:5,children:"5"}),e.jsx(j,{value:7,children:"7"}),e.jsx(j,{value:9,children:"9"}),e.jsx(j,{value:11,children:"11"}),e.jsx(j,{value:15,children:"15"}),e.jsx(j,{value:18,children:"18"})]}),e.jsx("span",{style:{margin:"0 0.5rem"},children:"×"}),e.jsxs(te,{variant:"standard",value:i.e4eCount.toString(),onChange:g,children:[e.jsx(j,{value:0,children:"0"}),e.jsx(j,{value:1,children:"1"}),e.jsx(j,{value:2,children:"2"}),e.jsx(j,{value:3,children:"3"}),e.jsx(j,{value:4,children:"4"}),e.jsx(j,{value:5,children:"5"}),e.jsx(j,{value:6,children:"6"}),e.jsx(j,{value:7,children:"7"}),e.jsx(j,{value:8,children:"8"}),e.jsx(j,{value:9,children:"9"}),e.jsx(j,{value:10,children:"10"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{children:[o("subskill.Energy Recovery Bonus"),":"]}),e.jsxs(te,{variant:"standard",value:i.recoveryBonusCount.toString(),onChange:x,children:[e.jsx(j,{value:0,children:b?"×1":o("none")}),e.jsx(j,{value:1,children:b?"×2":"×1"}),e.jsx(j,{value:2,children:b?"×3":"×2"}),e.jsx(j,{value:3,children:b?"×4":"×3"}),e.jsx(j,{value:4,children:b?"×5":"×4"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{children:[o("sleep score"),":"]}),e.jsx("div",{children:e.jsx(ne,{variant:"standard",type:"number",size:"small",value:u?"":i.sleepScore,onChange:y,slotProps:{htmlInput:{min:0,max:100}}})})]})]})}),e.jsx("section",{ref:d,children:e.jsxs("div",{children:[e.jsxs("label",{children:[o("always 81%+"),":"]}),e.jsx("div",{children:e.jsx(le,{size:"small",checked:i.isEnergyAlwaysFull,onChange:p})})]})}),e.jsx("section",{children:e.jsxs("div",{children:[e.jsxs("label",{children:[o("good camp ticket"),":"]}),e.jsx("div",{children:e.jsx(le,{size:"small",checked:i.isGoodCampTicketSet,onChange:f})})]})}),e.jsxs("section",{children:[e.jsxs("div",{children:[e.jsxs("label",{children:[o("tap frequency")," (",o("awake"),"):"]}),e.jsxs(te,{variant:"standard",value:i.tapFrequency,onChange:k,children:[e.jsx(j,{value:"always",children:o("every minute")}),e.jsx(j,{value:"none",children:o("none")})]})]}),e.jsxs("div",{children:[e.jsxs("label",{children:[o("tap frequency")," (",o("asleep"),"):"]}),i.tapFrequency==="none"?e.jsx("span",{style:{fontSize:"0.9rem"},children:o("none")}):e.jsxs(te,{variant:"standard",value:i.tapFrequencyAsleep,onChange:C,children:[e.jsx(j,{value:"always",children:o("every minute")}),e.jsx(j,{value:"none",children:o("none")})]})]})]}),e.jsxs("footer",{children:[e.jsxs("section",{className:"first",children:[e.jsxs("label",{children:[o("average help efficiency"),":"]}),e.jsx("div",{children:r.averageEfficiency.total}),i.period>=24&&e.jsxs("footer",{children:[e.jsxs("span",{children:[o("awake"),": ",r.averageEfficiency.awake]}),e.jsxs("span",{children:[o("asleep"),": ",r.averageEfficiency.asleep]})]})]}),e.jsxs(me,{in:r.canBeFullInventory&&i.period>=24,children:[e.jsxs("section",{children:[e.jsxs("label",{children:[o("full inventory while sleeping"),":"]}),e.jsx("div",{children:r.timeToFullInventory<0?o("none"):new hn(r.timeToFullInventory).toString(o)}),e.jsxs("footer",{children:[e.jsxs("span",{children:[o("carry limit"),": ",v]}),e.jsxs("span",{children:[o("sneaky snacking"),": ",r.timeToFullInventory<0?o("none"):r.helpCount.asleepFull.toFixed(1)+" "+o("times unit")]})]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[o("skill trigger after wake up"),":"]}),e.jsx("div",{children:n.pokemon.specialty!=="Skills"?e.jsxs(e.Fragment,{children:[(r.skillProbabilityAfterWakeup.once*100).toFixed(1),"%"]}):e.jsxs(e.Fragment,{children:["❶",(r.skillProbabilityAfterWakeup.once*100).toFixed(1),"%",e.jsx(e.Fragment,{children:" "}),"❷",(r.skillProbabilityAfterWakeup.twice*100).toFixed(1),"%"]})}),e.jsx("footer",{children:e.jsxs("span",{children:[o("lottery count"),": ",r.helpCount.asleepNotFull.toFixed(2)]})})]})]})]}),n.pokemon.skill==="Charge Energy S"&&e.jsx("div",{className:"warning",children:o("charge energy not implemented")}),e.jsx($,{disableSpacing:!0,children:e.jsx(F,{onClick:s,children:o("close")})})]})}),Co=M(V)({"& > div.MuiDialog-container > div.MuiPaper-root":{width:"100%",margin:"20px",maxHeight:"calc(100% - 20px)"},"& .MuiPaper-root":{width:"100%","& > svg":{padding:"0.5rem 0 1rem",width:"100%",userSelect:"none"},"& section":{padding:"0 1rem","& > div":{display:"flex",flex:"0 auto",flexWrap:"wrap",alignItems:"center","& > label":{marginRight:"auto",fontSize:"0.9rem","&.indent":{marginLeft:"1rem"}},"& .MuiSelect-select":{paddingTop:"1px",paddingBottom:"1px",fontSize:"0.9rem"},"& input.MuiInput-input":{fontSize:"0.9rem",paddingBottom:0}}},"& > footer":{margin:"0.5rem 1rem 0 1rem",fontSize:"0.9rem",background:"#eee",borderRadius:"0.9rem",padding:"0.5rem 0.7rem","& section":{display:"grid",gridTemplateColumns:"1fr fit-content(200px)",marginTop:"0.4rem","&.first":{marginTop:0},padding:0,"& > div":{textAlign:"right"},"& > footer":{gridColumn:"1 / -1",color:"#666",fontSize:"0.7rem",marginLeft:"0.8rem","& > span":{marginRight:"1rem"}}}},"& > div.warning":{fontSize:"0.8rem",color:"#666",padding:"0.4rem 1rem 0 1rem",marginLeft:"1.2rem"}}}),wo=c.memo(({width:t,period:n,result:r})=>{const i=c.useRef(null),s=Eo(i);return e.jsx("svg",{width:t,height:"200",viewBox:`0 0 ${t} 200`,ref:i,children:e.jsxs("g",{transform:"translate(25,3)",children:[e.jsx(Bo,{width:t-50,height:180,period:n,sleepTime:r.sleepTime}),e.jsx(Io,{width:t-50,height:180,result:r}),s!==null&&e.jsx(Mo,{width:t-50,height:180,x:s.svgX-25,gx:s.x,gy:s.y,result:r})]})})}),Bo=c.memo(({width:t,height:n,period:r,sleepTime:i})=>{const s=Se(100,n),l=Se(80,n),o=Se(60,n),a=Se(40,n),d=Se(20,n),u=Se(0,n),h=sn(2,n),m=sn(1.5,n),g=sn(1,n),x=z=>z/1440*t,y=x(120),p=x(300),f=x(480),k=x(660),C=x(840),b=x(1020),v=x(1200),S=x(1380),A=n+5;return e.jsxs(e.Fragment,{children:[e.jsxs("g",{stroke:"#ddd",children:[e.jsx("line",{x1:"0",y1:s,x2:t,y2:s}),e.jsx("line",{x1:"0",y1:l,x2:t,y2:l}),e.jsx("line",{x1:"0",y1:o,x2:t,y2:o}),e.jsx("line",{x1:"0",y1:a,x2:t,y2:a}),e.jsx("line",{x1:"0",y1:d,x2:t,y2:d}),e.jsx("line",{x1:"0",y1:u,x2:t,y2:u})]}),e.jsxs("g",{stroke:"#bbb",children:[e.jsx("line",{x1:S,y1:n,x2:S,y2:A}),e.jsx("line",{x1:y,y1:n,x2:y,y2:A}),e.jsx("line",{x1:p,y1:n,x2:p,y2:A}),e.jsx("line",{x1:f,y1:n,x2:f,y2:A}),e.jsx("line",{x1:k,y1:n,x2:k,y2:A}),e.jsx("line",{x1:C,y1:n,x2:C,y2:A}),e.jsx("line",{x1:b,y1:n,x2:b,y2:A}),e.jsx("line",{x1:v,y1:n,x2:v,y2:A})]}),e.jsxs("g",{fontSize:"60%",fill:"#999",textAnchor:"end",children:[e.jsx("text",{alignmentBaseline:"central",x:"-5",y:s,children:"100"}),e.jsx("text",{alignmentBaseline:"central",x:"-5",y:l,children:"80"}),e.jsx("text",{alignmentBaseline:"central",x:"-5",y:o,children:"60"}),e.jsx("text",{alignmentBaseline:"central",x:"-5",y:a,children:"40"}),e.jsx("text",{alignmentBaseline:"central",x:"-5",y:d,children:"20"}),e.jsx("text",{alignmentBaseline:"central",x:"-5",y:u,children:"0"})]}),e.jsxs("g",{transform:`translate(${t+2},0)`,fontSize:"60%",fill:"#999",textAnchor:"start",children:[e.jsx("text",{alignmentBaseline:"central",x:"0",y:h,children:"2.0"}),e.jsx("text",{alignmentBaseline:"central",x:"0",y:m,children:"1.5"}),e.jsx("text",{alignmentBaseline:"central",x:"0",y:g,children:"1.0"})]}),e.jsxs("g",{transform:`translate(0,${A+3})`,fontSize:"60%",fill:"#999",textAnchor:"middle",children:[e.jsx("text",{alignmentBaseline:"hanging",x:y,y:"0",children:"9:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:p,y:"0",children:"12:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:f,y:"0",children:"15:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:k,y:"0",children:"18:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:C,y:"0",children:"21:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:b,y:"0",children:"24:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:v,y:"0",children:"3:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:S,y:"0",children:"6:00"})]}),e.jsx("rect",{x:t*i/1440,y:"0",width:t*(1440-i)/1440,height:n,fill:"#000080",fillOpacity:"0.08"}),r<24&&e.jsx("rect",{x:t*r*60/1440,y:"0",width:t*(1440-r*60)/1440,height:n,fill:"#6666tt",fillOpacity:"0.15"})]})}),Io=c.memo(({width:t,height:n,result:r})=>{const i=m=>m/1440*t,s=[],l=[];let o=r.events[0].isSnacking,a=o?i(0).toFixed(2):t.toString();for(let m=0;m<r.events.length;m++){const g=Se(r.events[m].energyBefore,n).toFixed(2),x=Se(r.events[m].energyAfter,n).toFixed(2),y=i(r.events[m].minutes).toFixed(2),p=o?l:s;p.push(`${y},${g}`),m<r.events.length-1&&p.push(`${y},${x}`),!o&&r.events[m].isSnacking&&(o=!0,l.push(`${y},${x}`),a=y)}const d=[...s];d.push(`${a},${n} 0,${n}`);const u=[...l];u.length>0&&u.push(`${t},${n} ${a},${n}`);const h=[];for(const m of r.efficiencies){const g=i(m.start),x=i(m.end),y=sn(m.efficiency,n);h.push(`${g},${y} ${x},${y}`)}return e.jsxs(e.Fragment,{children:[e.jsx("polygon",{points:d.join(" "),stroke:"none",fill:"#1976d2",fillOpacity:.2}),e.jsx("polyline",{points:s.join(" "),stroke:"#1976d2",fill:"none"}),u.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("polyline",{points:l.join(" "),stroke:"#000000",fill:"none"}),e.jsx("polygon",{points:u.join(" "),stroke:"none",fill:"#000000",fillOpacity:.2})]}),e.jsx("polyline",{points:h.join(" "),stroke:"#ff0000",fill:"none",strokeWidth:"1.2"})]})}),Mo=c.memo(({width:t,height:n,x:r,gx:i,gy:s,result:l})=>{const{t:o}=T(),a=20;if(r<-a||r>t+a)return e.jsx(e.Fragment,{});r=Math.max(0,Math.min(t,r));const d=Math.round(r/t*1440/10)*10;r=d/1440*t;const u=l.events.findIndex(p=>d<p.minutes);let h;if(u<=0)h=l.events[l.events.length-1].energyBefore;else{const p=l.events[u-1],f=l.events[u],k=(d-p.minutes)/(f.minutes-p.minutes);h=p.energyAfter+(f.energyBefore-p.energyAfter)*k}let m=l.efficiencies.find(p=>p.start<=d&&d<p.end);m===void 0&&(m=l.efficiencies[l.efficiencies.length-1]);let g="";const x=m.isSnacking;m.isAwake?g=o(x?"asleep (full inventory)":"awake"):g=o(x?"asleep (full inventory)":"asleep");const y={getBoundingClientRect:()=>new DOMRect(i-window.scrollX,s-window.scrollY,0,0)};return e.jsxs(e.Fragment,{children:[e.jsx("line",{stroke:"#999",x1:r,y1:0,x2:r,y2:n}),e.jsx("circle",{fill:x?"#000":"#1976d2",cx:r,cy:Se(h,n),r:"3"}),e.jsx("circle",{fill:"#ff0000",cx:r,cy:sn(m.efficiency,n),r:"3"}),e.jsx(To,{open:!0,anchorEl:y,placement:"right-end",children:e.jsxs("div",{children:[e.jsx("h3",{children:g}),e.jsxs("h2",{children:[e.jsx(Ue,{energy:h}),Math.floor((d+420)/60)%24,":",Math.floor(d%60).toString().padStart(2,"0")]}),e.jsxs("dl",{children:[e.jsxs("dt",{children:[o("help efficiency"),":"]}),e.jsx("dd",{children:m.efficiency}),e.jsxs("dt",{children:[o("energy"),":"]}),e.jsx("dd",{children:Math.ceil(h)})]})]})})]})}),To=M(Bn)({pointerEvents:"none",padding:"1rem","& > div":{padding:".5rem",background:"rgba(246, 246, 246, 0.8)",borderRadius:"0.8rem",boxShadow:"4px 2px 5px 3px rgba(128, 128, 128, 0.2)","& > h2":{fontSize:"0.9rem",color:"#666",margin:0,display:"flex",alignItems:"center","& > svg":{marginRight:"0.1rem"}},"& > h3":{fontSize:"0.6rem",color:"#889",fontWeight:"normal",margin:0},"& > dl":{fontSize:"0.8rem",display:"grid",gridTemplateColumns:"auto auto",margin:"0.3rem 0 0 0","& > dt":{margin:"0 0.4rem 0 0",color:"#333"},"& > dd":{margin:0,textAlign:"right"}}}}),Se=(t,n)=>(150-t)/150*n,sn=(t,n)=>(210-80*t)/150*n;function Eo(t){const[n,r]=c.useState(null),i=c.useCallback((d,u)=>{if(t.current===null)return;const h=t.current,m=h.createSVGPoint();m.x=d,m.y=u;const g=m.matrixTransform(h.getScreenCTM().inverse());r({x:d,y:u,svgX:g.x})},[t]),s=c.useCallback(d=>{i(d.touches[0].pageX,d.touches[0].pageY)},[i]),l=c.useCallback(d=>{r(null)},[]),o=c.useCallback(d=>{"ontouchstart"in window||i(d.pageX,d.pageY)},[i]),a=c.useCallback(d=>{r(null)},[]);return c.useEffect(()=>{if(t.current===null)return;const d=t.current;return d.addEventListener("touchstart",s),d.addEventListener("touchmove",s),d.addEventListener("touchend",l),d.addEventListener("mousemove",o),d.addEventListener("mouseleave",a),()=>{d.removeEventListener("touchstart",s),d.removeEventListener("touchmove",s),d.removeEventListener("touchend",l),d.removeEventListener("mousemove",o),d.removeEventListener("mouseleave",a)}},[t,s,l,o,a]),n}const No=c.memo(({open:t,strength:n,result:r,dispatch:i,onClose:s})=>{const{t:l}=T(),[o,a]=c.useState(!1),d=c.useCallback(b=>{i({type:"changeParameter",payload:{parameter:b}})},[i]),u=c.useCallback(b=>{d({...n.parameter,recipeBonus:parseInt(b.target.value)})},[d,n.parameter]),h=c.useCallback(b=>{d({...n.parameter,recipeLevel:parseInt(b.target.value)})},[d,n.parameter]),m=c.useCallback(()=>{a(!0)},[]),g=c.useCallback(()=>{a(!1)},[]);if(!t)return e.jsx(e.Fragment,{});const x=n.parameter;if(x.tapFrequency==="none")return e.jsxs(V,{open:t,onClose:s,children:[e.jsx(K,{style:{fontSize:"0.95rem",whiteSpace:"pre-wrap"},children:l("no ingredient")}),e.jsx($,{children:e.jsx(F,{onClick:s,children:l("close")})})]});const y=n.pokemonIv.level<30?1:n.pokemonIv.level<60?2:3,p=[[r.ing1]];y>1&&(r.ing2.name==="unknown"||(p[0][0].name===r.ing2.name?p[0].push(r.ing2):p.push([r.ing2]))),y>2&&r.ing3!==void 0&&(r.ing3.name==="unknown"||(p[0][0].name===r.ing3.name?p[0].push(r.ing3):p.length>1&&p[1][0].name===r.ing3.name?p[1].push(r.ing3):p.push([r.ing3])));const k=(x.recipeBonus===0?1:(1+x.recipeBonus/100)*(1+qn[x.recipeLevel]/100))*.8+.2,C=Pe(x.event,x.customEventBonus)?.dish??1;return e.jsxs(Fn,{open:t,onClose:s,children:[e.jsx(de,{children:e.jsxs("article",{children:[e.jsx(ce,{sx:{color:"#ff944b"}}),_(Math.round(r.ingStrength))]})}),e.jsxs(K,{children:[e.jsxs("div",{className:`inggrid ings${p.length}`,children:[On(n,r,k,y,p[0],l),p.length>1&&On(n,r,k,y,p[1],l),p.length>2&&On(n,r,k,y,p[2],l)]}),e.jsxs("article",{children:[e.jsx("div",{children:e.jsx("span",{className:"box box3",children:xe(r.ingHelpCount)})}),e.jsx("span",{children:l("ing help count")}),e.jsxs("footer",{children:[P(r.notFullHelpCount),e.jsxs("small",{children:[" (",l("normal help count"),")"]}),e.jsx(e.Fragment,{children:" × "}),P(r.ingRatio*100),"%",e.jsxs("small",{children:[" (",l("ingredient rate"),")"]})]}),e.jsx("div",{children:e.jsx("span",{className:"box box1",children:P(p[0].reduce((b,v)=>b+v.count,0))})}),e.jsx("span",{children:l("ing count")}),e.jsx("div",{children:e.jsx("span",{className:"box box2",children:Ne[p[0][0].name]})}),e.jsx("span",{children:l("strength per ing")}),e.jsx("div",{children:e.jsx("span",{className:"box box5",children:xe(k)})}),e.jsxs("span",{children:[l("recipe multiplier"),e.jsx(Y,{onClick:m})]}),e.jsxs("footer",{children:[e.jsx(e.Fragment,{children:"("}),xe(x.recipeBonus===0?1:1+x.recipeBonus/100),e.jsxs("small",{children:[" (",l("recipe bonus"),")"]}),e.jsx(e.Fragment,{children:" × "}),xe(1+qn[x.recipeLevel]/100),e.jsxs("small",{children:["(",l("average recipe level"),")"]}),e.jsx(e.Fragment,{children:") × 0.8 + 0.2"})]}),e.jsx("div",{children:e.jsxs("span",{className:"box box4",children:[x.fieldBonus,"%"]})}),e.jsx("span",{children:l("area bonus")}),C!==1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("span",{className:"box box6",children:C})}),e.jsx("span",{children:l("event bonus")})]})]}),e.jsxs("section",{style:{marginTop:"1.8rem"},children:[e.jsxs("label",{children:[l("recipe bonus"),":"]}),e.jsx(tt,{size:"small",children:e.jsxs(te,{variant:"standard",value:n.parameter.recipeBonus.toString(),onChange:u,children:[e.jsxs(j,{value:0,children:["0% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(",l("mixed recipe"),")"]})]}),e.jsxs(j,{value:19,children:["19% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(7",l("range separator"),"16 ",l("ingredients unit"),")"]})]}),e.jsxs(j,{value:20,children:["20% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(20",l("range separator"),"22 ",l("ingredients unit"),")"]})]}),e.jsxs(j,{value:21,children:["21% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(23",l("range separator"),"26 ",l("ingredients unit"),")"]})]}),e.jsxs(j,{value:25,children:["25% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(17",l("range separator"),"35 ",l("ingredients unit"),")"]})]}),e.jsxs(j,{value:35,children:["35% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(35",l("range separator"),"56 ",l("ingredients unit"),")"]})]}),e.jsxs(j,{value:48,children:["48% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(49",l("range separator"),"77 ",l("ingredients unit"),")"]})]}),e.jsxs(j,{value:61,children:["61% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(87",l("range separator"),"102 ",l("ingredients unit"),")"]})]})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[l("average recipe level"),":"]}),e.jsxs(te,{variant:"standard",value:n.parameter.recipeLevel.toString(),onChange:h,children:[e.jsx(j,{value:1,children:"1"}),e.jsx(j,{value:10,children:"10"}),e.jsx(j,{value:20,children:"20"}),e.jsx(j,{value:30,children:"30"}),e.jsx(j,{value:40,children:"40"}),e.jsx(j,{value:50,children:"50"}),e.jsx(j,{value:55,children:"55"}),e.jsx(j,{value:60,children:"60"}),e.jsx(j,{value:65,children:"65"})]})]})]}),e.jsx($,{children:e.jsx(F,{onClick:s,children:l("close")})}),e.jsx(Fo,{open:o,onClose:g})]})});function On(t,n,r,i,s,l){if(t.parameter.tapFrequency==="none")return e.jsx("article",{children:"ー"});const o=s.reduce((h,m)=>h+m.count,0),a=s[0].name,d=t.parameter,u=Pe(d.event,d.customEventBonus)?.dish??1;return e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:[e.jsx(ve,{name:s[0].name}),P(o)]}),e.jsxs("div",{children:[e.jsx("span",{className:"box box3",children:xe(n.ingHelpCount)}),e.jsx(e.Fragment,{children:" × "}),s.length>1?"(":"",s.map((h,m)=>e.jsxs("span",{children:[m===0?"":" + ",e.jsx(Ce,{count:h.helpCount,name:a})]},m)),s.length>1?")":"",e.jsx(e.Fragment,{children:i>1?` / ${i}`:""})]}),e.jsxs("span",{style:{marginTop:"-0.5rem"},children:[e.jsx(ce,{sx:{color:"#ff944b"},className:"strength"}),Ge(s.reduce((h,m)=>h+m.strength,0),l)]}),e.jsxs("div",{style:{marginTop:"-0.5rem"},children:[e.jsx("span",{className:"box box1",children:P(o)}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:Ne[a]}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box5",children:xe(r)}),e.jsx(e.Fragment,{children:" × "}),e.jsxs("span",{children:[e.jsx(e.Fragment,{children:"(1+"}),e.jsxs("span",{className:"box box4",children:[d.fieldBonus,"%"]}),e.jsx(e.Fragment,{children:")"})]}),u!==1&&e.jsxs(e.Fragment,{children:[e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box6",children:u})]})]})]})}const Fo=c.memo(({open:t,onClose:n})=>{const{t:r}=T();return e.jsxs(V,{open:t,onClose:n,children:[e.jsxs(K,{children:[e.jsx(be,{sx:{marginBottom:"16px"},children:e.jsx(J,{i18nKey:"recipe bonus help",components:{raenonx:e.jsx("a",{href:r("recipe bonus list"),children:"raenonx"})}})}),e.jsx(be,{variant:"body2",children:r("recipe strength help")})]}),e.jsx($,{children:e.jsx(F,{onClick:n,children:r("close")})})]})}),Ao=c.memo(({open:t,dispatch:n,onClose:r,strength:i,result:s})=>{const{t:l}=T(),[o,a]=c.useState(!1),[d,u]=c.useState(i.pokemonIv),[h,m]=c.useState(1),g=c.useCallback((D,q)=>{a(!0);const O=new se(Ee.find(Q=>Q.type===D)?.name??"Bulbasaur");O.level=q,u(O),m(new Te(O,i.parameter).berryStrengthBonus)},[i.parameter]),x=c.useCallback(()=>{a(!1)},[]),y=c.useCallback((D,q)=>{if(q===null)return;const O=i.pokemonIv.clone();O.skillLevel=parseInt(D.target.value),n({type:"updateIv",payload:{iv:O}})},[n,i.pokemonIv]),p=i.parameter;if(p.period<=ae||p.tapFrequency==="none")return e.jsxs(V,{open:t,onClose:r,children:[e.jsx(K,{style:{fontSize:"0.95rem",whiteSpace:"pre-wrap"},children:l("strength skill info.not triggered")}),e.jsx($,{children:e.jsx(F,{onClick:r,children:l("close")})})]});const f=i.pokemonIv,k=f.pokemon.skill.replace(" (Random)",""),C=l(`strength skill info.${k}`),b=f.pokemon.skill,v=b==="Metronome"||b.startsWith("Skill Copy"),S=Re(f.pokemon.skill),A=Array.from({length:S},(D,q)=>e.jsx(L,{value:q+1,children:q+1},q+1)),z=i.getSkillLevel(),B=i.bonusEffects,[I,N]=Lo(i,z,l),[W,X]=Ro(i,z,l);let E=0;const R=Math.ceil(p.period/24);return b==="Berry Burst (Disguise)"&&(E=1-Math.pow(1-.18,s.skillCount/R)),e.jsxs(Fn,{open:t,onClose:r,children:[e.jsxs(de,{children:[e.jsxs("article",{children:[e.jsx(Ve,{mainSkill:b}),Ge(s.skillValue,l)]}),!v&&e.jsxs("footer",{children:[e.jsx("span",{className:"box box1",children:_(s.skillValuePerTrigger)}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:P(s.notFullHelpCount)}),e.jsx(e.Fragment,{children:" × "}),e.jsxs("span",{className:"box box3",children:[P(s.skillRatio*100),"%"]}),b==="Berry Burst (Disguise)"&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(e.Fragment,{children:" + "}),e.jsx("span",{className:"box box1",children:_(s.skillValuePerTrigger)}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box4",children:2*R}),e.jsx(e.Fragment,{children:" × "}),e.jsxs("span",{className:"box box5",children:[P(E*100),"%"]})]})]})]}),e.jsxs(K,{children:[e.jsxs("article",{children:[!v&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("span",{className:"box box1",children:_(s.skillValuePerTrigger)})}),e.jsx("span",{children:I}),N!==null&&e.jsx("footer",{children:N})]}),e.jsx("div",{children:e.jsx("span",{className:"box box2",children:P(s.notFullHelpCount)})}),e.jsx("span",{children:l("normal help count")}),e.jsx("div",{children:e.jsxs("span",{className:"box box3",children:[P(s.skillRatio*100),"%"]})}),e.jsx("span",{children:l("skill rate")}),b==="Berry Burst (Disguise)"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("span",{className:"box box4",children:2*R})}),e.jsx("span",{children:l("great success increasment")}),e.jsx("div",{children:e.jsxs("span",{className:"box box5",children:[P(E*100),"%"]})}),e.jsx("span",{children:l("great success rate")})]})]}),s.skillValue2!==0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"second-skill",style:{marginTop:"1.2rem"},children:[e.jsxs("article",{children:[b==="Ingredient Magnet S (Plus)"?e.jsx(ve,{name:f.pokemon.ing1.name}):e.jsx(Ve,{mainSkill:b,second:!0}),Ge(s.skillValue2,l)]}),e.jsxs("footer",{children:[e.jsx("span",{className:"box box4",children:_(s.skillValuePerTrigger2)}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:P(s.notFullHelpCount)}),e.jsx(e.Fragment,{children:" × "}),e.jsxs("span",{className:"box box3",children:[P(s.skillRatio*100),"%"]})]})]}),e.jsxs("article",{children:[e.jsx("div",{children:e.jsx("span",{className:"box box4",children:_(s.skillValuePerTrigger2)})}),e.jsx("span",{children:W}),X!==null&&e.jsx("footer",{children:X})]})]}),!v&&e.jsxs("section",{style:{marginTop:"1.8rem"},children:[e.jsxs("label",{children:[l("skill level"),":"]}),e.jsx(tt,{size:"small",children:e.jsx(G,{exclusive:!0,value:f.skillLevel,onChange:y,children:A})})]}),e.jsx(me,{in:!v&&(B.skillLevel>0||p.maxSkillLevel)&&z!==f.skillLevel,children:e.jsx("div",{className:"skillLevelNotice",children:e.jsx(J,{i18nKey:p.maxSkillLevel?"max skill level affected":"skill level bonus affected",components:{level:e.jsx("strong",{children:z}),bonus:e.jsx("strong",{children:B.skillLevelReason==="event+ex"?l("event bonus")+l("text separator")+l("expert mode"):B.skillLevelReason==="event"?l("event bonus"):l("expert mode")})}})})}),Ho(i,n,g,l),C!==""&&e.jsx("div",{className:"footnote",children:C})]}),e.jsx($,{children:e.jsx(F,{onClick:r,children:l("close")})}),e.jsx(dr,{open:o,onClose:x,iv:d,fieldBonus:p.fieldBonus,berryBonus:h})]})});function Lo(t,n,r){const i=t.pokemonIv.pokemon.skill;if(i.startsWith("Charge Energy"))return zo(t,n,r);if(i.startsWith("Charge Strength"))return Po(t,n,r);if(i.startsWith("Ingredient Magnet S")||i.startsWith("Ingredient Draw S"))return Do(t,n,r);if(i.startsWith("Dream Shard Magnet"))return Wo(t,n,r);if(i==="Energizing Cheer S"){const s=ke(i,n);return Kn(s,n,r,r("nature effect.Energy recovery"))}if(i.startsWith("Energy for Everyone S")){const s=ke(i,n);return Kn(s,n,r,r("e4e per pokemon"))}return i.startsWith("Cooking Power-Up S")?rn(r,r("pot size power up")):i==="Tasty Chance S"?rn(r,r("tasty chance increase")):i==="Extra Helpful S"?rn(r,r("help count")):i==="Helper Boost"?rn(r,r("help count per pokemon")):i.startsWith("Berry Burst")?ur(t,r,r("berry strength per berry burst")):[null,null]}function Ro(t,n,r){const i=t.pokemonIv.pokemon.skill;if(i==="Ingredient Magnet S (Plus)")return rn(r,r("additional ingredients"));if(i==="Cooking Power-Up S (Minus)"){const s=bn(i,n);return Kn(s,n,r,r("nature effect.Energy recovery"))}return i==="Energy for Everyone S (Lunar Blessing)"?ur(t,r,r("berry strength per berry burst")):[null,null]}function zo(t,n,r){const i=t.pokemonIv,s=t.pokemonIv.pokemon.skill,l=r("value per skill",{value:r("nature effect.Energy recovery")}),o=ke(s,n);return[e.jsxs(e.Fragment,{children:[l,e.jsx("br",{}),e.jsx("span",{className:"box box4",children:o}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box5",children:i.nature.energyRecoveryFactor}),e.jsxs("ul",{className:"detail",children:[e.jsxs("li",{children:[e.jsx("span",{className:"box box4",children:o}),e.jsxs(e.Fragment,{children:[": ",r("base value",{value:r("nature effect.Energy recovery")})]})]}),e.jsxs("li",{children:[e.jsx("span",{className:"box box5",children:i.nature.energyRecoveryFactor}),e.jsxs(e.Fragment,{children:[": ",r("nature factor")]}),i.nature.energyRecoveryFactor>1&&e.jsxs("small",{children:[" (",e.jsx(Xe,{children:r("nature effect.Energy recovery")}),")"]}),i.nature.energyRecoveryFactor<1&&e.jsxs("small",{children:[" (",e.jsx(pn,{children:r("nature effect.Energy recovery")}),")"]})]})]})]}),null]}function Po(t,n,r){const i=t.parameter,s=t.pokemonIv.pokemon.skill,l=r("value per skill",{value:r("strength2")});let o=null;if(s==="Charge Strength S (Random)"){const[d,u]=Un(s,n);o=e.jsxs("small",{children:[" (",r("range average",{min:_(d),max:_(u)}),")"]})}else if(s==="Charge Strength S (Stockpile)"){const[d,u]=Un(s,n);o=e.jsxs("small",{children:[" (",r("range expected",{min:_(d),max:_(u)}),")"]})}const a=ke(s,n);return[e.jsxs(e.Fragment,{children:[l,e.jsx("br",{}),e.jsx("span",{className:"box box4",children:a}),e.jsx(e.Fragment,{children:" × (1 + "}),e.jsxs("span",{className:"box box5",children:[i.fieldBonus,"%"]}),e.jsx(e.Fragment,{children:")"}),e.jsxs("ul",{className:"detail",children:[e.jsxs("li",{children:[e.jsx("span",{className:"box box4",children:a}),e.jsxs(e.Fragment,{children:[": ",r("base value",{value:r("strength2")})]}),o]}),e.jsxs("li",{children:[e.jsxs("span",{className:"box box5",children:[i.fieldBonus,"%"]}),e.jsxs(e.Fragment,{children:[": ",r("area bonus")]})]})]})]}),null]}function Do(t,n,r){const i=t.parameter,s=ke(t.pokemonIv.pokemon.skill,n),l=Pe(i.event,i.customEventBonus)?.ingredientMagnet??1,o=r("value per skill",{value:r("ing count")});return l===1?[o,null]:[o,e.jsxs(e.Fragment,{children:[s,e.jsxs("small",{children:[" (",r("base value",{value:r("ing count")}),")"]}),e.jsx(e.Fragment,{children:" × "}),l,e.jsxs("small",{children:[" (",r("event bonus"),")"]})]})]}function Wo(t,n,r){const i=t.parameter,s=t.pokemonIv.pokemon.skill,l=Pe(i.event,i.customEventBonus)?.dreamShard??1,o=r("value per skill",{value:r("dream shard")});if(s==="Dream Shard Magnet S"){if(l===1)return[o,null];{const a=ke(s,n);return[o,e.jsx(e.Fragment,{children:e.jsxs(e.Fragment,{children:[a,e.jsxs("small",{children:[" (",r("base value",{value:r("dream shard")}),")"]}),e.jsx(e.Fragment,{children:" × "}),l,e.jsxs("small",{children:[" (",r("event bonus"),")"]})]})})]}}else if(s==="Dream Shard Magnet S (Random)"){const[a,d]=Un(s,n);if(l===1)return[o,e.jsx(e.Fragment,{children:r("range average",{min:a,max:d})})];{const u=ke(s,n);return[o,e.jsxs(e.Fragment,{children:[u,e.jsxs("small",{children:[" (",r("range average",{min:a,max:d}),")"]}),e.jsx(e.Fragment,{children:" × "}),l,e.jsxs("small",{children:[" (",r("event bonus"),")"]})]})]}}return[null,null]}function Kn(t,n,r,i){const s=r("value per skill",{value:i});return[e.jsxs(e.Fragment,{children:[s,e.jsx("br",{}),e.jsxs("ul",{className:"detail",children:[e.jsxs("li",{children:[e.jsx(Xe,{children:r("nature effect.Energy recovery")}),e.jsx(e.Fragment,{children:": "}),Math.floor(t*new H("Bold").energyRecoveryFactor)]}),e.jsxs("li",{children:[r("nature effect.Energy recovery"),e.jsx(e.Fragment,{children:" ーー: "}),t]}),e.jsxs("li",{children:[e.jsx(pn,{children:r("nature effect.Energy recovery")}),e.jsx(e.Fragment,{children:": "}),Math.floor(t*new H("Hasty").energyRecoveryFactor)]})]})]}),null]}function ur(t,n,r){const i=n("value per skill",{value:r}),s=t.parameter,l=Pe(s.event,s.customEventBonus)?.berryBurst??1,o=fn(t.pokemonIv,t.parameter,l,t.getSkillLevel());return[e.jsxs(e.Fragment,{children:[i,e.jsx("br",{}),e.jsxs("div",{className:"bbgrid",children:[e.jsxs("label",{children:[n(`pokemons.${t.pokemonIv.pokemon.name}`),":"]}),e.jsx("span",{children:_(o.members[0].total)}),e.jsxs("small",{children:["(",o.members[0].perBerry," × ",o.members[0].count,")"]}),e.jsxs("label",{children:[n("other team member")," 1:"]}),e.jsx("span",{children:_(o.members[1].total)}),e.jsxs("small",{children:["(",o.members[1].perBerry," × ",o.members[1].count,")"]}),e.jsxs("label",{children:[n("other team member")," 2:"]}),e.jsx("span",{children:_(o.members[2].total)}),e.jsxs("small",{children:["(",o.members[2].perBerry," × ",o.members[2].count,")"]}),e.jsxs("label",{children:[n("other team member")," 3:"]}),e.jsx("span",{children:_(o.members[3].total)}),e.jsxs("small",{children:["(",o.members[3].perBerry," × ",o.members[3].count,")"]}),e.jsxs("label",{children:[n("other team member")," 4:"]}),e.jsx("span",{children:_(o.members[4].total)}),e.jsxs("small",{children:["(",o.members[4].perBerry," × ",o.members[4].count,")"]})]})]}),null]}function rn(t,n){return[t("value per skill",{value:n}),null]}function Ho(t,n,r,i){const s=t.parameter;if(!(t.pokemonIv.pokemon.skill.startsWith("Berry Burst")||t.pokemonIv.pokemon.skill==="Energy for Everyone S (Lunar Blessing)"))return e.jsx(e.Fragment,{});const o=t.pokemonIv,a=s.berryBurstTeam.auto,d=Wt(o,s),u=d.filter(p=>p.type===o.pokemon.type).length+1,h=a?u:s.berryBurstTeam.species,m=p=>{n({type:"changeParameter",payload:{parameter:{...s,berryBurstTeam:{...s.berryBurstTeam,auto:!p.target.checked}}}})},g=(p,f)=>{const k=[...s.berryBurstTeam.members];k[p].type=f,n({type:"changeParameter",payload:{parameter:{...s,berryBurstTeam:{...s.berryBurstTeam,members:k}}}})},x=(p,f)=>{const k=[...s.berryBurstTeam.members];k[p].level=f,n({type:"changeParameter",payload:{parameter:{...s,berryBurstTeam:{...s.berryBurstTeam,members:k}}}})},y=p=>{n({type:"changeParameter",payload:{parameter:{...s,berryBurstTeam:{...s.berryBurstTeam,species:parseInt(p,10)}}}})};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{style:{marginTop:"0.5rem"},children:[e.jsxs("label",{children:[i("events.advanced"),":"]}),e.jsx(le,{checked:!a,size:"small",onChange:m})]}),e.jsxs("section",{style:{paddingLeft:"1rem"},children:[e.jsxs("label",{children:[i(`pokemons.${t.pokemonIv.pokemon.name}`),":"]}),e.jsxs("span",{style:{color:"#999"},children:[e.jsx(qe,{size:"small",disabled:!0,type:t.pokemonIv.pokemon.type,onChange:()=>{}}),e.jsx("span",{style:{padding:"0 0.2rem 0 0.6rem"},children:"Lv."}),t.pokemonIv.level,e.jsx(Y,{onClick:()=>r(o.pokemon.type,o.level)})]})]}),[0,1,2,3].map(p=>e.jsxs("section",{style:{paddingLeft:"1rem"},children:[e.jsxs("label",{children:[i("other team member")," ",p+1,":"]}),e.jsxs("span",{style:{color:a?"#999":"inherit"},children:[e.jsx(qe,{size:"small",disabled:a,type:d[p].type,onChange:f=>g(p,f)}),e.jsx("span",{style:{padding:"0 0.2rem 0 0.6rem"},children:"Lv."}),a?d[p].level:e.jsx(Gn,{value:d[p].level,onChange:f=>x(p,f)}),e.jsx(Y,{onClick:()=>r(d[p].type,d[p].level)})]})]},p)),o.pokemon.name==="Cresselia"&&e.jsxs("section",{style:{paddingLeft:"1rem"},children:[e.jsxs("label",{children:[i("different species"),":"]}),e.jsx("span",{style:{color:"#999"},children:a?h:e.jsxs(he,{value:h.toString(),sx:{padding:"0 0.5rem"},onChange:y,children:[e.jsx(j,{dense:!0,value:"1",children:"1"}),u>1&&e.jsx(j,{dense:!0,value:"2",children:"2"}),u>2&&e.jsx(j,{dense:!0,value:"3",children:"3"}),u>3&&e.jsx(j,{dense:!0,value:"4",children:"4"}),u>4&&e.jsx(j,{dense:!0,value:"5",children:"5"})]})})]})]})}const Oo=c.memo(({open:t,onClose:n,parameter:r,strength:i,result:s,dispatch:l})=>{const{t:o}=T(),a=c.useCallback(u=>{l({type:"changeParameter",payload:{parameter:{...r,helperBoostLevel:parseInt(u,10)}}})},[l,r]),d=c.useCallback(u=>{l({type:"changeParameter",payload:{parameter:{...r,helperBoostSpecies:parseInt(u,10)}}})},[l,r]);return t?e.jsxs($o,{open:t,onClose:n,children:[e.jsxs("article",{children:[e.jsxs("section",{className:"first",children:[e.jsxs("h2",{children:[o("help yield"),":"]}),e.jsxs("span",{children:[P(hr(r,i,s)),o("berry unit"),"/",Math.abs(r.period),o("help unit")]})]}),e.jsx("footer",{children:o("help yield description",{n:Math.abs(r.period)})}),e.jsxs("section",{children:[e.jsxs("h2",{children:[o("helps for cap"),":"]}),e.jsxs("span",{children:[P(mr(i,s)),o("help unit")]})]}),e.jsx("footer",{children:o("helps for cap description")}),e.jsxs("section",{children:[e.jsxs("h2",{children:[o("required helper boost"),":"]}),e.jsxs("span",{children:[P(gr(r,i,s)),o("times unit")]})]}),e.jsx("footer",{children:o("required helper boost description")})]}),e.jsxs("footer",{children:[e.jsxs("h3",{children:[e.jsx(Ve,{mainSkill:"Helper Boost"}),o("skills.Helper Boost")]}),e.jsxs("section",{className:"first",children:[e.jsxs("label",{children:[o("skill level"),":"]}),e.jsxs(he,{value:r.helperBoostLevel,onChange:a,children:[e.jsx(j,{dense:!0,value:1,children:"1"}),e.jsx(j,{dense:!0,value:2,children:"2"}),e.jsx(j,{dense:!0,value:3,children:"3"}),e.jsx(j,{dense:!0,value:4,children:"4"}),e.jsx(j,{dense:!0,value:5,children:"5"}),e.jsx(j,{dense:!0,value:6,children:"6"})]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[o("different species"),":"]}),e.jsxs(he,{value:r.helperBoostSpecies,onChange:d,children:[e.jsx(j,{dense:!0,value:1,children:"1"}),e.jsx(j,{dense:!0,value:2,children:"2"}),e.jsx(j,{dense:!0,value:3,children:"3"}),e.jsx(j,{dense:!0,value:4,children:"4"}),e.jsx(j,{dense:!0,value:5,children:"5"})]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[o("helps per skill"),":"]}),e.jsxs("span",{children:[ke("Helper Boost",r.helperBoostLevel,r.helperBoostSpecies),o("times unit")]})]})]}),e.jsx($,{disableSpacing:!0,children:e.jsx(F,{onClick:n,children:o("close")})})]}):e.jsx(e.Fragment,{})}),$o=M(V)({"& .MuiPaper-root":{"& > article":{padding:"0.8rem",maxWidth:"18rem","& > section":{display:"flex",flex:"0 auto",marginTop:"0.8rem","&.first":{marginTop:"0.2rem"},"& > h2":{padding:"0 0 .2rem 0",margin:0,fontSize:"0.9rem",marginRight:"auto"},"& > span":{fontSize:"0.8rem"}},"& > footer":{fontSize:"0.7rem",color:"#666",padding:"0.1rem 0 0 0.7rem"}},"& > footer":{margin:"0.2rem 0.7rem 0 0.7rem",fontSize:"0.8rem",background:"#eee",borderRadius:"0.9rem",padding:"0.5rem 0.7rem","& > h3":{display:"flex",alignItems:"center",fontSize:"0.9rem",fontWeight:"bold",color:"#66cc66",margin:0},"& > section":{display:"flex",flex:"0 auto",marginTop:"0.4rem","& > label":{padding:"0 0 .2rem 0",margin:0,marginRight:"auto"},"& > .MuiButtonBase-root":{fontSize:"0.8rem",textAlign:"center",padding:"0 0.5rem"}}}}});function hr(t,n,r){return new re(n.pokemonIv).getBagUsagePerHelp(r.bonus.berry,r.bonus.ingredient)*Math.abs(t.period)}function mr(t,n){const r=new re(t.pokemonIv).getBagUsagePerHelp(n.bonus.berry,n.bonus.ingredient);return(999-n.energy.carryLimit)/r}function gr(t,n,r){const i=mr(n,r),s=ke("Helper Boost",t.helperBoostLevel,t.helperBoostSpecies);return i/s}const _o=M("div")({display:"grid",gridTemplateColumns:"1fr 1fr 1fr",margin:"0 -0.5rem","& > h2":{gridColumn:"1 / -1",display:"flex",alignItems:"center",margin:"0 0.2rem",fontSize:"1.5rem","& > span.strength":{transform:"scale(1, 0.9)"},"& > span.evolved":{paddingLeft:"0.8rem",fontSize:"0.8rem"}},"& > section":{borderLeft:"2px dotted #ccc",position:"relative",padding:"0 0 2rem","&:first-of-type":{borderLeft:0},"& > h3":{width:"calc(100% - 1rem)",fontSize:".8rem",fontWeight:400,textAlign:"center",color:"white",borderRadius:".8rem",verticalAlign:"20%",margin:".3rem 0 .1rem 0.5rem","& > button":{position:"absolute",top:"0.45rem",right:"0.7rem","& > svg":{color:"#f0f0f0",width:"16px",height:"16px"}}},"& > article":{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",fontWeight:600,textAlign:"center",verticalAlign:"middle",fontSize:"1.1rem",margin:"auto 0",height:"3rem","& span":{verticalAlign:"middle"},"& svg":{verticalAlign:"middle"},"& span.unit":{display:"inline-block",paddingLeft:".1rem",fontSize:"0.6rem",verticalAlign:"bottom"},"&.ingc":{display:"grid",gridTemplateColumns:"auto auto","& > span.ing":{textAlign:"right","& > svg":{width:"0.6em",height:"0.6em",paddingRight:"0.1rem"},"& > span":{fontSize:"0.8em"}},"& > span.strength":{paddingLeft:"0.3rem",textAlign:"right","& > svg":{width:"0.6em",height:"0.6em"},"& > span":{fontSize:"0.6em"}}},"&.ing2":{lineHeight:"50%"},"&.ing3":{"& > span.ing > svg":{width:"0.4em",height:"0.4em"},fontSize:"0.8em",lineHeight:"50%"},"&.skill2":{lineHeight:"1.6",fontSize:"0.8rem","& > div > svg":{width:"16px",height:"16px"}}},"& > footer":{fontSize:"0.7rem",bottom:0,color:"#666",position:"absolute",right:"1rem","& > div":{textAlign:"right"}}},"& > footer":{gridColumn:"1 / -1",fontSize:"0.7rem",color:"#666",padding:".6rem .8rem 0","& > span":{paddingRight:"0.8rem","& > small":{fontSize:"0.6rem",padding:"0 0.1rem"}},"& > span:last-of-type":{paddingRight:0}}}),Vo=c.memo(({pokemonIv:t,settings:n,energyDialogOpen:r,dispatch:i})=>{const{t:s}=T(),[l,o]=c.useState(!1),[a,d]=c.useState(0),[u,h]=c.useState(!1),[m,g]=c.useState(!1),[x,y]=c.useState(!1),[p,f]=c.useState(!1),k=new Te(t,n,a),C=k.calculate();let b=[];t.pokemon.name!==k.pokemonIv.pokemon.name&&(b=t.decendants),t=k.pokemonIv;const v=c.useCallback(()=>{h(!0)},[]),S=c.useCallback(()=>{h(!1)},[]),A=c.useCallback(()=>{g(!0)},[]),z=c.useCallback(()=>{g(!1)},[]),B=c.useCallback(()=>{y(!0)},[]),I=c.useCallback(()=>{y(!1)},[]),N=c.useCallback(()=>{i({type:"openEnergyDialog"})},[i]),W=c.useCallback(()=>{f(!0)},[]),X=c.useCallback(()=>{f(!1)},[]),E=c.useCallback(()=>{i({type:"closeEnergyDialog"})},[i]),R=_(Math.round(C.berryTotalStrength)),D=Uo(C,n,s),q=qo(t,C,n,s),O=c.useCallback(()=>{o(!0)},[o]),Q=c.useCallback(()=>{o(!1)},[o]),ge=c.useCallback(De=>{d(parseInt(De.target.value,10))},[]);return e.jsxs(_o,{children:[e.jsxs("h2",{children:[e.jsx(ce,{sx:{color:"#ff944b"}}),e.jsx("span",{className:"strength",children:_(Math.round(C.totalStrength))}),e.jsx(Y,{onClick:O}),e.jsx(Zo,{result:C,open:l,onClose:Q}),b.length===1&&e.jsx("span",{className:"evolved",children:s("strength of x",{x:s(`pokemons.${t.pokemon.name}`)})}),b.length>1&&e.jsx("span",{className:"evolved",children:e.jsx(te,{variant:"standard",value:t.pokemon.id.toString(),onChange:ge,children:b.map(De=>e.jsx(j,{value:De.id,children:s("strength of x",{x:s(`pokemons.${De.name}`)})},De.id))})})]}),e.jsxs("section",{children:[e.jsxs("h3",{style:{background:"#24d76a"},children:[s("berry"),e.jsx(Y,{onClick:v})]}),e.jsx("article",{children:e.jsxs("div",{children:[e.jsx(ce,{sx:{color:"#ff944b"}}),e.jsx("span",{children:R})]})}),e.jsxs("footer",{children:[e.jsxs("div",{children:[P(C.berryRatio*100),"%"]}),e.jsxs("div",{children:[P(C.berryHelpCount),s("times unit")]})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{style:{background:"#fab855"},children:[s("ingredient"),e.jsx(Y,{onClick:A})]}),D,e.jsxs("footer",{children:[e.jsxs("div",{children:[P(C.ingRatio*100),"%"]}),e.jsxs("div",{children:[P(C.ingHelpCount),s("times unit")]})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{style:{background:"#44a2fd"},children:[s("skill"),e.jsx(Y,{onClick:B})]}),q,e.jsxs("footer",{children:[e.jsxs("div",{children:[P(C.skillRatio*100),"%"]}),e.jsxs("div",{children:[xe(C.skillCount),s("times unit")]})]})]}),n.period>ae&&e.jsxs("footer",{children:[C.energy.canBeFullInventory&&n.period>=24?e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:[s("full inventory while sleeping (short)"),": ",C.energy.timeToFullInventory<0?s("none"):new hn(C.energy.timeToFullInventory).toString(s)]}),e.jsxs("span",{children:[s("skill trigger after wake up (short)"),e.jsx(e.Fragment,{children:": "}),t.pokemon.specialty!=="Skills"&&t.pokemon.specialty!=="All"?P(C.energy.skillProbabilityAfterWakeup.once*100)+"%":e.jsxs(e.Fragment,{children:["❶",P(C.energy.skillProbabilityAfterWakeup.once*100),"%",e.jsx(e.Fragment,{children:" "}),"❷",P(C.energy.skillProbabilityAfterWakeup.twice*100),"%"]})]})]}):e.jsx(e.Fragment,{children:e.jsxs("span",{children:[s("help efficiency"),": ",C.energy.averageEfficiency.total,n.period>=24&&e.jsxs(e.Fragment,{children:[" (",s("awake"),": ",C.energy.averageEfficiency.awake,", ",s("asleep"),": ",C.energy.averageEfficiency.asleep,")"]})]})}),e.jsx(Y,{onClick:N})]}),n.period<0&&e.jsxs("footer",{children:[e.jsxs("span",{children:[s("help yield"),": ",P(hr(n,k,C)),s("berry unit"),"/",Math.abs(n.period),s("help unit")]}),e.jsxs("span",{children:[s("required helper boost"),": ",P(gr(n,k,C))]}),e.jsx(Y,{onClick:W})]}),e.jsx(vo,{open:u,onClose:S,strength:k,result:C}),e.jsx(No,{open:m,onClose:z,dispatch:i,strength:k,result:C}),e.jsx(Ao,{open:x,onClose:I,dispatch:i,strength:k,result:C}),e.jsx(So,{open:r,onClose:E,iv:t,energy:C.energy,parameter:n,dispatch:i}),e.jsx(Oo,{open:p,onClose:X,parameter:n,strength:k,result:C,dispatch:i})]})});function Uo(t,n,r){if(n.period!==ae&&n.tapFrequency==="none")return e.jsx("article",{children:"ー"});const i=e.jsx(e.Fragment,{children:t.ingredients.map(s=>e.jsxs(c.Fragment,{children:[e.jsxs("span",{className:"ing",children:[e.jsx(ve,{name:s.name}),e.jsx("span",{children:P(s.count)})]}),e.jsxs("span",{className:"strength",children:[e.jsx(ce,{sx:{color:"#ff944b"}}),e.jsx("span",{children:Ge(Math.floor(s.strength),r)})]})]},s.name))});return e.jsx("article",{className:`ingc ing${t.ingredients.length}`,children:i})}function qo(t,n,r,i,s){if(r.period<=ae||r.tapFrequency==="none")return e.jsx("article",{children:"ー"});const l=t.pokemon.skill,o=Ge(n.skillValue,i),a=n.skillValue2===0?"":Ge(n.skillValue2,i),d=e.jsxs(e.Fragment,{children:[e.jsx(Ve,{mainSkill:l}),e.jsx("span",{style:{paddingLeft:"0.2rem"},children:o})]});let u=e.jsx(e.Fragment,{});return a!==""&&(u=e.jsxs(e.Fragment,{children:[e.jsx("br",{}),l==="Ingredient Magnet S (Plus)"?e.jsx(ve,{name:t.pokemon.ing1.name}):e.jsx(Ve,{mainSkill:l,second:!0}),e.jsx("span",{style:{paddingLeft:"0.2rem"},children:a})]})),e.jsx("article",{className:a!==""?"skill2":"",children:e.jsxs("div",{children:[d,u]})})}const Zo=c.memo(({result:t,open:n,onClose:r})=>{const{t:i}=T();return e.jsxs(Go,{open:n,onClose:r,children:[e.jsxs("article",{children:[e.jsxs("h1",{children:[e.jsx(ce,{sx:{color:"#ff944b"}}),e.jsx("span",{style:{transform:"scale(1, 0.9)"},children:_(Math.round(t.totalStrength))})]}),e.jsxs("div",{className:"grid",children:[e.jsx(Ae,{disabled:!0,specialty:"Berries"}),e.jsx("div",{children:_(Math.round(t.berryTotalStrength))}),e.jsx(Ae,{disabled:!0,specialty:"Ingredients"}),e.jsx("div",{children:_(Math.round(t.ingStrength))}),e.jsx(Ae,{disabled:!0,specialty:"Skills"}),e.jsx("div",{children:_(Math.round(t.skillStrength+t.skillStrength2))})]}),e.jsx("p",{style:{marginTop:0},children:i("strength detail1")}),e.jsx("p",{children:i("strength detail2")}),e.jsx("ul",{style:{paddingLeft:"1rem"},children:e.jsx("li",{children:i("strength restriction2")})})]}),e.jsx($,{children:e.jsx(F,{onClick:r,children:i("close")})})]})}),Go=M(V)({"& article":{margin:"0.8rem 0.8rem 0 0.8rem","& > h1":{fontSize:"1.4rem",margin:0,display:"flex",alignItems:"center"},"& > div.grid":{margin:"0.2rem 0 1.5rem 1rem",display:"grid",gridTemplateColumns:"min-content min-content",gridGap:"0.2rem 0.5rem",alignItems:"center","& > div":{textAlign:"right",fontWeight:"bold"}},"& > p":{margin:"0.5rem 0",fontSize:"0.9rem"},"& > ul":{margin:0,fontSize:"0.9rem"}}}),Fn=M(V)({"& > div.MuiDialog-container > div.MuiPaper-root":{width:"100%",margin:"20px",maxHeight:"calc(100% - 90px)"},"& .MuiPaper-root":{"& > h2.MuiDialogTitle-root, & > div.MuiDialogContent-root > header.second-skill":{margin:"0.5rem 0.5rem 0 0.5rem",padding:0,display:"grid",gridTemplateColumns:"auto 1fr",gridGap:".4rem",alignItems:"start","& > article":{fontSize:"1.4rem",margin:0,display:"flex",alignItems:"center"},"& > footer":{display:"inline-block",fontWeight:"normal",fontSize:"0.9rem",margin:"0.3rem 0 0 0.5rem",lineHeight:"1.8"}},"& > ul":{margin:0,marginTop:"-0.2rem",paddingLeft:"1.5rem",gridColumn:"span 2","& > li > footer":{fontSize:"0.8rem"}},"& > .MuiDialogContent-root":{padding:0,"& > div.inggrid":{margin:"0 0 1rem 1.5rem",display:"grid",gridTemplateColumns:"auto 1fr",gridGap:"0.7rem 0.5rem",alignItems:"start","& > span":{display:"flex",alignItems:"center",fontWeight:"bold","& > svg":{width:"15px",height:"15px",paddingRight:"4px"},"& > svg.strength":{width:"18px",height:"18px",paddingRight:0}},"& > div":{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"0.1rem","& > span.box":{padding:"0.1rem 0.2rem"},"& > span > span.MuiBadge-root":{marginRight:0,"& > svg":{paddingTop:"3px",width:"15px",height:"15px"},"& > .MuiBadge-badge":{top:"18px",right:"10px"}}},"&.ings1, &.ings2":{fontSize:"0.9rem","& > div":{fontSize:"0.8rem"}},"&.ings3":{fontSize:"0.8rem","& > div":{fontSize:"0.7rem"}}},"& > article":{margin:"0.5rem .5rem 0 .5rem",display:"grid",gridGap:".5rem",rowGap:".8rem",gridTemplateColumns:"max-content 1fr",fontSize:"0.9rem","& > div":{textAlign:"right"},"& > span > ul.detail":{margin:"0.2rem 0 0 1rem",padding:0,fontSize:"0.8rem","& span.box":{padding:"0 0.3rem"}},"& > span > div.bbgrid":{display:"grid",fontSize:"0.8rem",gridTemplateColumns:"auto auto 1fr",alignItems:"center",gap:"0 0.1rem",background:"#f0f0f0",borderRadius:"0.3rem",padding:"0.1rem 0.5rem","& > label":{fontWeight:"bold",color:"#666"},"& > span":{paddingLeft:"0.8rem",textAlign:"right"},"& > small":{paddingLeft:"0.4rem"}},"& > ul":{margin:0,marginTop:"-0.2rem",paddingLeft:"1.5rem",gridColumn:"span 2","& > li > footer":{fontSize:"0.8rem"}},"& > footer":{margin:"-0.3rem 0 0 1.5rem",fontSize:"0.8rem",gridColumn:"span 2"},"& > span > footer":{margin:"0.2rem 0 0 -1.5rem",fontSize:"0.8rem"}},"& > div.footnote":{margin:"1rem 1rem 0 1rem",fontSize:"0.7rem",whiteSpace:"pre-wrap",color:"#999"},"& > section":{margin:"0.2rem 0.5rem",fontSize:".9rem",display:"flex",flex:"0 auto","&.mt":{marginTop:"1rem"},"& > label":{marginRight:"auto",marginTop:0,textWrap:"nowrap"},"& > span":{display:"flex",alignItems:"center"},"& > div > div > button.MuiToggleButton-root":{margin:0,padding:"0 0.5rem"}},"& div.skillLevelNotice":{fontSize:"0.7rem",color:"#999",margin:"0.2rem 0.5rem 0 2rem"}}},"& span.box":{borderRadius:".3rem",padding:".1rem .4rem",margin:"0",color:"white",textAlign:"center"},"& span.box1":{background:"#1ebee1"},"& span.box2":{background:"#27c18e"},"& span.box3":{background:"#e7c300"},"& span.box4":{background:"#ce5052"},"& span.box5":{background:"#ce3fa3"},"& span.box6":{background:"#ff8822"}}),Ko=c.memo(({state:t,dispatch:n})=>{const{t:r}=T(),[i,s]=c.useState(!1),[l,o]=c.useState(!1),a=t.parameter,d=c.useCallback(()=>{n({type:"changeLowerTab",payload:{index:2}})},[n]),u=c.useCallback(()=>{s(!0)},[]),h=c.useCallback(()=>{s(!1)},[]),m=c.useCallback(A=>{n({type:"changeParameter",payload:{parameter:A}})},[n]),g=c.useCallback(()=>{n({type:"changeParameter",payload:{parameter:{...a,maxSkillLevel:!1}}})},[n,a]),x=c.useCallback(()=>{n({type:"changeParameter",payload:{parameter:{...a,isGoodCampTicketSet:!a.isGoodCampTicketSet}}})},[n,a]),y=c.useCallback(A=>{A==="advanced"&&(A="custom"),n({type:"changeParameter",payload:{parameter:{...a,event:A}}})},[n,a]),p=c.useCallback(()=>{o(!0)},[]),f=c.useCallback(()=>{o(!1)},[]);let k,C;a.fieldIndex===an?k=r("favorite berry")+": "+r("all"):a.fieldIndex===cn?k=r("favorite berry")+": "+r("none"):a.fieldIndex===0?k=a.favoriteType.map(A=>r(`types.${A}`)).join(r("text separator")):Ze(a.fieldIndex)?k=e.jsxs(e.Fragment,{children:[r(`types.${a.favoriteType[0]}`),e.jsxs("small",{children:[" (",r("main"),")"]}),r("text separator"),r(`types.${a.favoriteType[1]}`),r("text separator"),r(`types.${a.favoriteType[2]}`)]}):k=r(`area.${a.fieldIndex}`),C=e.jsxs("small",{children:[" (",a.fieldBonus,"%)"]});const b=At(new Date).map(A=>A.name).reverse(),v=b.length>0||a.event!=="none",S=["none",...b,"custom"].map(A=>{let z=A==="none"?r("no event"):A==="custom"?r("event")+": "+r("events.advanced"):r(`events.${A}`);return e.jsx(j,{value:A,dense:!0,style:{textTransform:"none"},children:z},A)});return e.jsxs(Xo,{children:[e.jsx("span",{className:"edit",children:e.jsx(F,{onClick:d,size:"small",children:r("details")})}),e.jsx("span",{children:e.jsxs(Oe,{onClick:u,children:[k,C]})}),e.jsx("span",{children:e.jsx(ir,{dispatch:n,value:a})}),a.level!==0&&e.jsx("span",{className:"level",children:e.jsx(dt,{value:a,dispatch:n})}),a.maxSkillLevel&&e.jsx("span",{children:e.jsx(Oe,{onClick:g,children:e.jsx("strong",{children:r("calc with max skill level (short)")})})}),a.period!==ae&&e.jsxs("span",{children:[e.jsxs(e.Fragment,{children:[r("good camp ticket (short)"),": "]}),e.jsx(Oe,{onClick:x,style:{width:"2rem"},children:r(a.isGoodCampTicketSet?"on":"off")})]}),v&&e.jsxs("span",{children:[e.jsx(he,{value:a.event,onChange:y,children:S}),a.event==="custom"&&e.jsx(oe,{size:"small",style:{padding:"2px"},onClick:p,children:e.jsx(Pt,{})})]}),e.jsx(Qt,{open:i,onClose:h,value:t.parameter,onChange:m}),e.jsx(lr,{open:l,onClose:f,value:t.parameter,onChange:m})]})}),Xo=M("div")({marginTop:"0.2rem",padding:".4rem .6rem",border:"1px solid #ccc",borderRadius:"1rem",background:"#f3f5f0",fontSize:"0.8rem",lineHeight:1.8,"& > span":{float:"left",textWrap:"none",paddingRight:"1rem","&:last-child":{paddingRight:0},"& > button.MuiButtonBase-root":{"&::before":{borderBottomColor:"rgba(0, 0, 0, 0.25)"},marginTop:"-2px",fontSize:"0.8rem",lineHeight:1.5,"& > svg":{fontSize:"1rem"}},"&.level > button":{fontWeight:"bold"},"&.edit":{float:"right",padding:0,"& > button":{textTransform:"none",minWidth:0,textWrap:"nowrap"}}},"&::after":{content:"''",display:"table",clear:"both"}}),Jo=c.memo(({state:t,dispatch:n})=>{const r=t.pokemonIv,i=t.parameter,s=t.lowerTabIndex;return e.jsxs("div",{children:[e.jsx(Vo,{pokemonIv:r,settings:i,energyDialogOpen:t.energyDialogOpen,dispatch:n}),e.jsx(me,{in:s!==2,children:e.jsx(Ko,{state:t,dispatch:n})})]})});class Qo{pokemonName;pokemon;iv;rp;constructor(n){this.pokemonName=n.pokemonName,this.pokemon=n.pokemon,this.iv=n,this.rp=new re(n)}calculate(){if(this.pokemon.frequency===0)return{berryScore:0,berryMax:0,berryCur:0,berryRatio:0,ingScore:0,ingMax:0,ingCur:0,ingRatio:0,skillScore:0,skillMax:0,skillCur:0,skillRatio:0};const n=new re(this.iv);n.subSkills=new Fe([new U("Berry Finding S"),new U("Helping Bonus"),new U("Helping Speed M"),new U("Helping Speed S"),null]),n.nature=new H("Adamant");const r=new re(this.iv);r.subSkills=new Fe([new U("Ingredient Finder M"),new U("Ingredient Finder S"),new U("Helping Speed M"),new U("Helping Speed S"),new U("Helping Bonus")]),r.nature=new H("Quiet");const i=new re(this.iv);i.subSkills=new Fe([new U("Skill Trigger M"),new U("Skill Trigger S"),new U("Helping Speed M"),new U("Helping Speed S"),new U("Helping Bonus")]),i.nature=new H("Sassy");const s=b=>{let v=3600/b.frequencyWithHelpingBonus(0)*b.berryRatio*b.berryCount;return b.hasHelpingBonusInActiveSubSkills&&(v+=v/b.berryCount*6*.0526),v},l=s(n),o=s(this.rp),a=o/l*100,d=this.rp.berryRatio,u=b=>3600/b.frequencyWithHelpingBonus(0)*b.ingredientRatio,h=u(r),m=u(this.rp),g=m/h*100,x=this.rp.ingredientRatio,y=b=>3600/b.frequencyWithHelpingBonus(0)*b.skillRatio,p=y(i),f=y(this.rp),k=f/p*100,C=this.rp.skillRatio;return{berryScore:a,berryMax:l,berryCur:o,berryRatio:d,ingScore:g,ingMax:h,ingCur:m,ingRatio:x,skillScore:k,skillMax:p,skillCur:f,skillRatio:C}}}const Yo=c.memo(({pokemonIv:t,width:n})=>{const{t:r}=T(),[i,s]=c.useState(!1),l=c.useCallback(()=>{s(!0)},[s]),o=c.useCallback(()=>{s(!1)},[s]),d=new Qo(t).calculate(),u=400,h=m=>(m=Math.round(m*10)/10,r("num",{n:Math.floor(m)})+"."+m*10%10);return e.jsxs("div",{children:[e.jsxs("p",{style:{margin:"0"},children:[r("rate subskill and nature"),e.jsx(Y,{onClick:l})]}),e.jsx(or,{berryValue:e.jsxs(e.Fragment,{children:[h(d.berryScore),e.jsx("span",{children:"pt"})]}),berryProb:h(d.berryRatio*100),berrySubValue:"",ingredientValue:e.jsxs(e.Fragment,{children:[h(d.ingScore),e.jsx("span",{children:"pt"})]}),ingredientProb:h(d.ingRatio*100),ingredientSubValue:"",skillValue:e.jsxs(e.Fragment,{children:[h(d.skillScore),e.jsx("span",{children:"pt"})]}),skillProb:h(d.skillRatio*100),skillSubValue:""}),e.jsx(ar,{width:n,height:u,specialty:t.pokemon.specialty,berry:d.berryScore/100,ingredient:d.ingScore/100,skill:d.skillScore/100}),e.jsx(ea,{open:i,onClose:o})]})}),ea=c.memo(({open:t,onClose:n})=>{const{t:r}=T();return e.jsxs(V,{open:t,onClose:n,children:[e.jsx(de,{children:r("rating")}),e.jsxs(K,{dividers:!0,style:{fontSize:"0.95rem"},children:[e.jsx("p",{style:{marginTop:0},children:r("rating detail1")}),e.jsx("p",{children:r("rating detail2")})]}),e.jsx($,{children:e.jsx(F,{onClick:n,children:r("close")})})]})}),na=c.forwardRef(function(n,r){return e.jsx(ls,{direction:"up",ref:r,...n})}),ta=c.memo(({open:t,boxItem:n,isEdit:r,onClose:i,onChange:s})=>(r||(n=new we(new se("Venusaur"),void 0,-1)),n===null?e.jsx(e.Fragment,{}):e.jsx(sa,{open:t,onClose:i,fullScreen:!0,slots:{transition:na},children:e.jsx(ra,{originalBoxItem:n,isEdit:r,onClose:i,onChange:s})}))),ra=c.memo(({originalBoxItem:t,isEdit:n,onChange:r,onClose:i})=>{const{t:s}=T(),[l,o]=c.useState(t),[a,d]=c.useState(t.nickname),[u,h]=c.useState(new re(l.iv).calculate().rp),[m,g]=c.useState(!1),x=s(`pokemons.${l.iv.pokemonName}`),y=c.useCallback(S=>{o(new we(S,l.nickname,l.id)),h(new re(S).calculate().rp),a===x&&d("")},[o,l,h,x,a]),p=c.useCallback(S=>{d(S.target.value)},[d]),f=c.useCallback(S=>{g(!0),a===""&&d(x)},[g,d,a,x]),k=c.useCallback(S=>{g(!1),a===x&&d("")},[d,g,a,x]),C=c.useCallback(()=>{n&&r(new we(l.iv,a,l.id)),i()},[n,r,i,l,a]),b=c.useCallback(()=>{n||r(new we(l.iv,a,l.id)),i()},[n,r,i,l,a]);let v=a;return!m&&a===""&&(v=s(`pokemons.${l.iv.pokemonName}`)),e.jsxs(e.Fragment,{children:[e.jsxs("article",{children:[e.jsx(cr,{rp:u,iv:l.iv}),e.jsx("div",{className:"icon",children:e.jsx(Nn,{idForm:l.iv.idForm,size:80})}),e.jsx("div",{className:"nickname",children:e.jsx(ne,{variant:"standard",size:"small",value:v,onChange:p,onFocus:f,onBlur:k})}),e.jsx(rr,{pokemonIv:l.iv,fixMode:n,onChange:y})]}),e.jsxs($,{children:[e.jsx(F,{onClick:C,children:s("close")}),!n&&e.jsx(F,{onClick:b,children:s("add")})]})]})}),sa=M(V)({"& div.MuiDialog-paper":{"& > article":{padding:".5rem .5rem 4rem .5rem","& > div.icon":{margin:".2rem auto",width:"82px"},"& > div.nickname":{margin:"0 auto 1.2rem auto",width:"10rem","& input":{fontSize:"1.2rem",fontWeight:"bold",textAlign:"center"}}},"& > div.MuiDialogActions-root":{position:"fixed",padding:"0 0.5rem 1rem 0.5rem",margin:0,background:"rgba(255, 255, 255, 0.8)",width:"calc(100% - 1rem)",bottom:0}}}),ia=c.memo(({box:t,open:n,onClose:r})=>{const[i,s]=c.useState(!1),{t:l}=T(),o=t.items.map(u=>u.serialize()).join(`
`),a=c.useCallback(()=>{at(o).then(()=>{s(!0)}).catch(()=>{})},[s,o]),d=c.useCallback(()=>{s(!1)},[s]);return e.jsxs(V,{open:n,onClose:r,children:[e.jsx(de,{children:l("export")}),e.jsxs(K,{children:[e.jsx("p",{style:{fontSize:"0.9rem",margin:0},children:l("export message1")}),e.jsx("p",{style:{fontSize:"0.9rem",margin:"0.5rem 0 1rem 0"},children:l("export message2")}),e.jsx(ne,{label:l("box data"),multiline:!0,fullWidth:!0,rows:6,defaultValue:o})]}),e.jsxs($,{children:[e.jsx(F,{onClick:a,children:l("copy to clipboard")}),e.jsx(F,{onClick:r,children:l("close")})]}),e.jsx(Le,{open:i,autoHideDuration:2e3,onClose:d,message:l("copied to clipboard")})]})}),la=c.memo(({box:t,open:n,onClose:r})=>{const[i,s]=c.useState(""),[l,o]=c.useState(""),{t:a}=T(),d=c.useCallback(x=>{s(x.target.value)},[s]),u=c.useCallback(()=>{s(""),r()},[s,r]),h=c.useCallback(()=>{const x=i.split(/\n/g);let y=0;for(const p of x){if(!t.canAdd)break;const f=t.deserializeItem(p);f!==null&&(t.add(f.iv,f.nickname),y++)}y===0?o(a("failed to import")):(t.save(),o(a("imported N pokemon",{n:y})),u())},[t,o,a,u,i]),m=c.useCallback(()=>{o("")},[o]),g=l!=="";return e.jsxs(e.Fragment,{children:[e.jsxs(V,{open:n,onClose:u,children:[e.jsx(de,{children:a("import")}),e.jsxs(K,{children:[e.jsx("p",{style:{fontSize:"0.9rem",margin:"0 0 1rem 0"},children:a("import message")}),e.jsx(ne,{label:a("box data"),multiline:!0,fullWidth:!0,rows:6,value:i,onChange:d})]}),e.jsxs($,{children:[e.jsx(F,{onClick:h,children:a("import")}),e.jsx(F,{onClick:u,children:a("close")})]})]}),e.jsx(Le,{open:g,autoHideDuration:2e3,onClose:m,message:l})]})}),oa=c.memo(({box:t,open:n,onClose:r})=>{const[i,s]=c.useState(!1),{t:l}=T(),o=c.useCallback(()=>{t.removeAll(),s(!0),r()},[t,r]),a=c.useCallback(()=>{s(!1)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(V,{open:n,onClose:r,children:[e.jsx(de,{children:l("delete all")}),e.jsx(K,{children:e.jsx("p",{style:{fontSize:"0.9rem",margin:0},children:l("delete all message")})}),e.jsxs($,{children:[e.jsx(F,{onClick:o,color:"error",children:l("delete")}),e.jsx(F,{onClick:r,children:l("cancel")})]})]}),e.jsx(Le,{open:i,autoHideDuration:2e3,onClose:a,message:l("deleted all pokemon")})]})}),aa=M(Cn)({minHeight:"36px",marginBottom:"clamp(.3rem, 0.6vh, .7rem)"}),$n=M(wn)({minHeight:"36px",padding:"6px 16px"}),ca=Ks(),da=c.memo(()=>{const[t,n]=c.useReducer(Js,ca),{t:r}=T(),i=ua(),s=t.box.getById(t.selectedItemId),l=c.useCallback(f=>{n({type:"updateIv",payload:{iv:f}})},[]),o=c.useCallback((f,k)=>{n({type:"changeUpperTab",payload:{index:k}})},[]),a=c.useCallback(()=>{n({type:"restoreItem"})},[]),d=c.useCallback(()=>{n({type:"saveItem"})},[]),u=c.useCallback(()=>{n({type:"closeAlert"})},[]),h=c.useCallback(()=>{n({type:"editDialogClose"})},[]),m=c.useCallback(f=>{n({type:"addOrEditDone",payload:{item:f}})},[]),g=s!==null&&!s.iv.isEqual(t.pokemonIv),x=c.useCallback(()=>{n({type:"exportClose"})},[]),y=c.useCallback(()=>{n({type:"importClose"})},[]),p=c.useCallback(()=>{n({type:"deleteAllClose"})},[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:"0 .5rem",position:"sticky",top:0,zIndex:1,background:"#f9f9f9"},children:[e.jsxs(aa,{value:t.tabIndex,onChange:o,children:[e.jsx($n,{label:r("rp")}),e.jsx($n,{label:r("strength2")}),e.jsx($n,{label:r("rating")})]}),t.tabIndex===0&&e.jsx(ko,{state:t,width:i}),t.tabIndex===1&&e.jsx(Jo,{state:t,dispatch:n}),t.tabIndex===2&&e.jsx(Yo,{pokemonIv:t.pokemonIv,width:i}),t.pokemonIv.pokemon.ratioNotFixed&&e.jsx("div",{style:{border:"1px solid red",background:"#ffeeee",color:"red",fontSize:"0.9rem",borderRadius:"0.5rem",marginTop:"3px",padding:"0 0.3rem"},children:r("ratio is not fixed")}),e.jsx(Qs,{state:t,dispatch:n,isBoxEmpty:t.box.items.length===0})]}),t.lowerTabIndex===0&&e.jsx("div",{style:{margin:"0 0.5rem 10rem 0.5rem"},children:e.jsx(rr,{pokemonIv:t.pokemonIv,onChange:l})}),t.lowerTabIndex===1&&e.jsx(jl,{items:t.box.items,iv:t.pokemonIv,selectedId:t.selectedItemId,dispatch:n,parameter:t.parameter}),t.lowerTabIndex===2&&e.jsx(ho,{value:t.parameter,hasHelpingBonus:t.pokemonIv.hasHelpingBonusInActiveSubSkills,dispatch:n}),e.jsx(ta,{open:t.boxItemDialogOpen,boxItem:s,isEdit:t.boxItemDialogIsEdit,onClose:h,onChange:m},t.boxItemDialogKey),e.jsx(ia,{box:t.box,open:t.boxExportDialogOpen,onClose:x}),e.jsx(la,{box:t.box,open:t.boxImportDialogOpen,onClose:y}),e.jsx(oa,{box:t.box,open:t.boxDeleteAllDialogOpen,onClose:p}),e.jsx(Le,{open:t.alertMessage!=="",message:r(t.alertMessage),autoHideDuration:2e3,onClose:u}),e.jsx(Le,{open:g,message:r("pokemon in the box is edited"),action:e.jsxs(e.Fragment,{children:[e.jsx(F,{onClick:a,children:r("reset")}),e.jsx(F,{onClick:d,children:r("save")})]})})]})});function ua(){const[t,n]=c.useState(0);return c.useEffect(()=>{const r=()=>{n(document.documentElement.clientWidth)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),t}function ha({open:t,onClose:n}){const{t:r}=T();return e.jsxs(V,{open:t,onClose:n,children:[e.jsx(de,{children:r("about")}),e.jsxs(K,{dividers:!0,children:[e.jsx(be,{sx:{marginBottom:"16px"},children:e.jsx(J,{i18nKey:"about1",components:{profile:e.jsx("a",{href:r("profile"),children:"profile"})}})}),e.jsx(be,{sx:{marginBottom:"16px"},children:e.jsx(J,{i18nKey:"about2",components:{x:e.jsxs("a",{href:`https://twitter.com/${r("x username")}`,children:["@",r("x username")]}),github:e.jsx("a",{href:"https://github.com/nitoyon/pokesleep-tool/discussions",children:"GitHub"})}})}),e.jsxs(be,{sx:{marginBottom:"16px"},children:[e.jsx(J,{i18nKey:"about3",components:{wiki:e.jsx("a",{href:"https://wikiwiki.jp/poke_sleep/",children:"wiki"}),rp:e.jsx("a",{href:"https://docs.google.com/spreadsheets/d/1kBrPl0pdAO8gjOf_NrTgAPseFtqQA27fdfEbMBBeAhs/#gid=1673887151",children:"RP collection project"}),raenonx:e.jsx("a",{href:"https://pks.raenonx.cc/",children:"RaenonX"})}}),e.jsx(J,{i18nKey:"about4"})]})]}),e.jsx($,{children:e.jsx(F,{onClick:n,children:r("close")})})]})}function ma({app:t,open:n,onClose:r}){const{t:i}=T();return e.jsxs(V,{open:n,onClose:r,children:[e.jsx(de,{children:i("how to use")}),e.jsxs(K,{dividers:!0,children:[e.jsx(be,{sx:{marginBottom:"16px"},children:i(`${t}.description`)}),e.jsx(be,{sx:{marginBottom:"16px"},children:i(`${t}.notice detail1`)}),e.jsx(be,{sx:{marginBottom:"16px"},children:i(`${t}.notice detail2`)})]}),e.jsx($,{children:e.jsx(F,{onClick:r,children:i("close")})})]})}function ga({open:t,app:n,onAppConfigChange:r,onClose:i}){const s=c.useContext(An),[l,o]=c.useState(s.iconUrl??""),[a,d]=c.useState(!1),{t:u,i18n:h}=T(),m=h.language,g=(v,S)=>{h.changeLanguage(S)},x=[],y=h.options.resources;for(const v in y){const S=h.getResource(v,"translation","langname");x.push(e.jsx(L,{value:v,"aria-label":v,children:S},v))}let p=!1,f="";l!==""&&(l.match(/^https?:\/\//)?l.match(/@ID[1-4]@/)||(p=!0,f=u("custom icon id not found")):(p=!0,f=u("custom icon invalid url")));const k=c.useCallback(v=>{o(v.target.value)},[o]),C=c.useCallback(()=>{if(p){d(!0);return}r({...s,language:m,iconUrl:l!==""?l:null}),i()},[r,i,s,p,l,m]),b=c.useCallback(()=>{d(!1)},[d]);return e.jsxs(e.Fragment,{children:[e.jsxs(V,{open:t,onClose:C,fullWidth:!0,children:[e.jsxs(K,{children:[e.jsx("h3",{style:{margin:"0 0 .3rem 0"},children:u("change language")}),e.jsx(G,{value:m,orientation:"vertical",exclusive:!0,onChange:g,children:x}),n==="IvCalc"&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{style:{margin:"1rem 0 0 0"},children:u("custom icon")}),e.jsx("p",{style:{margin:"0.3rem 0",fontSize:"0.9rem"},children:u("custom icon summary")}),e.jsx(ne,{variant:"standard",fullWidth:!0,value:l,placeholder:u("custom icon placeholder"),error:p,helperText:f,onChange:k}),e.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#888",lineHeight:1.1,fontSize:"0.8rem"},children:[u("custom icon details"),e.jsx("br",{}),u("custom icon details japanese only")]})]})]}),e.jsx($,{children:e.jsx(F,{onClick:C,children:u("close")})})]}),e.jsx(Xt,{open:a,onClose:b,message:u("custom icon invalid message")})]})}function pa({app:t,onAppChange:n,onAppConfigChange:r}){const{t:i}=T(),[s,l]=w.useState(null),o=!!s,a=z=>{n("ResearchCalc"),l(null)},d=z=>{n("IvCalc"),l(null)},u=z=>{l(z.currentTarget)},h=()=>{l(null)},[m,g]=w.useState(!1),x=()=>{g(!0),l(null)},y=()=>{g(!1)},[p,f]=w.useState(!1),k=()=>{f(!0),l(null)},C=()=>{f(!1)},[b,v]=w.useState(!1),S=()=>{v(!0),l(null)},A=()=>{v(!1)};return e.jsxs(xa,{children:[e.jsx("div",{className:"title",children:i(`${t}.title`)}),e.jsx(oe,{"aria-label":"actions",color:"inherit",onClick:u,children:e.jsx(Qn,{})}),e.jsxs(on,{anchorEl:s,open:o,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:[e.jsxs(j,{onClick:a,children:[e.jsx(ee,{children:t==="ResearchCalc"?e.jsx(Ie,{}):e.jsx(Vn,{})}),i("ResearchCalc.short title")]}),e.jsxs(j,{onClick:d,children:[e.jsx(ee,{children:t==="IvCalc"?e.jsx(Ie,{}):e.jsx(Vn,{})}),i("IvCalc.short title")]}),e.jsx(un,{}),e.jsxs(j,{onClick:x,children:[e.jsx(ee,{children:e.jsx(os,{})}),i("how to use")]}),e.jsxs(j,{onClick:k,children:[e.jsx(ee,{children:e.jsx(Ke,{})}),i("about")]}),e.jsxs(j,{onClick:S,children:[e.jsx(ee,{children:e.jsx(as,{})}),i("settings")]})]}),e.jsx(ha,{open:p,onClose:C}),e.jsx(ma,{app:t,open:m,onClose:y}),e.jsx(ga,{open:b,app:t,onAppConfigChange:r,onClose:A})]})}const xa=M("div")({background:"#665500",color:"white",padding:".2rem .5rem",fontSize:"1rem",display:"flex",alignItems:"center","@media all and (display-mode: standalone)":{background:"#002244"},"& > div.title":{flexGrow:1}}),fa=c.memo(({appType:t,onAppConfigChange:n})=>{const{t:r}=T(),i=c.useContext(An),s=c.useCallback(()=>{a(!0)},[]),l=c.useCallback(()=>{a(!1)},[]),[o,a]=c.useState(!1),d=wr.getArticles(t);if(d.length===0)return e.jsx(e.Fragment,{});const u=d[0],h=i.news[t];if(u.id===h)return e.jsx(e.Fragment,{});const m=()=>{const g={...i,news:{...i.news}};g.news[t]=u.id,n(g)};return e.jsxs(ka,{children:[e.jsx(Ke,{}),e.jsxs("div",{children:[e.jsx("span",{children:r(`${t}.news.${u.id}.headline`)}),e.jsxs(F,{onClick:s,children:["[",r("details"),"]"]})]}),e.jsx(oe,{onClick:m,children:e.jsx(Tn,{})}),e.jsx(ja,{open:o,onClose:l,appType:t,article:u})]})}),ka=M("div")({margin:"0.2rem .2rem",background:"#e5f6fd",border:"1px solid #d9e9e9",color:"#014343",borderRadius:"0.5rem",display:"grid",gridTemplateColumns:"26px 1fr 40px","& > svg":{color:"#0288d1",width:"18px",height:"18px",padding:"4px"},"& > div":{fontSize:"0.8rem",padding:"0.2rem 0",color:"#014480","& > span":{marginRight:".3rem"},"& > button":{padding:0,minWidth:0,fontSize:"0.8rem"}},"& > button":{width:"40px",height:"40px"}}),ja=c.memo(({appType:t,article:n,open:r,onClose:i})=>{const{t:s,i18n:l}=T();if(!r)return e.jsx(e.Fragment,{});const o=s(`${t}.news.${n.id}.detail`).split(/\n/g),a=s(`${t}.news.${n.id}.headline`);let d="";if(Intl&&Intl.RelativeTimeFormat){const u=Math.max(0,new Date().getTime()-n.date.getTime()),h=new Intl.RelativeTimeFormat(l.language,{style:"long"});u>31536e6?d=h.format(-Math.floor(u/31536e6),"year"):u>2592e6?d=h.format(-Math.floor(u/2592e6),"month"):u>864e5?d=h.format(-Math.floor(u/864e5),"day"):u>36e5?d=h.format(-Math.floor(u/36e5),"hour"):d=h.format(-Math.floor(u/6e4),"minute")}else d=n.date.toLocaleDateString();return e.jsxs(ya,{open:r,onClose:i,children:[e.jsx("time",{children:d}),e.jsx("header",{children:a}),o.map((u,h)=>e.jsx("p",{children:u},h)),e.jsx($,{disableSpacing:!0,children:e.jsx(F,{onClick:i,children:s("close")})})]})}),ya=M(V)({"& .MuiPaper-root":{padding:"1rem 1rem 0 1rem","& > time":{fontSize:"0.7rem",color:"#888"},"& > header":{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.3rem"},"& > p":{fontSize:"0.9rem",margin:"0.4rem 0 0 0"}}}),ba=c.memo(()=>e.jsxs("svg",{width:"48",height:"48",children:[e.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#faffe9"}),e.jsx("svg",{children:e.jsxs("g",{transform:"translate(12, 12) scale(0.9)",strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"0.5",fillRule:"evenodd",children:[e.jsx("path",{d:"M 0,-12 A 12 12 -90 1 1 0 12 A 12 12 90 1 1 0 -12 M 0,-6 A 6 6 -90 0 1 0 6 A 6 6 90 0 1 0 -6",stroke:"#b9b9b9",fill:"#cacaca"}),e.jsx("path",{d:"M 0,-12 A 12 12 -90 1 1 -10.39 6 L -5.196,3 A 6 6 210 1 0 0 -6 L 0,-12",stroke:"#3683ee",fill:"#1683ff"})]})}),e.jsx("svg",{x:"6.9",y:"7.2",children:e.jsxs("g",{transform:"scale(0.8)",children:[e.jsxs("g",{fill:"#ff944b",stroke:"#faffe9",strokeWidth:"1.4",strokeLinejoin:"round",children:[e.jsx("path",{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07L12 12.9z"}),e.jsx("path",{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52z"})]}),e.jsx("g",{fill:"#faffe9",children:e.jsx("rect",{x:"7.5",y:"9",width:"9",height:"11.5"})}),e.jsxs("g",{fill:"#ff944b",stroke:"#ee833a",strokeWidth:".4",strokeLinejoin:"round",children:[e.jsx("path",{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07L12 12.9z"}),e.jsx("path",{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52z"})]})]})})]})),va=c.memo(()=>e.jsxs("svg",{width:"48",height:"48",children:[e.jsx("rect",{cx:"0",cy:"0",width:"24",height:"24",fill:"#f3ac55"}),e.jsxs("g",{transform:"translate(0, 1.8)",children:[e.jsx("polygon",{points:"12,2.4,20.31,16.8,3.686,16.8,12,2.4",strokeLinejoin:"round",fill:"#faffe9",transform:"translate(-12,-12) scale(1.3) translate(6.5,6.5)"}),e.jsxs("g",{transform:"translate(12,12) scale(0.14)",children:[e.jsxs("g",{stroke:"#666",fill:"#fff",strokeWidth:"3",children:[e.jsx("polygon",{points:"0,-40,-34.64,20,34.64,20"}),e.jsx("polygon",{points:"0,-80,-69.28,40,69.28,40"})]}),e.jsxs("g",{stroke:"#ccc",fill:"none",children:[e.jsx("polygon",{points:"0,-20,-17.32,10,17.32,10"}),e.jsx("polygon",{points:"0,-60,-51.96,30,51.96,30"})]}),e.jsxs("g",{stroke:"#666",strokeWidth:"2",children:[e.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"-80"}),e.jsx("line",{x1:"0",y1:"0",x2:"-69.28",y2:"40"}),e.jsx("line",{x1:"0",y1:"0",x2:"69.28",y2:"40"})]}),e.jsx("g",{stroke:"#24d76a",strokeWidth:"3",fill:"#24d76a",fillOpacity:"0.3",children:e.jsx("polygon",{points:"0,-67.992,-32.194416000000004,18.588,16.786544,9.692"})})]})]})]})),Sa=c.memo(()=>e.jsx("svg",{width:"24",height:"24",children:e.jsxs("svg",{viewBox:"0 0 512 512",children:[e.jsx("rect",{x:"5",y:"5",width:"502",height:"502",rx:"30%",stroke:"#999999",strokeWidth:"10",fill:"#ffffff"}),e.jsxs("radialGradient",{id:"a",children:[e.jsx("stop",{stopColor:"#0bd",offset:"0"}),e.jsx("stop",{stopColor:"#17d",offset:"1"})]}),e.jsxs("g",{transform:"matrix(4 0 0 4 256 256)",children:[e.jsx("circle",{r:"52.5",fill:"url(#a)",strokeWidth:"5"}),e.jsx("path",{d:"M6 6l-12-12l-29 39",fill:"#eee"}),e.jsx("path",{d:"M6 6l-12-12l41-28",fill:"#f55"})]})]})}));let tn;const Ca=3,wa=c.memo(({app:t,pwaCount:n,onClose:r})=>{const{t:i}=T();let s=!1;/iP(hone|od|ad)/.test(navigator.userAgent)&&!window.matchMedia("(display-mode: standalone)").matches&&n>=Ca&&(s=!0);const[l,o]=w.useState(s),[a,d]=w.useState(!1),u=w.useCallback(x=>{tn=x,o(!0)},[]);w.useEffect(()=>(window.addEventListener("beforeinstallprompt",u),()=>{window.removeEventListener("beforeinstallprompt",u)}),[u]);const h=w.useCallback(()=>{tn!==void 0?(o(!1),tn.prompt(),tn.userChoice.then(()=>{tn=void 0})):d(!0)},[o]),m=w.useCallback(()=>{o(!1),r()},[o,r]),g=w.useCallback(()=>{d(!1)},[d]);return e.jsx(Ba,{open:l,children:e.jsxs("div",{className:"pwa_banner_container",children:[t==="ResearchCalc"?e.jsx(ba,{}):e.jsx(va,{}),e.jsxs("div",{className:"pwa_banner_body",children:[e.jsx("p",{children:e.jsx(J,{i18nKey:"pwa notice",values:{app:i(`${t}.short title`)}})}),e.jsx(F,{variant:"contained",size:"small",className:"add",onClick:h,children:i("add to home screen")}),e.jsx(F,{className:"later",onClick:m,children:i("later")})]}),e.jsx(oe,{onClick:m,children:e.jsx(Tn,{})}),e.jsx(Ia,{app:t,open:a,onClose:g})]})})}),Ba=M(Le)({background:"white",borderRadius:"1rem 1rem 0 0",boxShadow:"0 -.2rem .4rem #ccc",padding:".5rem",bottom:0,zIndex:1e3,"& > div.pwa_banner_container":{display:"flex","& > svg":{alignItems:"flex-start",paddingTop:".5rem",paddingRight:"6px",width:"24px",flexShrink:0},"& > div.pwa_banner_body":{flexGrow:1,paddingTop:".5rem","& > p":{margin:"0 0 .5rem 0"},"& > button":{fontSize:".8rem","&.add":{borderRadius:"1rem",background:"#24da6d"},"&.later":{color:"black"}}},"& > button.MuiIconButton-root":{marginRight:"auto",alignSelf:"start"}}}),Ia=c.memo(({app:t,open:n,onClose:r})=>{const{t:i,i18n:s}=T(),[l,o]=w.useState(!1),a=w.useCallback(async()=>{let u="https://nitoyon.github.io/pokesleep-tool/"+(t==="IvCalc"?"iv/":"");s.language!=="en"&&(u+="index."+s.language+".html"),at(u).then(()=>{o(!0)}).catch(()=>{})},[t,o,s.language]),d=w.useCallback(()=>{o(!1)},[o]);return e.jsxs(Ma,{open:n,onClose:r,children:[e.jsx(de,{children:i("how to add to home screen")}),e.jsx(oe,{onClick:r,className:"close_button",children:e.jsx(Tn,{})}),e.jsxs(K,{dividers:!0,children:[e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx(J,{i18nKey:"open in safari",components:{safari:e.jsx(Sa,{})}}),e.jsx("div",{children:e.jsxs(F,{onClick:a,children:["[",i("copy url"),"]"]})})]}),e.jsx("li",{children:e.jsx(J,{i18nKey:"push share icon",components:{share:e.jsx(Yn,{})}})}),e.jsx("li",{children:e.jsx(J,{i18nKey:"select add to home screen",components:{add:e.jsx(cs,{})}})})]}),e.jsx(Le,{open:l,onClose:d,autoHideDuration:1e3,message:i("copied")})]}),e.jsx($,{children:e.jsx(F,{onClick:r,children:i("close")})})]})}),Ma=M(V)({"& div.MuiDialogContent-root":{padding:"1rem","& > ol":{margin:0,paddingLeft:"1.6rem",listStyleType:"none","& > li":{counterIncrement:"step-counter",position:"relative",paddingBottom:".6rem","&::before":{content:"counter(step-counter)",position:"absolute",left:"-1.8rem",top:".6rem",backgroundColor:"#24da6d",color:"white",borderRadius:"1rem",width:"18px",height:"18px",fontSize:"0.8rem",fontWeight:"bold",textAlign:"center",lineHeight:1.5},"& button":{padding:0,paddingTop:".2rem"},"& > svg":{position:"relative",top:".4rem"}}}},"& button.close_button":{position:"absolute",right:"8px",top:"12px"}}),Ta=rt({typography:{allVariants:{fontFamily:'"M PLUS 1p"'}}}),Ea=rt({typography:{allVariants:{fontFamily:'"Noto Sans TC"'}}}),Na=rt({typography:{allVariants:{fontFamily:'"Noto Sans SC"'}}}),An=c.createContext({iconUrl:null,language:"",pwacnt:0,news:{ResearchCalc:"",IvCalc:""}});function Fa({config:t}){const n=Aa(t),[r,i]=La(n),[s,l]=w.useState(t),o=w.useCallback(h=>{i(h)},[i]),a=w.useCallback(h=>{Sn(h),l(h)},[l]),d=w.useCallback(()=>{s.pwacnt=0,Sn(s),l(s)},[s,l]);let u=Ta;return n==="zh-TW"?u=Ea:n==="zh-CN"&&(u=Na),e.jsx(ds,{theme:u,children:e.jsxs(An.Provider,{value:s,children:[e.jsx(pa,{app:r,onAppChange:o,onAppConfigChange:a}),e.jsx(fa,{appType:r,onAppConfigChange:a}),r==="ResearchCalc"&&e.jsx(Ls,{}),r==="IvCalc"&&e.jsx(da,{}),e.jsx(wa,{app:r,pwaCount:t.pwacnt,onClose:d})]})})}function Aa(t){const{i18n:n}=T(),[r,i]=w.useState(t.language),s=w.useCallback(l=>{i(l),Sn({...t,language:l})},[t,i]);return w.useEffect(()=>(n.on("languageChanged",s),()=>{n.off("languageChanged",s)}),[n,s]),r}function La(t){let n=window.location.pathname.startsWith("/pokesleep-tool/iv/")?"IvCalc":"ResearchCalc";const{t:r,i18n:i}=T(),[s,l]=w.useState(n);return w.useEffect(()=>{document.title=r(`${s}.title`);const o=document.querySelector("link[rel='manifest']");if(o!==null){const g=o.href;o.href=g.replace(/manifest.*/,"manifest."+t+".json")}const a=document.querySelector("meta[name='description']");a!==null&&(a.content=r(`${s}.description`));const d=document.querySelector("html");d!==null&&(d.lang=t.toLowerCase());const u=document.querySelector("link[rel='stylesheet'][href*='https']");u!==null&&(t==="zh-TW"?u.href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap":t==="zh-CN"?u.href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC&display=swap":u.href="https://fonts.googleapis.com/css2?family=M+PLUS+1p&display=swap");let h=document.location.origin+"/pokesleep-tool/";s==="IvCalc"&&(h+="iv/"),t!=="en"&&(h+=`index.${t.toLowerCase()}.html`);const m=document.location.search+document.location.hash;window.history.replaceState(null,"",h+m)},[t,i,r,s]),[s,l]}function Ra(t){const n={iconUrl:null,language:t,pwacnt:-1,news:{ResearchCalc:"",IvCalc:""}},r=localStorage.getItem("PokeSleepTool");if(r===null)return n;const i=JSON.parse(r);return typeof i!="object"||i==null||(typeof i.iconUrl=="string"&&i.iconUrl.match(/@ID[1-4]?@/)&&(n.iconUrl=i.iconUrl),typeof i.language=="string"&&(n.language=i.language),typeof i.pwacnt=="number"&&(n.pwacnt=i.pwacnt),typeof i.news=="object"&&(typeof i.news.ResearchCalc=="string"&&(n.news.ResearchCalc=i.news.ResearchCalc),typeof i.news.IvCalc=="string"&&(n.news.IvCalc=i.news.IvCalc))),n}function Sn(t){localStorage.setItem("PokeSleepTool",JSON.stringify(t))}const za={en:Er,ja:Tr,ko:Mr,"zh-CN":Ir,"zh-TW":Br};Et.use(fr).init({resources:za,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});(function(){window.addEventListener("error",s=>{const{message:l,filename:o,lineno:a,colno:d,error:u}=s;alert(`Uncaught error: ${l} (${o}:${a}:${d}) ${u.stack}`)});let t="en";window.navigator.language.match(/ja/)!==null?t="ja":window.navigator.language.match(/ko/)!==null?t="ko":window.navigator.language.match(/^zh-hant/i)!==null?t="zh-TW":window.navigator.language.match(/^zh/i)!==null&&(t="zh-CN");const n=Ra(t);n.pwacnt++,Sn(n),Et.changeLanguage(n.language);const r=document.getElementById("root");if(r===null){alert("root element not found");return}if(kr.createRoot(r).render(e.jsx(c.StrictMode,{children:e.jsx(Fa,{config:n})})),window.location.hostname!=="nitoyon.github.io"){document.body.style.padding="30px 0px 0px";const s=document.createElement("ins");s.style.display="block",s.style.width="100%",s.style.height="30px",s.style.clear="none",s.style.float="none",s.style.top="0px",s.style.bottom="auto",s.style.left="0px",s.style.right="0px",s.style.margin="0px",s.style.padding="0px",s.style.position="fixed",s.style.verticalAlign="baseline",s.style.zIndex="2147483647",s.style.background="#cccccc",document.body.appendChild(s)}window.addEventListener("load",()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/pokesleep-tool/sw.js")})})();
