import{f as m}from"./field-B3S_0DUv.js";import{e as p}from"./event-C3_zcPxi.js";import{p as v}from"./pokemon-Dp_olf2E.js";import{r as b}from"./news-CFgA86Ax.js";const g=m,w=3e7;for(const r of g)r.ranks.push(w+1);function S(r){if(r<0)return!1;const e=g[r];if(!e)throw new Error(`Field with index ${r} does not exist.`);return e.expert}function x(r){if(r<0)return[];switch(r){case 0:return[];case 1:return["water","fairy","flying"];case 2:return["ground","fire","rock"];case 3:return["ice","normal","dark"];case 4:return["grass","psychic","fighting"];case 5:return["electric","ghost","steel"];case 6:return["poison","bug","dragon"];case 7:return[]}return[]}const u=["normal","fire","water","electric","grass","ice","fighting","poison","ground","flying","psychic","bug","rock","ghost","dragon","dark","steel","fairy"],D=["Berries","Ingredients","Skills","All"],A=["leek","mushroom","egg","potato","apple","herb","sausage","milk","honey","oil","ginger","tomato","cacao","tail","soy","corn","coffee","pumpkin","avocado"],o=v,a=new Map,k=848,L=849;function N(r,e=!1){if(a.size===0){const s=new Map;for(const n of o){const i=n.ancestor??0;if(i===0)continue;const f=s.get(i);f!==void 0?s.set(i,Math.max(n.evolutionCount,f)):s.set(i,n.evolutionCount)}for(const[n]of s)a.set(n,o.filter(i=>i.ancestor===n))}if(r.ancestor===null)return[];const t=a.get(r.ancestor);return t===void 0?[]:r.ancestor===k?t.filter(s=>e||s.evolutionLeft===0):t.filter(s=>s.form===r.form).filter(s=>e||s.evolutionLeft===0).sort((s,n)=>s.id===r.ancestor?-1:s.id-n.id)}function P(r){const e=o.find(n=>n.id===r);if(!e)return"";const t=e.ancestor??e.id;switch(t){case 172:return"Pikachu";case 173:return"Clefairy";case 174:return"Jigglypuff";case 360:return"Wobbuffet";case 438:return"Sudowoodo";case 439:return"Mr. Mime";case 440:return"Chansey";case 447:return"Lucario"}return(r===t?e:o.find(n=>n.id===t))?.name??""}class B{name;day;bonus;get startDate(){return new Date(this.day.getFullYear(),this.day.getMonth(),this.day.getDate(),4,0,0)}get endDate(){const e=this.startDate.getTime();return new Date(e+1440*60*1e3)}constructor(e){this.day=new Date(e.day),this.name=e.name,this.bonus=e.bonus}isInProgress(e){return this.startDate<=e&&e<this.endDate}}class d{name;start;end;target;effects;constructor(e){this.name=e.name,this.start=new Date(e.start),this.end=new Date(e.end),this.target=e.target,this.effects=y(e.effects)}isFinished(e){return e>=this.end}isTarget(e){return!(this.target?.specialty!==void 0&&e.specialty!==this.target.specialty&&e.specialty!=="All"||this.target?.type!==void 0&&!this.target.type.includes(e.type))}}function y(r){return{skillTrigger:r.skillTrigger??1,skillLevel:r.skillLevel??0,berry:r.berry??0,ingredient:r.ingredient??0,dreamShard:r.dreamShard??1,ingredientMagnet:r.ingredientMagnet??1,ingredientDraw:r.ingredientDraw??1,berryBurst:r.berryBurst??1,dish:r.dish??1,energyFromDish:r.energyFromDish??0,fixedBerries:r.fixedBerries??[],fixedAreas:r.fixedAreas??[]}}function j(r,e){const t=c.drowsy;for(const s of t)if(s.isInProgress(r))return s.bonus;return 1}function _(r,e){return c.bonus.filter(s=>!s.isFinished(r))}function H(r,e,t){const s=h(r,e);return s?.isTarget(t)?s.effects:void 0}function R(r,e){return h(r,e)?.effects}function h(r,e){let t;if(r!=="custom"?t=c.bonus.find(s=>s.name===r):t=new d({name:"custom",start:"2000-01-01",end:"2100-01-01",target:e.target,effects:e.effects}),t!==void 0)return t}const z={berry:0,skillTrigger:1,skillLevel:0,ingredient:0,dreamShard:1,ingredientMagnet:1,ingredientDraw:1,berryBurst:1,dish:1,energyFromDish:0,fixedBerries:[],fixedAreas:[]};class C{drowsy;bonus;constructor(e){this.drowsy=e.drowsy.map(t=>new B(t)),this.bonus=e.bonus.map(t=>new d(t))}getBonusByName(e){return this.bonus.find(t=>t.name===e)}}const c=new C(p);function G(r){const e={target:{},effects:y({})};if(typeof r!="object"||r===null)return e;if(typeof r.target=="object"){const t=r.target;typeof t.specialty=="string"&&D.includes(t.specialty)&&(e.target.specialty=t.specialty),typeof t.type=="string"&&u.includes(t.type)&&(e.target.type=[t.type]),Array.isArray(t.type)&&t.type.length<=3&&t.type.every(s=>u.includes(s))&&(e.target.type=t.type)}if(typeof r.effects=="object"){const t=r.effects;typeof t.berry=="number"&&[0,1].includes(t.berry)&&(e.effects.berry=t.berry),typeof t.skillLevel=="number"&&[0,1,3,5].includes(t.skillLevel)&&(e.effects.skillLevel=t.skillLevel),typeof t.skillTrigger=="number"&&[1,1.25,1.5].includes(t.skillTrigger)&&(e.effects.skillTrigger=t.skillTrigger),typeof t.ingredient=="number"&&[0,1].includes(t.ingredient)&&(e.effects.ingredient=t.ingredient),typeof t.dreamShard=="number"&&[1,1.5,2].includes(t.dreamShard)&&(e.effects.dreamShard=t.dreamShard),typeof t.ingredientMagnet=="number"&&[1,1.5].includes(t.ingredientMagnet)&&(e.effects.ingredientMagnet=t.ingredientMagnet),typeof t.ingredientDraw=="number"&&[1,1.5].includes(t.ingredientDraw)&&(e.effects.ingredientDraw=t.ingredientDraw),typeof t.berryBurst=="number"&&[1,1.4].includes(t.berryBurst)&&(e.effects.berryBurst=t.berryBurst),typeof t.dish=="number"&&[1,1.1,1.25,1.5].includes(t.dish)&&(e.effects.dish=t.dish),typeof t.energyFromDish=="number"&&[0,5].includes(t.energyFromDish)&&(e.effects.energyFromDish=t.energyFromDish)}return e}class M{researchCalc;ivCalc;constructor(e){this.researchCalc=e.ResearchCalc.map(t=>new l(t)),this.ivCalc=e.IvCalc.map(t=>new l(t))}getArticles(e){return e==="ResearchCalc"?this.researchCalc:this.ivCalc}}class l{date;id;constructor(e){this.date=new Date(Date.parse(e.date)),this.id=e.id}}const J=new M(b);export{A as I,w as M,u as P,D as S,R as a,P as b,y as c,_ as d,c as e,g as f,j as g,z as h,S as i,k as j,x as k,H as l,G as m,J as n,N as o,o as p,L as t};
