import{z as e,F as a,G as I,y as w,H as ee,I as Wt,J as Mr,L as Ht,N as Ot,O as Er,P as Tr}from"./react-DapeQILR.js";import{f as De,g as St,M as Nr,e as $t,i as Xe,a as We,b as Fr,p as Ae,c as Ar,P as Ee,d as Jn,l as Lr,t as _t,h as Rr,j as Ct,k as Hn,S as lt,I as gn,m as zr,n as Vt,o as Pr,z as Dr,q as Wr,r as Hr,s as Or,u as $r}from"./resource-Dagb3de2.js";import{s as B,D as pe,T as K,a as R,b as V,B as F,c as U,M as f,d as ae,C as ue,F as ot,e as Ut,I as dn,L as ge,S as at,f as _r,h as Qe,i as Y,j as re,k as ct,l as un,m as _e,n as te,A as qt,o as dt,p as Vr,q as Ur,r as pn,t as qr,u as Mn,v as En,P as Tn,w as ut,x as Zr,y as Nn,z as Gr,N as Kr,E as Fn,G as Te,H as Xr,J as Zt,K as X,O as Jr,Q as Qr,R as Yr,V as wt,U as es,W as Bt,X as ns,Y as oe,Z as ht,_ as se,$ as Gt,a0 as ts,a1 as rs,a2 as ss,a3 as is,a4 as ls,a5 as os,a6 as as,a7 as An,a8 as cs,a9 as ds,aa as Qn,ab as us,ac as hs,ad as ms,ae as gs,af as ps,ag as xs,ah as fs,ai as mt,aj as Ce,ak as ze,al as On,am as js,an as ks,ao as ys,ap as bs,aq as gt,ar as vs}from"./mui-ChoCPric.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();class Ve{index;type;rankNumber;thisStrength;nextStrength;constructor(n,r){let i=0;for(let s=0;s<r.length&&!(n<r[s]);s++)i=s;this.index=i,this.thisStrength=r[i],this.nextStrength=r[i+1],this.type=Ve.rankIndexToType(i),this.rankNumber=Ve.rankIndexToRankNumber(i)}static rankIndexToType(n){return n<5?"basic":n<10?"great":n<15?"ultra":"master"}static rankIndexToRankNumber(n){return n<15?n%5+1:n-14}}function vn({score:t}){const n=t,r=`radial-gradient(#ffffff 50%, transparent 51%), conic-gradient(#489eff 0% ${n}%, #dddddd ${n+1}% 100%)`;return e.jsx(Ss,{style:{backgroundImage:r},children:t})}const Ss=B("div")({display:"flex",justifyContent:"center",alignItems:"center",width:"2.4rem",height:"2.4rem",fontSize:".7rem",fontWeight:700,borderRadius:"50%",color:"#489eff",backgroundImage:"radial-gradient(#ffffff 50%, transparent 51%), conic-gradient(#489eff 0% 0%, #dddddd 1% 100%)"});class xn{_minutes;_h;_m;constructor(n){this._minutes=n,this._h=Math.floor(n/60),this._m=Math.round(n%60)}get h(){return this._h}get m(){return this._m}get score(){return Math.min(100,Math.round(this._minutes/510*100))}toString(n){return n("hhmm",{h:this.h,m:this.m})}}function Cs(t,n){for(let r=1;r<6;r++)if(n<t[r])return r+2;return 8}function pt(t){return new xn(Math.max(0,Math.ceil((t-.5)/100*8.5*60)))}function Ln(t){return new xn(Math.min(510,Math.ceil((t+1-.5)/100*8.5*60)-1))}function nn(t,n){const r=$n(t,n,100),i=De[n.fieldIndex].powers,s={firstSleep:r,secondSleep:null,nextStrength:null};if(!n.secondSleep||!r.canGet||r.tooMuch||r.minScore===100)return s;const l=(100-r.minScore)*n.strength*n.bonus,c=Cs(i,l),d=$n(c,n,100-r.minScore);s.firstSleep.maxScore=Math.min(r.maxScore,100-d.minScore),s.firstSleep.maxTime=Ln(s.firstSleep.maxScore),s.firstSleep.maxPower=s.firstSleep.maxScore*n.strength*n.bonus;let u=null;if(d.count<8){const h=d.count+1;u=$n(h,n,100-r.minScore).requiredStrength}return{firstSleep:r,secondSleep:d,nextStrength:u}}function $n(t,n,r){const i=n.strength*n.bonus,s=De[n.fieldIndex].powers,l=s[t-3],o=Math.ceil(l/n.bonus/r),c=Math.max(1,Math.ceil(l/i)),d=c<=r;let u=r;if(!(t===8)){const g=s[t-2];u=Math.max(0,Math.ceil(g/i)-1),u=Math.min(r,u)}return{count:t,power:l,canGet:d,tooMuch:u===0,requiredStrength:o,minScore:c,minTime:pt(c),minPower:c*i,maxScore:u,maxTime:Ln(u),maxPower:u*i}}const ws=a.memo(({open:t,onClose:n,bonus:r,strength:i})=>{const{t:s}=I(),l=a.useRef(null),o=a.useRef(null),c=a.useRef(null),d=a.useRef(null),u=a.useRef(null),h=a.useCallback((g,p)=>{if(p===null)return;let y=null;switch(p){case 0:y=l?.current;break;case 25:y=o?.current;break;case 50:y=c?.current;break;case 75:y=d?.current;break;case 100:y=u?.current;break}y!==null&&y.scrollIntoView({behavior:"smooth",block:"start"})},[]);if(!t)return e.jsx(e.Fragment,{});const m=[];for(let g=0;g<=100;g++)m.push(e.jsxs("div",{className:"sleep_time",ref:g===0?l:g===25?o:g===50?c:g===75?d:g===100?u:null,children:[e.jsx(vn,{score:g}),e.jsxs("div",{className:"time",children:[pt(g).toString(s),e.jsxs(e.Fragment,{children:[" ",s("range separator")," "]}),Ln(g).toString(s),e.jsx("div",{className:"time_power",children:s("num",{n:g*i*r})})]})]},g));return e.jsxs(Bs,{open:t,onClose:n,scroll:"paper",children:[e.jsx(pe,{children:s("sleep score table")}),e.jsx("div",{className:"sleep_score_table",children:m}),e.jsx("div",{className:"form",children:e.jsxs(K,{onChange:h,exclusive:!0,children:[e.jsx(R,{value:0,children:"0"}),e.jsx(R,{value:25,children:"25"}),e.jsx(R,{value:50,children:"50"}),e.jsx(R,{value:75,children:"75"}),e.jsx(R,{value:100,children:"100"})]})}),e.jsx(V,{children:e.jsx(F,{onClick:n,children:s("close")})})]})}),Bs=B(U)({"& div.form":{margin:".4rem 1.2rem 0 1.2rem","& > div > button":{width:"3rem"}},"& div.sleep_score_table":{overflow:"scroll",padding:"0 1rem","& > div.sleep_time":{margin:".4rem 0"}}}),Is=B("button")({width:"1.3rem",height:"1.3rem",background:"white",fontSize:".8rem",borderRadius:"50%",padding:0,border:"1px solid #999",color:"#000",cursor:"pointer",flexShrink:0,position:"relative","&:hover":{background:"#f0f0ee"},"&:disabled":{background:"#eee",border:"1px solid #ccc"},"&::before":{content:'""',position:"absolute",top:0,left:0,width:"1.3rem",height:"1.3rem",display:"inline-block",borderRadius:"100%",overflow:"hidden",background:"#999999",opacity:0}}),Sn=a.memo(({disabled:t,label:n,onClick:r})=>{const i=s=>{s.stopPropagation(),s.preventDefault(),s.target.animate([{opacity:.5},{opacity:0,transform:"scale(3, 3)"}],{duration:200,easing:"ease-out",pseudoElement:"::before",iterations:1}),r?.()};return e.jsx(Is,{disabled:t,onClick:i,children:n})}),Ms=a.memo(({value:t,onChange:n})=>{const{t:r}=I(),i=a.useCallback(o=>{n(parseInt(o.target.value,10))},[n]),s=[],l=[...De];for(const o of l)o.powers.length!==0&&s.push(e.jsxs(f,{value:o.index,children:[e.jsx("span",{className:"field_icon",children:o.emoji}),r(`area.${o.index}`)]},o.index));return e.jsx(ae,{variant:"standard",size:"small",select:!0,value:t,onChange:i,slotProps:{select:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}}},children:s})}),Es=/iP(hone|od|ad)/.test(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document;function Ts({data:t,onChange:n}){const{t:r}=I(),i=De[t.fieldIndex],s=t.strength,l=new Ve(s,i.ranks),[o,c]=w.useState(!1),d=w.useCallback(S=>{if(S<0||S>=i.ranks.length)return;const v=i.ranks[S];n?.({strength:v})},[i.ranks,n]),u=w.useCallback(S=>{d(S===-1?l.index-1:l.index+1)},[d,l.index]),h=w.useCallback(S=>{d(S)},[d]),m=w.useCallback(()=>{u(-1)},[u]),g=w.useCallback(()=>{u(1)},[u]),p=w.useCallback(S=>{n?.({fieldIndex:S})},[n]),y=w.useCallback(S=>{let v=Number(S.target.value.replace(/,/g,""));isNaN(v)||(v=Math.max(0,v),v=Math.min(v,Nr),n?.({strength:v}))},[n]);function x(S,v){if(Es&&S.type==="mousedown"||typeof v!="number")return;const A=Math.min(v,l.nextStrength-1);n?.({...t,strength:A})}const k=a.useCallback(S=>{n?.({bonus:S})},[n]),j=w.useCallback(S=>{const v=S.target.checked;n?.({secondSleep:v})},[n]),C=w.useCallback(()=>{c(!0)},[c]),b=w.useCallback(()=>{c(!1)},[c]);return e.jsxs(e.Fragment,{children:[e.jsxs(Ns,{children:[e.jsxs("div",{children:[r("research area"),":"]}),e.jsx("div",{children:e.jsx(Ms,{value:t.fieldIndex,onChange:p})}),e.jsxs("div",{children:[r("strength"),":"]}),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx(Fs,{field:i,value:l.index,onChange:h}),e.jsx(zs,{value:s,onChange:y})]}),e.jsxs("div",{className:"strength_second_line",children:[e.jsx(Sn,{disabled:l.index===0,label:"◀",onClick:m}),e.jsx(at,{className:"strength_progress",size:"small",onChange:x,min:l.thisStrength,max:l.nextStrength,value:s}),e.jsx(Sn,{disabled:l.rankNumber===20,label:"▶",onClick:g})]})]}),e.jsxs("div",{children:[r("bonus"),":"]}),e.jsxs("div",{children:[e.jsx("div",{children:e.jsx(Ds,{value:t.bonus,onChange:k})}),e.jsx(Ws,{value:t.secondSleep,onChange:j})]})]}),e.jsx("div",{style:{textAlign:"right"},children:e.jsx(F,{startIcon:e.jsx(_r,{}),onClick:C,children:r("sleep score table")})}),e.jsx(ws,{open:o,onClose:b,bonus:t.bonus,strength:s})]})}const Ns=B("div")({marginTop:".8rem",display:"grid",gap:"0.8rem 1.2rem",gridTemplateColumns:"fit-content(200px) 1fr",'& form.main div[role="combobox"]':{paddingBottom:"2px"},"& span.field_icon":{paddingRight:".2rem"},"& div.strength_second_line":{display:"flex",alignItems:"center",marginTop:".2rem",userSelect:"none"},"& .MuiInput-input:focus":{background:"inherit"},"& span.strength_progress":{width:"calc(100% - 4rem)",margin:"0 1rem","& .MuiSlider-track":{color:"#f7ac33",height:".5rem"},"& .MuiSlider-rail":{color:"#999999",height:".5rem"},"& .MuiSlider-thumb":{color:"#f7ac33",width:".9rem",height:".9rem","&::after":{width:"1rem",height:"1rem"},"&.Mui-active, &:hover, &.Mui-focusVisible":{boxShadow:"0px 0px 0px 6px rgba(235,219,102,0.4)"}}}}),Fs=a.memo(({value:t,onChange:n,field:r})=>{const{t:i}=I(),s=a.useCallback(o=>{const c=parseInt(o.target.value,10);n(c)},[n]),l=[];for(let o=0;o<35;o++){const c=t===o,d=Ve.rankIndexToType(o),u=Ve.rankIndexToRankNumber(o),h=r.ranks[o];l.push(e.jsxs(Ls,{value:o,dense:!0,selected:c,children:[e.jsx("span",{className:"rank_ball rank_ball_"+d,children:"◓"}),e.jsx("span",{className:"rank_number",children:u}),e.jsxs("span",{className:"strength",children:[i("num",{n:h}),i("range separator")]})]},o))}return e.jsx(As,{className:"rank",variant:"standard",size:"small",select:!0,value:t,SelectProps:{MenuProps:{sx:{height:"400px"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}},onChange:s,children:l})}),As=B(ae)({width:"4rem",marginRight:"1rem","& span.rank_ball_basic":{color:"#ff0000"},"& span.rank_ball_great":{color:"#0000ff"},"& span.rank_ball_ultra":{color:"#000000"},"& span.rank_ball_master":{color:"#cc00cc"},"& span.rank_number":{paddingLeft:".2rem"},"& span.strength":{display:"none"}}),Ls=B(f)({"& > span.rank_ball":{fontSize:"1rem","&.rank_ball_basic":{color:"#ff0000"},"&.rank_ball_great":{color:"#0000ff"},"&.rank_ball_ultra":{color:"#000000"},"&.rank_ball_master":{color:"#cc00cc"}},"& > span.rank_number":{fontSize:"1rem",paddingLeft:".2rem"},"& > span.strength":{paddingLeft:"1.2rem",color:"#999",fontSize:".9rem",fontWeight:"normal"}}),Rs=e.jsx(dn,{position:"start",sx:{color:"#ff944b"},children:e.jsx(ge,{})}),zs=a.memo(({value:t,onChange:n})=>{const{t:r}=I(),[i,s]=w.useState(!1),l=w.useCallback(()=>{s(!0)},[]),o=w.useCallback(()=>{s(!1)},[]),c=i?t.toString():r("num",{n:t});return e.jsx(Ps,{variant:"standard",size:"small",type:"tel",value:c,onChange:n,onFocus:l,onBlur:o,InputProps:{inputProps:{step:1e3,inputMode:"numeric"},startAdornment:Rs}})}),Ps=B(ae)({width:"calc(100% - 5rem)","& input":{fontWeight:800,fontSize:"1rem",paddingBottom:"2px"}}),Ds=a.memo(({value:t,onChange:n})=>{const{t:r}=I(),[i,s]=w.useState(St(new Date));a.useEffect(()=>{const u=setInterval(function(){s(St(new Date))},5e3);return()=>clearInterval(u)},[]);const l=a.useCallback(u=>{n(parseFloat(u.target.value))},[n]),o=a.useCallback(()=>{n(i)},[n,i]),c=i!==t,d=i===1?r("none"):`×${i}`;return e.jsxs(e.Fragment,{children:[e.jsxs(ae,{variant:"standard",size:"small",select:!0,value:t,onChange:l,children:[e.jsx(f,{value:1,dense:!0,children:r("none")},"1"),e.jsx(f,{value:1.5,dense:!0,children:"×1.5"},"1.5"),e.jsx(f,{value:2,dense:!0,children:"×2"},"2"),e.jsx(f,{value:2.5,dense:!0,children:"×2.5"},"2.5"),e.jsx(f,{value:3,dense:!0,children:"×3"},"3"),e.jsx(f,{value:4,dense:!0,children:"×4"},"4")]}),e.jsx(ue,{in:c,style:{paddingTop:"0.2rem"},children:e.jsxs(F,{onClick:o,sx:{padding:"0 0 0 1rem",margin:0,fontSize:"0.8rem",textIndent:"-1rem",textTransform:"none",lineHeight:1.2,textAlign:"left"},children:["⚠️",r("bonus not match",{bonus:d})]})})]})}),Ws=a.memo(({value:t,onChange:n})=>{const{t:r}=I();return e.jsx(ot,{control:e.jsx(Ut,{checked:t,onChange:n}),label:r("sleep twice")})}),Hs=a.memo(({fieldIndex:t})=>{const{t:n}=I(),r=t===6;return e.jsx(ue,{in:r,children:e.jsxs(Os,{children:[e.jsx(Qe,{}),e.jsx("div",{children:n("border is not fixed")})]})})}),Os=B("div")({background:"#e5f6fd",borderRadius:".5rem",padding:"0.4rem",color:"#014343",display:"grid",gridTemplateColumns:"22px 1fr","& > svg":{color:"#0288d1",width:"18px",height:"18px",paddingTop:"2px"},"& > div":{fontSize:"0.8rem",color:"#014480","& > button":{padding:"0 0 0 0.3rem",minWidth:0,fontSize:"0.8rem"}}});function $s({open:t,onClose:n,data:r}){const{t:i}=I();if(!t)return e.jsx(e.Fragment,{});const s=[];for(let l=0;l<2;l++){const o=[r.first,r.second][l],c=pt(o.score).toString(i),d=Ln(o.score).toString(i);s.push(e.jsxs("div",{className:"better_preview",children:[e.jsx("div",{className:"ball",children:"◓"}),e.jsx("span",{className:"ball_value",children:o.count}),e.jsx("span",{className:"strength",children:e.jsx(ge,{})}),e.jsxs("span",{className:"strength_value",children:[i("num",{n:o.strength}),l===1&&" "+i("range separator")]}),e.jsx(vn,{score:o.score}),e.jsxs("span",{className:"time_value",children:[e.jsx("span",{children:c}),e.jsxs("span",{children:[" ",i("range separator")," "]}),l===0&&e.jsx("span",{children:d})]})]},l))}return e.jsxs(U,{open:t,onClose:n,children:[e.jsxs(_s,{dividers:!0,className:"better_dialog",children:[e.jsx(ee,{i18nKey:"next strength to get 1 more pokemon",components:{count2:e.jsx("strong",{children:r.second.count}),score1:e.jsx("strong",{children:r.first.score}),strength2:e.jsx("strong",{children:i("num",{n:r.second.strength-r.first.strength})})}}),e.jsx("h3",{children:i("first sleep")}),e.jsx("div",{children:s[0]}),e.jsx("h3",{children:i("second sleep")}),e.jsx("div",{children:s[1]})]}),e.jsx(V,{children:e.jsx(F,{onClick:n,children:i("close")})})]})}const _s=B(Y)({"& > h3":{marginBottom:".2rem",fontSize:"1.1rem"},"& div.better_preview":{padding:"0 .5rem",display:"grid",gridTemplateColumns:"2.5rem auto",gap:".5rem .3rem",alignItems:"center","& > div.ball":{color:"#ff6347",textAlign:"center",alignItems:"center",fontSize:"1.3rem"},"& > span.ball_value":{fontSize:"1.3rem"},"& > span.strength":{color:"#ff944b",textAlign:"center","& > svg":{transform:"scale(1.2)"}},"& > span.strength_value":{fontSize:"1.2rem"}}});function tn(t){const{t:n}=I(),r=t.ranges,i=r.firstSleep,s=It(i,t.data,n);if(!i.canGet||i.tooMuch)return e.jsx(_n,{children:e.jsx("div",{className:"preview_warning",children:s})});if(r.secondSleep==null)return e.jsx(_n,{children:e.jsx("div",{className:"preview_grid",children:s})});const l=It(r.secondSleep,t.data,n),o=i.count+r.secondSleep.count;let c=null;if(r.nextStrength!==null){const d=r.secondSleep.count+1,u=r.nextStrength-t.data.strength,h=function(){const m={first:{count:r.firstSleep.count,score:r.firstSleep.minScore,strength:t.data.strength},second:{count:d,score:100-r.firstSleep.minScore,strength:t.data.strength+u}};t.onSecondSleepDetailClick(m)};c=e.jsxs("div",{className:"meet1more",children:[e.jsx(Qe,{}),e.jsxs("div",{children:[e.jsx(ee,{i18nKey:"next strength to get 1 more pokemon",components:{score1:e.jsx("strong",{children:r.firstSleep.minScore}),count2:e.jsx("strong",{children:d}),strength2:e.jsx("strong",{children:n("num",{n:u})})}}),e.jsxs(F,{onClick:h,children:["[",n("details"),"]"]})]})]})}return e.jsxs(_n,{children:[e.jsx("div",{className:"sum-tooltip",children:e.jsx(ee,{i18nKey:"total n pokemon",components:{n:e.jsx("strong",{children:o})}})}),e.jsxs("div",{className:"preview_grid",children:[s,l]}),c]})}const _n=B("div")({padding:".7rem 0",borderBottom:"3px dotted #ddd","& > .preview_grid":{display:"grid",width:"100%",gridTemplateColumns:"4.5rem max-content 1.5rem max-content",rowGap:".5rem","& > .count_box":{width:"5rem"}},"& > .preview_warning":{display:"grid",width:"100%",gridTemplateColumns:"4.5rem 1fr"},"& div.count":{"& > span.ball":{color:"#ff6347",fontSize:"1.2rem"},"& > span.multiply":{color:"#666",fontSize:"1.2rem"},"& > span.value":{color:"#e6a83a",fontSize:"1.4rem"}},"& div.power":{color:"#aaaaaa",fontSize:".7rem",marginTop:"-.2rem",whiteSpace:"nowrap"},"& div.start, div.end":{paddingTop:".3rem","& > div.sleep_time":{display:"flex",alignItems:"flex-start","& > div.time":{fontSize:".9rem",fontWeight:700,marginLeft:".3rem",marginTop:"0rem","& > div.time_power":{color:"#aaaaaa",fontSize:".8rem",fontWeight:500,marginTop:"-.2rem"}}}},"& div.score_separator":{padding:".3rem .2rem",textAlign:"center"},"& > .sum-tooltip":{display:"inline-block",position:"relative",border:"3px solid #ffffff",backgroundColor:"#f7ac33",color:"white",fontSize:".9rem",borderRadius:".5rem",padding:".1rem .5rem",boxShadow:"0 0 .1rem #999",marginBottom:".2rem","&::before":{content:"''",position:"absolute",display:"block",width:"0px",left:"50%",bottom:0,border:"10px solid transparent",borderBottom:0,borderTop:"10px solid #f7ac33",transform:"translate(-50%, calc(100% - .1rem))"},"& > strong":{fontSize:"1rem",fontWeight:700}},"& div.meet1more":{color:"#888",fontSize:".95rem",marginTop:".8rem",display:"flex",gap:".5rem","& > svg":{color:"#bbb",paddingTop:".2rem"},"& strong":{fontSize:"1rem"},"& button":{padding:0,minWidth:"2rem"}},"& div.warning":{paddingLeft:"2.2rem",textIndent:"-1.2rem",color:"#666","&::before":{content:"'\\26a0\\fe0f'"},"& .rank_ball_basic":{color:"#ff0000"},"& .rank_ball_great":{color:"#0000ff"},"& .rank_ball_ultra":{color:"#000000"},"& .rank_ball_master":{color:"#cc00cc"}}});function It(t,n,r){const i=e.jsxs("div",{className:"count_box",children:[e.jsxs("div",{className:"count",children:[e.jsx("span",{className:"ball",children:"◓"}),e.jsx("span",{className:"multiply",children:"×"}),e.jsx("span",{className:"value",children:t.count})]}),e.jsx("div",{className:"power",children:e.jsxs("span",{children:[r("num",{n:t.power}),r("range separator")]})})]});if(!t.canGet||t.tooMuch){let s;if(t.canGet)s=e.jsx("span",{children:r("strength too much")});else{const l=De[n.fieldIndex].ranks,o=new Ve(t.requiredStrength,l),c=Math.floor((t.requiredStrength-o.thisStrength)/(o.nextStrength-o.thisStrength)*100+.5);s=e.jsx("span",{children:e.jsx(ee,{i18nKey:"strength too low",components:{strength:e.jsxs(e.Fragment,{children:[e.jsxs("strong",{children:[r("num",{n:t.requiredStrength})," "]}),"(",e.jsx("span",{className:"rank_ball_"+o.type,children:"◓"}),e.jsx("span",{className:"rank_number",children:o.rankNumber}),e.jsxs("span",{children:[" + ",c,"%"]}),")"]})}})})}return e.jsxs(e.Fragment,{children:[i,e.jsx("div",{className:"warning",children:s})]})}return e.jsxs(e.Fragment,{children:[i,e.jsx("div",{className:"start",children:e.jsxs("div",{className:"sleep_time",children:[e.jsx(vn,{score:t.minScore}),e.jsxs("div",{className:"time",children:[t.minTime.toString(r),e.jsx("div",{className:"time_power",children:r("num",{n:t.minPower})})]})]})}),e.jsx("div",{className:"score_separator",children:r("range separator")}),e.jsx("div",{className:"end",children:e.jsxs("div",{className:"sleep_time",children:[e.jsx(vn,{score:t.maxScore}),e.jsxs("div",{className:"time",children:[t.maxTime.toString(r),e.jsx("div",{className:"time_power",children:r("num",{n:t.maxPower})})]})]})})]})}function Vs({data:t}){const[n,r]=w.useState(!1),i=()=>{r(!1)},[s,l]=w.useState({first:{count:0,score:0,strength:0},second:{count:0,score:0,strength:0}});function o(c){l(c),r(!0)}return e.jsxs("div",{style:{marginBottom:"10rem"},children:[e.jsx(tn,{count:4,data:t,ranges:nn(4,t),onSecondSleepDetailClick:o}),e.jsx(tn,{count:5,data:t,ranges:nn(5,t),onSecondSleepDetailClick:o}),e.jsx(tn,{count:6,data:t,ranges:nn(6,t),onSecondSleepDetailClick:o}),e.jsx(tn,{count:7,data:t,ranges:nn(7,t),onSecondSleepDetailClick:o}),e.jsx(tn,{count:8,data:t,ranges:nn(8,t),onSecondSleepDetailClick:o}),e.jsx($s,{data:s,open:n,onClose:i})]})}function Us(){const t={fieldIndex:0,strength:73120,bonus:1,secondSleep:!1},n=localStorage.getItem("ResearchCalcPokeSleep");if(n===null)return t;const r=JSON.parse(n);return typeof r!="object"||r==null||(typeof r.fieldIndex=="number"&&r.fieldIndex>=0&&r.fieldIndex<De.length&&(t.fieldIndex=r.fieldIndex),typeof r.strength=="number"&&r.strength>=0&&(t.strength=r.strength),typeof r.bonus=="number"&&[1,1.5,2,2.5,3,4].includes(r.bonus)&&(t.bonus=r.bonus),typeof r.secondSleep=="boolean"&&(t.secondSleep=r.secondSleep)),t}function qs(t){localStorage.setItem("ResearchCalcPokeSleep",JSON.stringify(t))}const Zs=Us();function Gs(){const[t,n]=w.useState(Zs),r=w.useCallback(s=>{const l={...t,...s};n(l),qs(l)},[t]),i=w.useCallback(s=>{r(s)},[r]);return e.jsxs("div",{style:{margin:"0 .5rem"},children:[e.jsx(Ts,{data:t,onChange:i}),e.jsx(Hs,{fieldIndex:t.fieldIndex}),e.jsx(Vs,{data:t})]})}class W{value;static allNatureNames=["Bashful","Hardy","Docile","Quirky","Serious","Bold","Impish","Lax","Relaxed","Timid","Hasty","Jolly","Naive","Lonely","Adamant","Naughty","Brave","Calm","Gentle","Careful","Sassy","Modest","Mild","Rash","Quiet"];static allNaturesCache=[];static neautralNatures=["Bashful","Hardy","Docile","Quirky","Serious"];static energyRecoveryUpNatures=["Bold","Impish","Lax","Relaxed"];static expGainsUpNatures=["Timid","Hasty","Jolly","Naive"];static speedOfHelpUpNatures=["Lonely","Adamant","Naughty","Brave"];static mainSkillChanceUpNatures=["Calm","Gentle","Careful","Sassy"];static ingredientFindingUpNatures=["Modest","Mild","Rash","Quiet"];static energyRecoveryDownNatures=["Hasty","Lonely","Gentle","Mild"];static expGainsDownNatures=["Relaxed","Brave","Sassy","Quiet"];static speedOfHelpDownNatures=["Bold","Timid","Calm","Modest"];static mainSkillChanceDownNatures=["Lax","Naive","Naughty","Rash"];static ingredientFindingDownNatures=["Impish","Jolly","Adamant","Careful"];static ampedNatures=["Hardy","Docile","Quirky","Lax","Impish","Hasty","Naive","Jolly","Brave","Naughty","Adamant","Sassy","Rash"];static lowKeyNatures=["Bashful","Serious","Relaxed","Bold","Timid","Lonely","Gentle","Calm","Careful","Mild","Quiet","Modest"];constructor(n){if(!W.allNatureNames.includes(n))throw new Error(`Invalid nature specified: ${n}`);this.value=n}get name(){return this.value}get energyRecoveryFactor(){return this.isEnergyRecoveryUp?1.2:this.isEnergyRecoveryDown?.88:1}get speedOfHelpFactor(){return this.isSpeedOfHelpUp?.9:this.isSpeedOfHelpDown?1.075:1}get mainSkillChanceFactor(){return this.isMainSkillChanceUp?1.2:this.isMainSkillChanceDown?.8:1}get ingredientFindingFactor(){return this.isIngredientFindingUp?1.2:this.isIngredientFindingDown?.8:1}get expGainsFactor(){return this.isExpGainsUp?1:this.isExpGainsDown?-1:0}get upEffect(){return this.isEnergyRecoveryUp?"Energy recovery":this.isExpGainsUp?"EXP gains":this.isIngredientFindingUp?"Ingredient finding":this.isMainSkillChanceUp?"Main skill chance":this.isSpeedOfHelpUp?"Speed of help":"No effect"}get downEffect(){return this.isEnergyRecoveryDown?"Energy recovery":this.isExpGainsDown?"EXP gains":this.isIngredientFindingDown?"Ingredient finding":this.isMainSkillChanceDown?"Main skill chance":this.isSpeedOfHelpDown?"Speed of help":"No effect"}get isNeautral(){return W.neautralNatures.includes(this.value)}get isEnergyRecoveryUp(){return W.energyRecoveryUpNatures.includes(this.value)}get isEnergyRecoveryDown(){return W.energyRecoveryDownNatures.includes(this.value)}get isSpeedOfHelpUp(){return W.speedOfHelpUpNatures.includes(this.value)}get isSpeedOfHelpDown(){return W.speedOfHelpDownNatures.includes(this.value)}get isMainSkillChanceUp(){return W.mainSkillChanceUpNatures.includes(this.value)}get isMainSkillChanceDown(){return W.mainSkillChanceDownNatures.includes(this.value)}get isIngredientFindingUp(){return W.ingredientFindingUpNatures.includes(this.value)}get isIngredientFindingDown(){return W.ingredientFindingDownNatures.includes(this.value)}get isExpGainsUp(){return W.expGainsUpNatures.includes(this.value)}get isExpGainsDown(){return W.expGainsDownNatures.includes(this.value)}get isAmped(){return W.ampedNatures.includes(this.value)}get isLowKey(){return W.lowKeyNatures.includes(this.value)}static get allNatures(){return W.allNaturesCache.length===0&&(W.allNaturesCache=W.allNatureNames.map(n=>new W(n))),[...W.allNaturesCache]}}class Ks{_iv;_wakeMax;constructor(n){this._iv=n,this._wakeMax=n.activeSubSkills.some(r=>r.name==="Energy Recovery Bonus")?105:100}calculate(n,r=$t,i=!1){if(n.period<0)return{sleepTime:0,events:[],efficiencies:[],canBeFullInventory:!1,timeToFullInventory:-1,skillProbabilityAfterWakeup:{once:0,twice:0},carryLimit:Math.ceil(this._iv.carryLimit*(n.isGoodCampTicketSet?1.2:1)),skillRatio:0,helpCount:{awake:0,asleepNotFull:0,asleepFull:0},averageEfficiency:{total:0,awake:0,asleep:0}};const s=n.sleepScore*510/100,l=this._iv.nature.energyRecoveryFactor,o=Math.min(this._wakeMax,Math.round(s/510*100)*l*(1+.14*n.recoveryBonusCount)),c=n.e4eEnergy*l,d=1440-s;let u,h;if(n.isEnergyAlwaysFull)u=[{minutes:0,type:"wake",energyBefore:100,energyAfter:100,isSnacking:!1,isInPeriod:!0},{minutes:d,type:"sleep",energyBefore:100,energyAfter:100,isSnacking:!1,isInPeriod:!0},{minutes:1440,type:"wake",energyBefore:100,energyAfter:100,isSnacking:!1,isInPeriod:!0}],h=[{start:0,end:d,isAwake:!0,efficiency:2.222,isSnacking:!1,isInPeriod:!0},{start:d,end:1440,isAwake:!1,efficiency:2.222,isSnacking:!1,isInPeriod:!0}];else{u=this.createEvents(n.e4eCount,d),this.calculateEnergyForEvents(u,c,o,o,r.energyFromDish);const S=u[u.length-1].energyAfter;this.calculateEnergyForEvents(u,c,o,S,r.energyFromDish),this.addEmptyEvent(u),h=this.calculateEfficiency(u,d)}n.period<24&&this.splitEventAndEfficiencyByPeriod(u,h,n);const m=this.calculateAverageEfficiency(h.filter(S=>S.isInPeriod)),g=this.calculateAverageEfficiency(h.filter(S=>S.isInPeriod&&S.isAwake)),p=this.calculateAverageEfficiency(h.filter(S=>S.isInPeriod&&!S.isAwake)),{carryLimit:y,skillRatio:x,timeToFullInventory:k,helpCount:j,skillProbabilityAfterWakeup:C}=this.calculateSneakySnacking(u,h,n,r,i),b=n.tapFrequency==="always"&&n.tapFrequencyAsleep==="none";return{sleepTime:d,events:u,efficiencies:h,canBeFullInventory:b,timeToFullInventory:k,carryLimit:y,skillRatio:x,helpCount:j,skillProbabilityAfterWakeup:C,averageEfficiency:{total:m,awake:g,asleep:p}}}createEvents(n,r){const i=[{minutes:0,type:"wake",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0},{minutes:120,type:"cook",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0},{minutes:360,type:"cook",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0},{minutes:720,type:"cook",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0}];for(let s=0;s<n;s++)i.push({minutes:Math.floor((s+1)*930/(n+1)/10)*10,type:"e4e",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0});return i.push({minutes:r,type:"sleep",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0}),i.push({minutes:1440,type:"wake",energyBefore:-1,energyAfter:-1,isSnacking:!1,isInPeriod:!0}),i.sort((s,l)=>s.minutes-l.minutes)}calculateEnergyForEvents(n,r,i,s,l){n[0].energyAfter=s;for(let o=1;o<n.length;o++){const c=n[o-1],d=n[o],u=(d.minutes-c.minutes)/10;if(d.energyBefore=Math.max(0,c.energyAfter-u),d.energyAfter=d.energyBefore,d.type==="cook")d.energyAfter+=this.getEnergyRecoveryForCook(d.energyBefore)+l;else if(d.type==="e4e")d.energyAfter=Math.min(150,d.energyAfter+r);else if(d.type==="wake")d.energyAfter=Math.min(this._wakeMax,d.energyAfter+i);else if(d.type==="sleep"){d.energyAfter=d.energyBefore;continue}else{if(d.type==="empty")continue;throw new Error(`unknown event type: ${d.type}`)}d.energyAfter=Math.ceil(d.energyAfter)}n[0].energyBefore=n[n.length-1].energyBefore}addEmptyEvent(n){for(let r=1;r<n.length;r++){const i=n[r-1],l=(n[r].minutes-i.minutes)/10;if(i.energyAfter>0&&i.energyAfter<l){const o=i.minutes+i.energyAfter*10;n.splice(r,0,{minutes:o,type:"empty",energyBefore:0,energyAfter:0,isSnacking:!1,isInPeriod:!0});continue}}}calculateEfficiency(n,r){const i=[];for(let s=1;s<n.length;s++){const l=n[s-1].energyAfter,o=n[s-1].minutes,c=n[s].minutes;let d=l,u=o;for(;;){if(d<=1){d=0;break}const h=d<=40?1:d%20===0?d-20:Math.floor(d/20)*20,m=u+(d-h)*10;if(m>c)break;i.push({start:u,end:m,efficiency:this.getEfficiencyByEnergy(d),isAwake:!0,isSnacking:!1,isInPeriod:!0}),d=h,u=m}i.push({start:u,end:c,efficiency:this.getEfficiencyByEnergy(d),isAwake:!0,isSnacking:!1,isInPeriod:!0})}for(let s=0;s<i.length-1;s++)i[s].efficiency===i[s+1].efficiency&&(i[s].end=i[s+1].end,i.splice(s+1,1),s--);for(let s=0;s<i.length;s++){if(i[s].end<=r){i[s].isAwake=!0;continue}if(i[s].start>=r){i[s].isAwake=!1;continue}const l={...i[s]};i[s].end=r,i[s].isAwake=!0,l.start=r,l.isAwake=!1,i.splice(s+1,0,l)}return i}splitEventAndEfficiencyByPeriod(n,r,i){const s=i.period*60;for(let l=0;l<n.length;l++){const o=n[l],c=n[l+1]??o;if(o.minutes<s){if(o.isInPeriod=!0,c.minutes<s)continue}else if(o.minutes>=s){o.isInPeriod=!1;continue}const d=i.isEnergyAlwaysFull?o.energyAfter:Math.max(0,o.energyAfter-(s-o.minutes)/10);n.splice(l+1,0,{minutes:s,type:"empty",energyBefore:d,energyAfter:d,isSnacking:o.isSnacking,isInPeriod:!1})}for(let l=0;l<r.length;l++){const o=r[l];if(o.start>=s){o.isInPeriod=!1;continue}if(o.end<s){o.isInPeriod=!0;continue}const c={...o};o.end=s,o.isInPeriod=!0,c.start=s,c.isInPeriod=!1,r.splice(l+1,0,c)}}calculateAverageEfficiency(n){let r=0,i=0;for(const s of n){const l=s.end-s.start;r+=s.efficiency*l,i+=l}return i===0?1:Math.round(r/i*1e3)/1e3}calculateSneakySnacking(n,r,i,s,l){if(this._iv.pokemon.frequency===0)return{carryLimit:this._iv.pokemon.carryLimit,skillRatio:0,timeToFullInventory:-1,skillProbabilityAfterWakeup:{once:0,twice:0},helpCount:{total:0,awake:0,asleepNotFull:0,asleepFull:0}};const o=i.isEnergyAlwaysFull,c=i.helpBonusCount+(this._iv.hasHelpingBonusInActiveSubSkills?1:0),d=i.isGoodCampTicketSet,u=i.tapFrequency==="none",h=i.tapFrequencyAsleep==="always",m=Xe(i.fieldIndex)&&!l,g=m&&i.favoriteType.includes(this._iv.pokemon.type),p=m&&i.favoriteType[0]===this._iv.pokemon.type,y=m&&!g,x=Math.ceil(this._iv.carryLimit*(d?1.2:1)),k=new ie(this._iv),j=k.getBaseFrequency(c,d,p,y),C=k.getBagUsagePerHelp(s.berry,s.ingredient,m&&g&&i.expertEffect==="ing");let b=x,S=9999,v=9999;const A=u||h?[]:r.filter(L=>!L.isAwake);for(const L of A){const T=L.end-L.start,O=j/L.efficiency,$=T*60/O,Z=C*$;if(Z<b){b-=Z;continue}S=b/C*O/60+L.start-A[0].start,v=S+A[0].start;break}for(let L=0;L<n.length;L++){const T=n[L];if(u||T.minutes>=v){T.isSnacking=!0;continue}if(L<n.length-1&&n[L+1].minutes>v){const O=o?100:Math.max(0,T.energyAfter-(v-T.minutes)/10);n.splice(L+1,0,{minutes:v,type:"snack",energyBefore:O,energyAfter:O,isSnacking:!1,isInPeriod:T.isInPeriod})}}for(let L=0;L<r.length;L++){const T=r[L];if(u||T.start>=v){T.isSnacking=!0;continue}if(v<T.end){const O=T.end;T.end=v,r.splice(L+1,0,{start:v,end:O,efficiency:T.efficiency,isAwake:T.isAwake,isSnacking:!0,isInPeriod:T.isInPeriod})}}S>1440&&(S=-1);const P=r.filter(L=>L.isInPeriod).reduce((L,T)=>L+(T.end-T.start)*60/j*T.efficiency,0),E=r.filter(L=>L.isInPeriod&&L.isAwake).reduce((L,T)=>L+(T.end-T.start)*60/j*T.efficiency,0),M=r.filter(L=>L.isInPeriod&&!L.isAwake&&!L.isSnacking).reduce((L,T)=>L+(T.end-T.start)*60/j*T.efficiency,0),N=r.filter(L=>L.isInPeriod&&!L.isAwake&&L.isSnacking).reduce((L,T)=>L+(T.end-T.start)*60/j*T.efficiency,0),D={once:0,twice:0},Q=Math.ceil(M),H=k.skillRatio*s.skillTrigger;if(Q>0){const L=Math.pow(1-H,Q);if(this._iv.pokemon.specialty!=="Skills"&&this._iv.pokemon.specialty!=="All")D.once=1-L;else{const T=Q*H*Math.pow(1-H,Q-1);D.once=T,D.twice=1-L-T}}return{carryLimit:x,skillRatio:H,timeToFullInventory:S,skillProbabilityAfterWakeup:D,helpCount:{total:P,awake:E,asleepNotFull:M,asleepFull:N}}}getEnergyRecoveryForCook(n){return n>80?1:n>60?2:n>40?3:n>20?4:5}getEfficiencyByEnergy(n){return n>80?2.222:n>60?1.923:n>40?1.724:n>1?1.515:1}}const fn=["Charge Strength S","Charge Strength M","Ingredient Magnet S","Energy for Everyone S","Charge Energy S","Energizing Cheer S","Cooking Power-Up S","Tasty Chance S","Extra Helpful S","Helper Boost","Dream Shard Magnet S","Metronome","Berry Burst","Skill Copy","Ingredient Draw S"],Cn=.86,Kt=.112,Xt=.028,wn=.1668;function Pe(t){return t==="Dream Shard Magnet S"||t==="Dream Shard Magnet S (Random)"?8:t==="Ingredient Magnet S"||t==="Ingredient Magnet S (Plus)"||t==="Charge Strength M"||t==="Charge Strength M (Bad Dreams)"||t==="Charge Strength S"||t==="Charge Strength S (Random)"||t==="Charge Strength S (Stockpile)"||t==="Extra Helpful S"||t==="Cooking Power-Up S"||t==="Cooking Power-Up S (Minus)"||t==="Metronome"||t==="Skill Copy (Transform)"||t==="Skill Copy (Mimic)"||t==="Ingredient Draw S (Super Luck)"||t==="Ingredient Draw S (Hyper Cutter)"?7:6}function ke(t,n,r=3){if(n!==Math.floor(n))throw new Error(`invalid skill level: ${n}`);if(n<0||n>Pe(t))throw new Error(`invalid main skill: ${t}, ${n}`);if(t==="Ingredient Magnet S")return[6,8,11,14,17,21,24][n-1];if(t==="Ingredient Magnet S (Plus)")return[5,7,9,11,13,16,18][n-1];if(t==="Charge Energy S"||t==="Charge Energy S (Moonlight)")return[12,16,21,27,34,43][n-1];if(t==="Charge Strength S")return[400,569,785,1083,1496,2066,3002][n-1];if(t==="Charge Strength S (Stockpile)")return[623.96,887.03,1224.08,1690.11,2232.54,3222.7,4681.77][n-1];if(t==="Charge Strength S (Random)")return[500,711.5,981.5,1354,1870,2582.5,3752.5][n-1];if(t==="Charge Strength M")return[880,1251,1726,2383,3290,4546,6409][n-1];if(t==="Charge Strength M (Bad Dreams)")return[2640,3753,5178,7149,9870,13638,17304][n-1];if(t==="Cooking Power-Up S")return[7,10,12,17,22,27,31][n-1];if(t==="Cooking Power-Up S (Minus)")return[5,7,9,12,16,20,24][n-1];if(t==="Energizing Cheer S")return[14,17,23,29,38,51][n-1];if(t==="Energy for Everyone S")return[5,7,9,11,15,18][n-1];if(t==="Energy for Everyone S (Lunar Blessing)")return[3,4,5,7,9,11][n-1];if(t==="Extra Helpful S")return[6,7,8,9,10,11,12][n-1];if(t==="Helper Boost")switch(r){case 1:return[2,3,3,4,4,5][n-1];case 2:return[2,3,3,4,5,6][n-1];case 3:return[3,4,5,6,7,8][n-1];case 4:return[4,5,6,7,8,9][n-1];case 5:return[6,7,8,9,10,11][n-1];default:throw new Error(`invalid species count: ${r}`)}return t==="Dream Shard Magnet S"?[240,340,480,670,920,1260,1800,2500][n-1]:t==="Dream Shard Magnet S (Random)"?[300,425,600,837.5,1150,1575,2250,2875][n-1]:t==="Tasty Chance S"?[4,5,6,7,8,10][n-1]:t==="Berry Burst (Disguise)"?[8,10,15,17,19,21][n-1]:t==="Berry Burst"?[11,14,21,24,27,30][n-1]:t==="Ingredient Draw S (Super Luck)"||t==="Ingredient Draw S (Hyper Cutter)"?[5,6,8,11,13,16,18][n-1]:[0,0,0,0,0,0,0][n-1]}function Ge(t,n,r){if(n!==Math.floor(n))throw new Error(`invalid skill level: ${n}`);if(n<0||n>Pe(t))throw new Error(`invalid main skill: ${t}, ${n}`);if(t.startsWith("Berry Burst"))return[1,2,2,3,4,5][n-1];if(t==="Ingredient Magnet S (Plus)"){if(r==="coffee")return[6,7,8,9,10,11,12][n-1];if(r==="milk")return[6,7,9,10,12,13,14][n-1];throw new Error(`invalid ingredient: ${r}`)}if(t==="Cooking Power-Up S (Minus)")return[8,10,13,17,23,30,35][n-1];if(t==="Ingredient Draw S (Super Luck)")return[500,720,1030,1440,2e3,2800,4e3][n-1];throw new Error(`This skill doesn’t have a sub-value: ${t}`)}function Xs(t,n){switch(t){case 1:switch(n){case 1:return{myBerryCount:5,othersBerryCount:1};case 2:return{myBerryCount:7,othersBerryCount:1};case 3:return{myBerryCount:9,othersBerryCount:1};case 4:return{myBerryCount:12,othersBerryCount:1};case 5:return{myBerryCount:14,othersBerryCount:2}}break;case 2:switch(n){case 1:return{myBerryCount:9,othersBerryCount:1};case 2:return{myBerryCount:12,othersBerryCount:1};case 3:return{myBerryCount:15,othersBerryCount:1};case 4:return{myBerryCount:16,othersBerryCount:2};case 5:return{myBerryCount:19,othersBerryCount:3}}break;case 3:switch(n){case 1:return{myBerryCount:13,othersBerryCount:1};case 2:return{myBerryCount:17,othersBerryCount:1};case 3:return{myBerryCount:18,othersBerryCount:2};case 4:return{myBerryCount:20,othersBerryCount:3};case 5:return{myBerryCount:24,othersBerryCount:4}}break;case 4:switch(n){case 1:return{myBerryCount:17,othersBerryCount:1};case 2:return{myBerryCount:19,othersBerryCount:2};case 3:return{myBerryCount:25,othersBerryCount:2};case 4:return{myBerryCount:28,othersBerryCount:3};case 5:return{myBerryCount:29,othersBerryCount:5}}break;case 5:switch(n){case 1:return{myBerryCount:21,othersBerryCount:1};case 2:return{myBerryCount:24,othersBerryCount:2};case 3:return{myBerryCount:27,othersBerryCount:3};case 4:return{myBerryCount:28,othersBerryCount:5};case 5:return{myBerryCount:30,othersBerryCount:7}}break;case 6:switch(n){case 1:return{myBerryCount:25,othersBerryCount:1};case 2:return{myBerryCount:29,othersBerryCount:2};case 3:return{myBerryCount:30,othersBerryCount:4};case 4:return{myBerryCount:31,othersBerryCount:6};case 5:return{myBerryCount:32,othersBerryCount:9}}break}throw new Error(`Lunar Blessing doesn’t have a sub-value: ${t}, ${n}`)}function Yn(t,n){switch(t){case"Charge Strength S (Random)":switch(n){case 1:return[200,800];case 2:return[285,1138];case 3:return[393,1570];case 4:return[542,2166];case 5:return[748,2992];case 6:return[1033,4132];case 7:return[1501,6004]}break;case"Charge Strength S (Stockpile)":switch(n){case 1:return[600,10980];case 2:return[853,15610];case 3:return[1177,21540];case 4:return[1625,29740];case 5:return[2243,41047];case 6:return[3099,56712];case 7:return[4502,82386]}break;case"Dream Shard Magnet S (Random)":switch(n){case 1:return[120,480];case 2:return[170,680];case 3:return[240,960];case 4:return[335,1340];case 5:return[460,1840];case 6:return[630,2520];case 7:return[900,3600];case 8:return[1150,4600]}break}return[0,0]}function xt(t,n){return!!(t.startsWith(n)||t==="Energy for Everyone S (Lunar Blessing)"&&n==="Berry Burst")}const hn=-2,mn=-1,fe=0,Js=["berry","ing","skill"],Qs=.1,Ys=1,ei=2.4,Jt=1,Qt=.5,ni=1.25,ti=.15,et={1:0,10:18,20:35,30:61,40:96,50:142,55:171,60:203,65:234};class Fe{iv;param;isWhistle;constructor(n,r,i){if(this.param=r,this.isWhistle=!1,r.period===fe&&(this.isWhistle=!0,this.param={...r,period:3,isEnergyAlwaysFull:!0,isGoodCampTicketSet:!1,tapFrequency:"always",tapFrequencyAsleep:"always"}),this.iv=this.changePokemonIv(n,i),Ae.find(l=>l.name===n.pokemonName)===void 0)throw new Error(`Unknown name: ${n.pokemonName}`)}get pokemonIv(){return this.iv}get parameter(){return this.param}changePokemonIv(n,r){const i=this.param;if(i.level!==0&&(n=n.changeLevel(i.level)),!i.evolved)return n;const s=n.decendants;if(s.length===0)return n;let l=s.find(o=>o.id===n.pokemon.id);return l!==void 0||(l=s.find(o=>o.id===r),l===void 0&&(l=s[0]),l.id!==n.pokemon.id&&(n=n.clone(l.name))),n}calculate(){const n=this.param,r=new ie(this.iv),i=r.level,s=Math.ceil(n.period/24),l=this.bonusEffects,o=new Ks(this.iv).calculate(n,l,this.isWhistle),c=n.period<0?-n.period:n.tapFrequency==="none"?0:(o.helpCount.awake+o.helpCount.asleepNotFull)*s,d=n.period<0?0:n.tapFrequency==="none"?(o.helpCount.awake+o.helpCount.asleepNotFull+o.helpCount.asleepFull)*s:o.helpCount.asleepFull*s,h=((n.recipeBonus===0?1:(1+n.recipeBonus/100)*(1+et[n.recipeLevel]/100))*.8+.2)*(1+n.fieldBonus/100)*l.dish,m=r.ingredientRatio,g=c*m,p=1+(i>=30&&r.ingredient2.count>0?1:0)+(i>=60&&r.ingredient3.count>0?1:0),y=n.period!==fe?l.ingredient:0,x={...r.ingredient1,strength:0,helpCount:r.ingredient1.count+y};x.count=g*(1/p)*x.helpCount,x.strength=ve[x.name]*x.count*h;const k={...r.ingredient2,strength:0,helpCount:r.ingredient2.count+y};k.count=i<30||k.count===0?0:g*(1/p)*k.helpCount,k.strength=ve[k.name]*k.count*h;let j;j={...r.ingredient3,strength:0,helpCount:r.ingredient3.count+y},j.count=i<60||j.count===0?0:g*(1/p)*j.helpCount,j.strength=ve[j.name]*j.count*h;const C=x.strength+k.strength+j.strength,b={},S=[];b[x.name]={...x},S.push(x.name),k.count>0&&(k.name in b||(b[k.name]={name:k.name,count:0,helpCount:0,strength:0},S.push(k.name)),b[k.name].count+=k.count,b[k.name].helpCount+=k.helpCount,b[k.name].strength+=k.strength),j!==void 0&&j.count>0&&(j.name in b||(b[j.name]={name:j.name,count:0,helpCount:0,strength:0},S.push(j.name)),b[j.name].count+=j.count,b[j.name].helpCount+=j.helpCount,b[j.name].strength+=j.strength);const v=S.map(qe=>b[qe]),A=this.iv.pokemon.frequency>0?1-m:0,P=c+d-g,E=r.berryCount,M=r.berryCount+l.berry,N=r.berryStrength,D=Math.ceil(N*(1+n.fieldBonus/100)),Q=Math.ceil(D*this.berryStrengthBonus),H=Q*M*(c*(1-m))+ +Q*E*d,L=o.skillRatio;let T=0,O=0,$=0,Z=0,ce=0,G=0,J=0;if(n.period>0&&!this.isWhistle&&n.tapFrequency!=="none"){if(n.tapFrequencyAsleep==="always")T=(o.helpCount.awake+o.helpCount.asleepNotFull)*L*s;else{const qe=o.helpCount.awake*L,Wn=o.skillProbabilityAfterWakeup.once+o.skillProbabilityAfterWakeup.twice*2;T=(qe+Wn)*s}({skillValue:O,skillStrength:$,skillValuePerTrigger:Z,skillValue2:ce,skillStrength2:G,skillValuePerTrigger2:J}=this.getSkillValueAndStrength(T,n,l))}let en=(n.totalFlags[1]?C:0)+(n.totalFlags[0]?H:0)+(n.totalFlags[2]?$+G:0),Dn=0;if(n.addHelpingBonusEffect&&this.pokemonIv.hasHelpingBonusInActiveSubSkills){const qe=1-.05*n.helpBonusCount,Wn=1-.05*(n.helpBonusCount+1),Ir=qe/Wn-1;Dn=en*Ir*4,en+=Dn}return{bonus:l,energy:o,totalStrength:en,helpingBonusStrength:Dn,notFullHelpCount:c,fullHelpCount:d,ingRatio:m,ingHelpCount:g,ingStrength:C,ing1:x,ing2:k,ing3:j,ingredients:v,berryRatio:A,berryHelpCount:P,berryCount:E,berryStrength:D,berryRawStrength:N,berryTotalStrength:H,skillRatio:L,skillCount:T,skillValue:O,skillStrength:$,skillValuePerTrigger:Z,skillValue2:ce,skillStrength2:G,skillValuePerTrigger2:J}}getSkillValueAndStrength(n,r,i){const s=this.iv.pokemon.skill,l=this.getSkillLevel(),o=Math.ceil(r.period/24);let c=ke(s,l);s.startsWith("Ingredient Magnet S")&&(c=Math.floor(c*i.ingredientMagnet)),s.startsWith("Ingredient Draw S")&&(c=Math.floor(c*i.ingredientDraw)),s.startsWith("Dream Shard Magnet S")&&(c*=i.dreamShard);let d=1;s==="Charge Energy S"&&(d=this.iv.nature.energyRecoveryFactor);const u=c*d,h=u*n,m=300*(1+r.fieldBonus/100),g=(1+r.fieldBonus/100)*i.dish;switch(s){case"Charge Energy S":case"Charge Energy S (Moonlight)":case"Energizing Cheer S":case"Energy for Everyone S":return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Energy for Everyone S (Lunar Blessing)":{const p=yn(this.iv,r,i.berryBurst,l);return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:p.total*n,skillStrength2:p.total*n,skillValuePerTrigger2:p.total}}case"Dream Shard Magnet S":case"Dream Shard Magnet S (Random)":return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Charge Strength M":case"Charge Strength M (Bad Dreams)":case"Charge Strength S":case"Charge Strength S (Random)":case"Charge Strength S (Stockpile)":{const p=h*(1+r.fieldBonus/100);return{skillValue:p,skillStrength:p,skillValuePerTrigger:c*(1+r.fieldBonus/100),skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0}}case"Extra Helpful S":return{skillValue:h,skillStrength:h*m,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Helper Boost":return{skillValue:h,skillStrength:h*m*5,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Berry Burst (Disguise)":{const p=yn(this.iv,r,i.berryBurst,l),y=1-Math.pow(1-.18,n/o),x=p.total*n+p.total*y*2;return{skillValue:x,skillStrength:x,skillValuePerTrigger:p.total,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0}}case"Berry Burst":{const p=yn(this.iv,r,i.berryBurst,l);return{skillValue:p.total*n,skillStrength:p.total*n,skillValuePerTrigger:p.total,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0}}case"Ingredient Magnet S (Plus)":{let p=Ge(s,l,this.pokemonIv.pokemon.ing1.name);return p=Math.floor(p*i.ingredientMagnet),{skillValue:h,skillStrength:h*Mt*g,skillValuePerTrigger:u,skillValue2:p*n,skillStrength2:p*ve[this.iv.pokemon.ing1.name]*g,skillValuePerTrigger2:p}}case"Cooking Power-Up S (Minus)":{const p=Ge(s,l);return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:p*n,skillStrength2:0,skillValuePerTrigger2:p}}case"Ingredient Magnet S":return{skillValue:h,skillStrength:h*Mt*g,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Ingredient Draw S (Super Luck)":{const y=Ge(s,l),x=y*Kt+y*5*Xt;return{skillValue:h*Cn,skillStrength:h*Cn*123.75*g,skillValuePerTrigger:u,skillValue2:x*n,skillStrength2:0,skillValuePerTrigger2:x}}case"Ingredient Draw S (Hyper Cutter)":return{skillValue:h*(1+wn),skillStrength:h*130.75*g*(1+wn),skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Cooking Power-Up S":case"Tasty Chance S":return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};case"Metronome":case"Skill Copy":case"Skill Copy (Transform)":case"Skill Copy (Mimic)":return{skillValue:n,skillStrength:0,skillValuePerTrigger:1,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0};default:return{skillValue:h,skillStrength:0,skillValuePerTrigger:u,skillValue2:0,skillStrength2:0,skillValuePerTrigger2:0}}}getSkillLevel(){const n=this.param,r=Pe(this.iv.pokemon.skill),i=this.bonusEffects;let s=Math.min(r,this.iv.skillLevel+i.skillLevel);return n.maxSkillLevel&&(s=r),s}get bonusEffects(){const n=this.param;if(this.isWhistle)return{...$t,skillTriggerReason:"none",skillLevelReason:"none",ingredientReason:"none"};const r=We(n.event,n.customEventBonus),i=Ar(n.event,n.customEventBonus,this.iv.pokemon),s=Xe(n.fieldIndex),l=s&&n.favoriteType[0]===this.iv.pokemon.type,o=s&&n.favoriteType.includes(this.iv.pokemon.type),c=s&&l?Ys:0,d=s&&o&&this.param.expertEffect==="ing"&&(this.iv.pokemon.specialty==="Ingredients"||this.iv.pokemon.specialty==="All")?Qt:0,u=s&&o&&this.param.expertEffect==="ing"?Jt+d:0,h=s&&o&&this.param.expertEffect==="skill"?ni:1,m=i?.skillTrigger??1,g=i?.skillLevel??0,p=i?.ingredient??0;return{skillTrigger:Math.max(h,m),skillTriggerReason:h>m?"ex":"event",skillLevel:c+g,skillLevelReason:c*g!==0?"event+ex":c>0?"ex":"event",berry:i?.berry??0,ingredient:Math.max(u,p),ingredientReason:u>p?"ex":"event",dreamShard:r?.dreamShard??1,ingredientMagnet:r?.ingredientMagnet??1,ingredientDraw:r?.ingredientDraw??1,berryBurst:r?.berryBurst??1,dish:r?.dish??1,energyFromDish:r?.energyFromDish??0}}get berryStrengthBonus(){return Xe(this.param.fieldIndex)&&this.param.expertEffect==="berry"&&this.param.favoriteType.includes(this.iv.pokemon.type)?ei:this.isFavoriteBerry?2:1}get isFavoriteBerry(){if(this.param.fieldIndex===mn)return!1;if(this.param.fieldIndex===hn)return!0;const{types:n}=ft(this.param);return n.includes(this.iv.pokemon.type)}}function ft(t){const n=We(t.event,t.customEventBonus),r=n?.fixedBerries??[],i=n?.fixedAreas??[],s=Fr(t.fieldIndex);let l=[],o=["random","random","random"];if(i.includes(t.fieldIndex)&&r.length===3){for(let c=0;c<3;c++)r[c]===null?o[c]="random":o[c]="set for event";l=[...t.favoriteType]}else s.length===3?(o=["set for field","set for field","set for field"],l=s):l=t.favoriteType;return{types:l,reasons:o}}function jt(t){return{...{period:24,fieldBonus:0,fieldIndex:mn,favoriteType:["normal","fire","water"],helpBonusCount:0,e4eEnergy:18,e4eCount:3,recoveryBonusCount:0,isEnergyAlwaysFull:!1,sleepScore:100,isGoodCampTicketSet:!1,expertEffect:"berry",event:"none",level:0,evolved:!1,maxSkillLevel:!1,totalFlags:[!0,!0,!0],addHelpingBonusEffect:!0,tapFrequency:"always",tapFrequencyAsleep:"none",recipeBonus:25,recipeLevel:30,helperBoostLevel:6,helperBoostSpecies:4,berryBurstTeam:{auto:!0,species:3,members:[{type:"electric",level:50},{type:"water",level:50},{type:"bug",level:50},{type:"psychic",level:50}]},customEventBonus:{target:{},effects:{berry:0,skillTrigger:1,skillLevel:0,ingredient:0,dreamShard:1,ingredientMagnet:1,ingredientDraw:1,berryBurst:1,dish:1,energyFromDish:0,fixedAreas:[],fixedBerries:[]}}},...t}}function Yt(t,n){if(!n.berryBurstTeam.auto)return n.berryBurstTeam.members;const r=t.level,i=ft(n).types,s=i.filter(o=>o!==t.pokemon.type),l=i.find(o=>o==="psychic"||o==="electric"||o==="fairy")??"psychic";return[{type:t.pokemon.type,level:r},{type:s.length>0?s[0]:i[0],level:r},{type:"steel",level:r},{type:l,level:r}]}function yn(t,n,r,i){const s=i??t.skillLevel,l=Yt(t,n);let o,c;switch(t.pokemon.skill){case"Berry Burst":case"Berry Burst (Disguise)":o=Math.ceil(r*ke(t.pokemon.skill,s)),c=Math.ceil(r*Ge(t.pokemon.skill,s));break;case"Energy for Everyone S (Lunar Blessing)":{const m=Xs(s,n.berryBurstTeam.auto?l.filter(g=>g.type===t.pokemon.type).length:n.berryBurstTeam.species);o=Math.floor(m.myBerryCount),c=Math.floor(m.othersBerryCount);break}default:throw new Error(`Invalid skill: ${t.pokemon.skill}`)}const d=[t.level,l[0].level,l[1].level,l[2].level,l[3].level],u=[t.pokemon.type,l[0].type,l[1].type,l[2].type,l[3].type],h={total:0,members:[]};for(let m=0;m<5;m++){const g=new le(Ae.find(j=>j.type===u[m])?.name??"Bulbasaur");g.level=d[m];const p=new ie(g).berryStrength,y=Math.ceil(Math.ceil(p*(1+n.fieldBonus/100))*new Fe(g,n).berryStrengthBonus),x=m===0?o:c,k=y*x;h.total+=k,h.members.push({total:k,perBerry:y,count:x})}return h}function er(t,n,r){return new ie(n.pokemonIv).getBagUsagePerHelp(r.bonus.berry,r.bonus.ingredient,!1)*Math.abs(t.period)}function nr(t,n){const r=new ie(t.pokemonIv).getBagUsagePerHelp(n.bonus.berry,n.bonus.ingredient,!1);return(999-n.energy.carryLimit)/r}function tr(t,n,r){const i=nr(n,r),s=ke("Helper Boost",t.helperBoostLevel,t.helperBoostSpecies);return i/s}function ri(){const t=jt({}),n=localStorage.getItem("PstStrenghParam");if(n===null)return t;const r=JSON.parse(n);if(typeof r!="object"||r===null)return t;if(typeof r.period=="number"&&[1,3,8,16,24,168,fe,-10,-30,-100].includes(r.period)&&(t.period=r.period),typeof r.fieldBonus=="number"&&Math.floor(r.fieldBonus)===r.fieldBonus&&r.fieldBonus>=0&&r.fieldBonus<=100&&(t.fieldBonus=Math.floor(r.fieldBonus)),typeof r.fieldIndex=="number"&&Math.floor(r.fieldIndex)===r.fieldIndex&&r.fieldIndex>=hn&&r.fieldIndex<De.length&&(t.fieldIndex=r.fieldIndex),Array.isArray(r.favoriteType)&&r.favoriteType.length===3&&r.favoriteType.every(s=>Ee.includes(s))&&(t.favoriteType=r.favoriteType),typeof r.helpBonusCount=="number"&&Math.floor(r.helpBonusCount)===r.helpBonusCount&&r.helpBonusCount>=0&&r.helpBonusCount<=4&&(t.helpBonusCount=r.helpBonusCount),typeof r.isGoodCampTicketSet=="boolean"&&(t.isGoodCampTicketSet=r.isGoodCampTicketSet),typeof r.expertEffect=="string"&&Js.includes(r.expertEffect)&&(t.expertEffect=r.expertEffect),typeof r.level=="number"&&[0,10,25,30,50,55,60,75,100].includes(r.level)&&(t.level=r.level),typeof r.evolved=="boolean"&&(t.evolved=r.evolved),typeof r.maxSkillLevel=="boolean"&&(t.maxSkillLevel=r.maxSkillLevel),Array.isArray(r.totalFlags)&&r.totalFlags.length===3&&r.totalFlags.every(s=>typeof s=="boolean")&&(t.totalFlags=r.totalFlags),typeof r.addHelpingBonusEffect=="boolean"?t.addHelpingBonusEffect=r.addHelpingBonusEffect:t.addHelpingBonusEffect=!0,typeof r.e4eEnergy=="number"&&[5,7,9,11,15,18].includes(r.e4eEnergy)&&(t.e4eEnergy=r.e4eEnergy),typeof r.e4eCount=="number"&&r.e4eCount>=0&&r.e4eCount<=10&&(t.e4eCount=r.e4eCount),typeof r.recoveryBonusCount=="number"&&r.recoveryBonusCount>=0&&r.recoveryBonusCount<=5&&(t.recoveryBonusCount=Math.min(r.recoveryBonusCount,4)),typeof r.isEnergyAlwaysFull=="boolean"&&(t.isEnergyAlwaysFull=r.isEnergyAlwaysFull),typeof r.sleepScore=="number"&&0<=r.sleepScore&&r.sleepScore<=100&&(t.sleepScore=r.sleepScore),typeof r.tapFrequency=="string"&&["always","none"].includes(r.tapFrequency)&&(t.tapFrequency=r.tapFrequency),typeof r.tapFrequencyAsleep=="string"&&["always","none"].includes(r.tapFrequencyAsleep)&&(t.tapFrequencyAsleep=r.tapFrequencyAsleep),typeof r.recipeBonus=="number"&&[0,6,11,17,19,20,25,35,48,61].includes(r.recipeBonus)&&((r.recipeBonus===6||r.recipeBonus===11)&&(r.recipeBonus=19),r.recipeBonus===17&&(r.recipeBonus=21),t.recipeBonus=r.recipeBonus),typeof r.recipeLevel=="number"&&[1,10,20,30,40,50,55,60,65].includes(r.recipeLevel)&&(t.recipeLevel=r.recipeLevel),typeof r.helperBoostLevel=="number"&&r.helperBoostLevel>0&&r.helperBoostLevel<=Pe("Helper Boost")&&(t.helperBoostLevel=r.helperBoostLevel),typeof r.helperBoostSpecies=="number"&&r.helperBoostSpecies>0&&r.helperBoostSpecies<=6&&(t.helperBoostSpecies=r.helperBoostSpecies),typeof r.recipeLevel=="number"&&[1,10,20,30,40,50,55,60,65].includes(r.recipeLevel)&&(t.recipeLevel=r.recipeLevel),typeof r.berryBurstTeam=="object"&&(typeof r.berryBurstTeam.auto=="boolean"&&(t.berryBurstTeam.auto=r.berryBurstTeam.auto),Array.isArray(r.berryBurstTeam.members)))for(let s=0;s<4;s++)typeof r.berryBurstTeam.members[s]=="object"&&(Ee.includes(r.berryBurstTeam.members[s].type)&&(t.berryBurstTeam.members[s].type=r.berryBurstTeam.members[s].type),r.berryBurstTeam.members[s].level>0&&r.berryBurstTeam.members[s].level<=100&&(t.berryBurstTeam.members[s].level=r.berryBurstTeam.members[s].level));const i=Jn.bonus.map(s=>s.name);return typeof r.event=="string"&&["none","custom",...i].includes(r.event)&&(t.event=r.event),typeof r.customEventBonus=="object"&&(t.customEventBonus=Lr(r.customEventBonus)),t}const ye=65,ve={leek:185,mushroom:167,egg:115,potato:124,apple:90,herb:130,sausage:103,milk:98,honey:101,oil:121,ginger:109,tomato:110,cacao:151,tail:342,soy:100,corn:140,coffee:153,pumpkin:250,unknown:0,unknown1:0,unknown2:0,unknown3:0},Mt=(()=>{const t=Object.entries(ve).filter(([r])=>!r.startsWith("unknown"));return t.reduce((r,[,i])=>r+i,0)/t.length})(),si={normal:28,fire:27,water:31,electric:25,grass:30,ice:32,fighting:27,poison:32,ground:29,flying:24,psychic:26,bug:24,rock:30,ghost:26,dragon:35,dark:31,steel:33,fairy:26},Et=["AAA","AAB","AAC","ABA","ABB","ABC"];class ie{_pokemonName;_pokemon;level;skillLevel;ingredient;subSkills;nature;ribbon;mythIng1;mythIng2;mythIng3;get pokemonName(){return this._pokemonName}get pokemon(){return this._pokemon}get isMythical(){return this._pokemon.mythIng!==void 0}constructor(n){this._pokemonName=n.pokemonName,this._pokemon=n.pokemon,this.level=n.level,this.skillLevel=n.skillLevel,this.ingredient=n.ingredient,this.subSkills=n.subSkills,this.nature=n.nature,this.ribbon=n.ribbon,this.mythIng1=n.mythIng1,this.mythIng2=n.mythIng2,this.mythIng3=n.mythIng3}calculate(){const n=this.frequency,r=this.bonus,i=this.ingredientRp,s=this.berryRp,l=this.skillRp;return{rp:Math.round((Ne(i)+Ne(s)+Ne(l))*Ne(r)/1e4),frequency:n,ingredientRp:xe(i*r,1),berryRp:xe(s*r,1),skillRp:xe(l*r,1)}}get Rp(){return Math.round((Ne(this.ingredientRp)+Ne(this.berryRp)+Ne(this.skillRp))*Ne(this.bonus)/1e4)}get activeSubSkills(){return this.subSkills.getActiveSubSkills(this.level)}get helpCountPer5Hour(){const n=this.frequency;return n===0?0:5*xe(3600/n,2)}get frequency(){const n=this.level===10&&this._pokemon.frequency===2600?.1:0;return this._pokemon.frequency*xe((501-this.level)/500*(this.nature?.speedOfHelpFactor??1)*this.speedOfRibbonFactor*(1-this.activeSubSkills.reduce((r,i)=>r+i.helpingSpeed,0)*.07),4)-n}get speedOfRibbonFactor(){if(this.pokemon.evolutionLeft===0)return 1;if(this.ribbon>=4)switch(this.pokemon.evolutionLeft){case 2:return .75;case 1:return .88}if(this.ribbon>=2)switch(this.pokemon.evolutionLeft){case 2:return .89;case 1:return .95}return 1}frequencyWithHelpingBonus(n){const r=this.activeSubSkills.reduce((s,l)=>s+l.helpingSpeed,0)*.07,i=Math.min(r+.05*n,.35);return this._pokemon.frequency*xe((501-this.level)/500*(this.nature?.speedOfHelpFactor??1)*this.speedOfRibbonFactor*(1-i),4)}getBaseFrequency(n,r,i,s){return this.frequencyWithHelpingBonus(n)/(r?1.2:1)*(i?1-Qs:1)*(s?1+ti:1)}get hasHelpingBonusInActiveSubSkills(){return this.activeSubSkills.some(n=>n.name==="Helping Bonus")}get bonus(){return xe(this.energyBonus*this.subSkillBonus,2)}get energyBonus(){return this.nature?.isEnergyRecoveryUp?1.08:this.nature?.isEnergyRecoveryDown?.92:1}get subSkillBonus(){let n=0;for(const r of this.activeSubSkills){switch(r.inventory){case 3:n+=.181;break;case 2:n+=.139;break;case 1:n+=.071;break}r.isBonus&&(n+=.221)}return 1+n}get ingredientRp(){return xe(this.helpCountPer5Hour*this.ingredientRatio*this.ingredientEnergy*this.ingredientG,2)}get ingredientRatio(){return xe(this._pokemon.ingRatio/100*(this.nature?.ingredientFindingFactor??1)*(1+this.activeSubSkills.reduce((n,r)=>n+r.ingredientFinder,0)*.18),4)}get ingredientEnergy(){const n=this.ingredient1,r=ve[n.name]*n.count;let i=1;if(this.level<30)return r;const s=this.ingredient2,l=ve[s.name]*s.count;if(l>0&&i++,this.level<60)return Math.floor((r+l)/i);const o=this.ingredient3,c=ve[o.name]*o.count;return c>0&&i++,Math.floor((r+l+c)/i)}get ingredient1(){return this._pokemon.mythIng!==void 0?{name:this.mythIng1??"unknown",count:this._pokemon.mythIng.find(n=>n.name===this.mythIng1)?.c1??0}:{name:this._pokemon.ing1.name??"unknown",count:this._pokemon.ing1.c1}}get ingredient2(){if(this._pokemon.mythIng!==void 0)return{name:this.mythIng2??"unknown",count:this._pokemon.mythIng.find(r=>r.name===this.mythIng2)?.c2??0};const n=this.ingredient.charAt(1)==="A"?this._pokemon.ing1:this._pokemon.ing2;return{name:n.name,count:n.c2}}get ingredient3(){if(this._pokemon.mythIng!==void 0)return{name:this.mythIng3??"unknown",count:this._pokemon.mythIng.find(r=>r.name===this.mythIng3)?.c3??0};const n=this.ingredient.charAt(2)==="A"?this._pokemon.ing1:this.ingredient.charAt(2)==="B"?this._pokemon.ing2:this._pokemon.ing3;if(n===void 0)throw new Error("this pokemon doesn't have 3rd ing");return{name:n.name,count:n.c3}}get ingredientG(){const n=[1,1.003,1.007,1.011,1.016,1.021,1.027,1.033,1.039,1.046,1.053,1.061,1.069,1.077,1.085,1.094,1.104,1.114,1.124,1.134,1.145,1.156,1.168,1.18,1.192,1.205,1.218,1.231,1.245,1.259,1.274,1.288,1.303,1.319,1.335,1.351,1.368,1.385,1.402,1.42,1.439,1.457,1.477,1.496,1.517,1.537,1.558,1.58,1.602,1.625,1.648,1.671,1.696,1.72,1.745,1.771,1.798,1.824,1.852,1.88,1.927,1.975,2.024,2.075,2.127,2.18,2.234,2.289,2.345,2.402,2.46,2.519,2.579,2.64,2.702,2.765,2.829,2.894,2.96,3.027,3.095,3.164,3.234,3.305,3.377,3.45,3.524,3.599,3.675,3.752,3.83,3.909,3.989,4.07,4.152,4.235,4.319,4.404,4.49,4.577];return this.level-1<n.length?n[this.level-1]:398e-9*Math.pow(this.level,3)+159e-6*Math.pow(this.level,2)+.00367*this.level-.00609+1}getBagUsagePerHelp(n,r,i){const s=this.berryCount+n,l=this.ingredientRatio;let o=r;i&&(o+=Jt,this.pokemon.specialty==="Ingredients"&&(o+=Qt));const c=this.level<30?this.ingredient1.count+o:this.level<60?(this.ingredient1.count+this.ingredient2.count+o)/2:(this.ingredient1.count+this.ingredient2.count+this.ingredient3.count+o)/3;return(1-l)*s+l*c}get berryRp(){return xe(this.helpCountPer5Hour*this.berryRatio*this.berryStrength*this.berryCount,2)}get berryRatio(){return this.ingredientRatio>0?1-this.ingredientRatio:0}get berryCount(){return(this._pokemon.specialty==="Berries"||this._pokemon.specialty==="All"?2:1)+(this.activeSubSkills.some(r=>r.isBFS)?1:0)}get berryStrength(){const n=si[this._pokemon.type];return Math.max(n+this.level-1,Math.round(Math.pow(1.025,this.level-1)*n))}get skillRp(){return xe(this.helpCountPer5Hour*this.skillRatio*this.skillValue,2)}get skillRatio(){return xe(this._pokemon.skillRatio/100*(this.nature?.mainSkillChanceFactor??1)*(1+this.activeSubSkills.reduce((n,r)=>n+r.skillTrigger,0)*.18),4)}get skillValue(){return this._pokemon.skill==="Charge Strength S"||this._pokemon.skill==="Charge Strength S (Random)"||this._pokemon.skill==="Charge Energy S"?[400,569,785,1083,1496,2066,2656][this.skillLevel-1]:this._pokemon.skill==="Charge Energy S (Moonlight)"?[560,797,1099,1516,2094,2892][this.skillLevel-1]:this._pokemon.skill==="Charge Strength S (Stockpile)"||this._pokemon.skill==="Skill Copy (Transform)"||this._pokemon.skill==="Skill Copy (Mimic)"?[600,853,1177,1625,2243,3099,3984][this.skillLevel-1]:this._pokemon.skill==="Energy for Everyone S"?[1120,1593,2197,3033,4187,5785][this.skillLevel-1]:this._pokemon.skill==="Helper Boost"?[2800,3902,5273,6975,9317,12438][this.skillLevel-1]:this._pokemon.skill==="Berry Burst (Disguise)"||this._pokemon.skill==="Berry Burst"||this._pokemon.skill==="Energy for Everyone S (Lunar Blessing)"?[1400,1991,2747,3791,5234,7232][this.skillLevel-1]:this._pokemon.skill==="Charge Strength M (Bad Dreams)"?[2400,3313,4643,6441,8864,11878,13140][this.skillLevel-1]:this._pokemon.skill==="Energizing Cheer S"?[766,1089,1502,2074,2863,3956][this.skillLevel-1]:[880,1251,1726,2383,3290,4546,5843,7303][this.skillLevel-1]}}function xe(t,n){const r=Math.pow(10,n),i=parseFloat((t*r).toFixed(6));return Math.floor(i)/r}function Ne(t){return parseFloat((t*100).toFixed(6))}class q{value;static goldSubSkillNames=["Berry Finding S","Dream Shard Bonus","Energy Recovery Bonus","Helping Bonus","Research EXP Bonus","Skill Level Up M","Sleep EXP Bonus"];static blueSubSkillNames=["Helping Speed M","Ingredient Finder M","Inventory Up L","Inventory Up M","Skill Level Up S","Skill Trigger M"];static whiteSubSkillNames=["Helping Speed S","Ingredient Finder S","Inventory Up S","Skill Trigger S"];static subSkillNames=[...this.goldSubSkillNames,...this.blueSubSkillNames,...this.whiteSubSkillNames];static allSubSkillsCache=[];constructor(n){if(!q.subSkillNames.includes(n))throw new Error(`Invalid subskill specified: ${n}`);this.value=n}get name(){return this.value}get isGold(){return q.goldSubSkillNames.includes(this.value)}get isBlue(){return q.blueSubSkillNames.includes(this.value)}get isWhite(){return q.whiteSubSkillNames.includes(this.value)}get index(){return q.allSubSkills.findIndex(n=>n.name===this.name)}get skillLevelUp(){switch(this.value){case"Skill Level Up M":return 2;case"Skill Level Up S":return 1;default:return 0}}get skillTrigger(){switch(this.value){case"Skill Trigger M":return 2;case"Skill Trigger S":return 1;default:return 0}}get inventory(){switch(this.value){case"Inventory Up L":return 3;case"Inventory Up M":return 2;case"Inventory Up S":return 1;default:return 0}}get helpingSpeed(){switch(this.value){case"Helping Speed M":return 2;case"Helping Speed S":return 1;default:return 0}}get ingredientFinder(){switch(this.value){case"Ingredient Finder M":return 2;case"Ingredient Finder S":return 1;default:return 0}}get isBFS(){return this.value==="Berry Finding S"}get isBonus(){switch(this.value){case"Helping Bonus":return!0;case"Sleep EXP Bonus":return!0;case"Dream Shard Bonus":return!0;case"Research EXP Bonus":return!0;case"Energy Recovery Bonus":return!0;default:return!1}}static get allSubSkillNames(){return[...this.subSkillNames]}static get allSubSkills(){return q.allSubSkillsCache.length===0&&(q.allSubSkillsCache=q.subSkillNames.map(n=>new q(n))),[...q.allSubSkillsCache]}}class Le{value;constructor(n){n===void 0?this.value=[null,null,null,null,null]:n instanceof Array?this.value=n:this.value=[...n.value]}set(n,r){const i=this.getIndex(n);if(r!==null){const s=this.getSubSkillIndex(r);s>=0&&(this.value[s]=this.value[i])}this.value[i]=r}clone(){const n=new Le;return n.value=[...this.value],n}isEqual(n){return this.lv10?.name===n.lv10?.name&&this.lv25?.name===n.lv25?.name&&this.lv50?.name===n.lv50?.name&&this.lv75?.name===n.lv75?.name&&this.lv100?.name===n.lv100?.name}getActiveSubSkills(n){const r=[];return n<10||(this.value[0]!==null&&r.push(this.value[0]),n<25)||(this.value[1]!==null&&r.push(this.value[1]),n<50)||(this.value[2]!==null&&r.push(this.value[2]),n<75)||(this.value[3]!==null&&r.push(this.value[3]),n<100)||this.value[4]!==null&&r.push(this.value[4]),r}getSubSkillIndex(n){return n===null?-1:this.value[0]?.name===n.name?0:this.value[1]?.name===n.name?1:this.value[2]?.name===n.name?2:this.value[3]?.name===n.name?3:this.value[4]?.name===n.name?4:-1}getSubSkillLevel(n){switch(this.getSubSkillIndex(n)){case 0:return 10;case 1:return 25;case 2:return 50;case 3:return 75;case 4:return 100;default:return-1}}getIndex(n){switch(n){case 10:return 0;case 25:return 1;case 50:return 2;case 75:return 3;case 100:return 4;default:return-1}}get lv10(){return this.value[0]}set lv10(n){this.set(10,n)}get lv25(){return this.value[1]}set lv25(n){this.set(25,n)}get lv50(){return this.value[2]}set lv50(n){this.set(50,n)}get lv75(){return this.value[3]}set lv75(n){this.set(75,n)}get lv100(){return this.value[4]}set lv100(n){this.set(100,n)}}class le{pokemonName;pokemon;level;skillLevel;ingredient;subSkills;nature;ribbon;mythIng1;mythIng2;mythIng3;constructor(n){this.pokemonName=n;const r=Ae.find(i=>i.name===n);if(r===void 0)throw new Error(`Unknown name: ${n}`);this.pokemon=r,this.level=30,this.skillLevel=Math.max(r.evolutionCount+1,1),this.ingredient=r.ing3!==void 0?"ABC":"ABB",this.subSkills=new Le,this.nature=new W(n==="Toxtricity (Amped)"?"Hardy":"Serious"),this.ribbon=0,this.mythIng1=this.mythIng2=this.mythIng3="unknown",this.isMythical&&(this.mythIng1="sausage")}get isMythical(){return this.pokemon.mythIng!==void 0}get activeSubSkills(){return this.subSkills.getActiveSubSkills(this.level)}clone(n){const r=new le(n??this.pokemonName);if(r.level=this.level,r.skillLevel=this.skillLevel,this.pokemon.id!==r.pokemon.id){const i=Math.max(0,r.pokemon.evolutionCount)-Math.max(0,this.pokemon.evolutionCount);r.skillLevel+=i}return r.ingredient=this.ingredient,r.subSkills=this.subSkills.clone(),r.nature=this.nature,r.ribbon=this.ribbon,r.mythIng1=this.mythIng1,r.mythIng2=this.mythIng2,r.mythIng3=this.mythIng3,r.normalize(),r}changeLevel(n){const r=this.clone();r.level=n;const i=this.activeSubSkills.reduce((l,o)=>l+o.skillLevelUp,0),s=r.activeSubSkills.reduce((l,o)=>l+o.skillLevelUp,0);return r.skillLevel+=s-i,r.normalize(),r}changeSubSkills(n){const r=this.clone();r.subSkills=n;const i=this.activeSubSkills.reduce((l,o)=>l+o.skillLevelUp,0),s=r.activeSubSkills.reduce((l,o)=>l+o.skillLevelUp,0);return r.skillLevel+=s-i,r.normalize(),r}getIngredients(n){if(this.isMythical){const i=[this.mythIng1];return(!n||this.level>=30)&&this.mythIng2!=="unknown"&&i[0]!==this.mythIng2&&i.push(this.mythIng2),(!n||this.level>=60)&&this.mythIng3!=="unknown"&&i.includes(this.mythIng3)&&i.push(this.mythIng3),i}const r=[this.pokemon.ing1.name];if((!n||this.level>=30)&&this.ingredient.charAt(1)==="B"&&r.push(this.pokemon.ing2.name),!n||this.level>=60){const i=this.ingredient.charAt(2)==="A"?this.pokemon.ing1:this.ingredient.charAt(2)==="B"?this.pokemon.ing2:this.pokemon.ing3;i!==void 0&&!r.includes(i.name)&&r.push(i.name)}return r}normalize(){const n=Pe(this.pokemon.skill);this.skillLevel=Math.min(n,Math.max(this.skillLevel,1)),this.ingredient.endsWith("C")&&this.pokemon.ing3===void 0&&(this.ingredient=this.ingredient.replace("C","A")),this.isMythical&&this.mythIng1==="unknown"&&(this.mythIng1="sausage"),this.pokemon.id===_t&&(this.pokemon.form==="Amped"&&this.nature.isLowKey?this.nature=W.allNatures.filter(r=>r.isAmped).filter(r=>r.upEffect===this.nature.upEffect)[0]??new W("Hardy"):this.pokemon.form==="Low Key"&&this.nature.isAmped&&(this.nature=W.allNatures.filter(r=>r.isLowKey).filter(r=>r.upEffect===this.nature.upEffect)[0]??new W("Serious")))}isEqual(n){const r=this.pokemonName===n.pokemonName&&this.level===n.level&&this.skillLevel===n.skillLevel&&this.subSkills.isEqual(n.subSkills)&&this.nature.name===n.nature.name&&this.ribbon===n.ribbon;return this.isMythical?r&&this.mythIng1===n.mythIng1&&this.mythIng2===n.mythIng2&&this.mythIng3===n.mythIng3:r&&this.ingredient===n.ingredient}get decendants(){return this.getDecendants(!1)}get allDecendants(){return this.getDecendants(!0)}getDecendants(n){const r=Rr(this.pokemon,n);return this.pokemon.ancestor===Ct?r.filter(i=>i.id===Ct||i.form==="Amped"&&this.nature.isAmped||i.form==="Low Key"&&this.nature.isLowKey):r}get hasHelpingBonusInActiveSubSkills(){return this.subSkills.getActiveSubSkills(this.level).some(n=>n.name==="Helping Bonus")}get hasEnergyRecoveryBonusInActiveSubSkills(){return this.subSkills.getActiveSubSkills(this.level).some(n=>n.name==="Energy Recovery Bonus")}get carryLimit(){return this.pokemon.carryLimit+5*Math.max(0,this.pokemon.evolutionCount)+this.ribbonCarryLimit+this.subSkills.getActiveSubSkills(this.level).reduce((n,r)=>n+r.inventory,0)*6}get ribbonCarryLimit(){switch(this.ribbon){case 1:return 1;case 2:return 3;case 3:return 6;case 4:return 8;default:return 0}}get form(){const n=this.pokemonName.match(/\(([^)]+)\)$/);if(n===null)return 0;switch(n[1]){case"Halloween":return 1;case"Holiday":return 2;case"Alola":return 3;case"Paldea":return 4;case"Amped":return 5;case"Low Key":return 6;case"Small":return 7;case"Medium":return 8;case"Large":return 9;case"Jumbo":return 10}return 0}static formToString(n){switch(n){case 1:return"Halloween";case 2:return"Holiday";case 3:return"Alola";case 4:return"Paldea";case 5:return"Amped";case 6:return"Low Key";case 7:return"Small";case 8:return"Medium";case 9:return"Large";case 10:return"Jumbo";default:return""}}get idForm(){return this.pokemon.id+(this.form<<12)}static getIdByIdForm(n){return n&4095}static getFormByIdForm(n){return n>>12}serialize(){const n=new Uint16Array(6);if(n[0]=1+(this.pokemon.id<<4),n[1]=this.form+(this.level<<6)+(Et.indexOf(this.ingredient)<<13),n[2]=(this.skillLevel-1<<2)+(W.allNatures.findIndex(s=>s.name===this.nature.name)<<6)+((this.subSkills.lv10===null?31:this.subSkills.lv10.index)<<11),n[3]=(this.subSkills.lv25===null?31:this.subSkills.lv25.index)+((this.subSkills.lv50===null?31:this.subSkills.lv50.index)<<5)+((this.subSkills.lv75===null?31:this.subSkills.lv75.index)<<10),n[4]=(this.subSkills.lv100===null?31:this.subSkills.lv100.index)+(this.ribbon<<5),this.pokemon.mythIng!==void 0){const s=this.pokemon.mythIng.findIndex(d=>d.name===this.mythIng1)+1,l=this.pokemon.mythIng.findIndex(d=>d.name===this.mythIng2)+1,o=this.pokemon.mythIng.findIndex(d=>d.name===this.mythIng3)+1,c=this.pokemon.mythIng.length+1;n[5]=s+l*c+o*c*c}const r=new Uint8Array(n.buffer);let i="";for(let s=0;s<r.length;s++)i+=String.fromCharCode(r[s]);return btoa(i).replace(/\//g,"-").substring(0,this.isMythical?16:12)}static deserialize(n){if(n.length===12)n=n.replace(/-/g,"/")+"AAAA";else if(n.length===16)n=n.replace(/-/g,"/");else throw new Error(`Invalid length ${n.length}`);const r=atob(n),i=new Uint8Array(r.length);for(let p=0;p<r.length;p++)i[p]=r.charCodeAt(p);const s=new Uint16Array(i.buffer);if((s[0]&15)!==1)throw new Error("Invalid version");const l=s[0]>>4;let o=Ae.find(p=>p.id===l);if(o===void 0)throw new Error(`Pokemon id ${l} not found`);const c=s[1]&63;if(c!==0){const p=le.formToString(c),y=`${o.name.replace(/ \(.+/,"")} (${p})`;if(o=Ae.find(x=>x.name===y),o===void 0)throw new Error(`Invalid form specified (${c})`)}const d=new le(o.name);if(d.level=s[1]>>6&127,d.level===0||d.level>100)throw new Error(`Invalid level (${d.level})`);const u=s[1]>>13&7;if(u>5)throw new Error(`Invalid ing value (${u})`);if(d.ingredient=Et[u],d.skillLevel=(s[2]>>2&7)+1,d.skillLevel>Pe(o.skill))throw new Error(`Too large skill level ${d.skillLevel} for ${o.name}`);const h=s[2]>>6&31;if(h>=W.allNatures.length)throw new Error(`Too large nature ${h}`);d.nature=W.allNatures[h];const m=q.allSubSkills,g=(p,y)=>{if(p===31)return null;if(p>=m.length)throw new Error(`Too large subskill for level ${y}: ${p}`);return m[p]};if(d.subSkills.lv10=g(s[2]>>11&31,10),d.subSkills.lv25=g(s[3]>>0&31,25),d.subSkills.lv50=g(s[3]>>5&31,50),d.subSkills.lv75=g(s[3]>>10&31,75),d.subSkills.lv100=g(s[4]>>0&31,100),d.ribbon=s[4]>>5&7,d.ribbon>=5)throw new Error(`Invalid ribbon (${d.ribbon})`);if(d.pokemon.mythIng!==void 0){const p=d.pokemon.mythIng.length+1,y=s[5]%p-1,x=Math.floor(s[5]/p)%p-1,k=Math.floor(s[5]/p/p)%p-1;d.mythIng1=y<0?"sausage":d.pokemon.mythIng[y].name,d.mythIng2=x<0?"unknown":d.pokemon.mythIng[x].name,d.mythIng3=k<0?"unknown":d.pokemon.mythIng[k].name}return d}}class be{_entries=[];static get maxEntryCount(){return 300}constructor(n){this._entries=n||[]}get items(){return this._entries}get canAdd(){return this._entries.length<be.maxEntryCount}add(n,r){if(!this.canAdd)throw new Error("max entry count exceeds");const i=new Me(n,r);return this._entries=[...this._entries,i],i.id}remove(n){this._entries=this._entries.filter(r=>r.id!==n)}removeAll(){this._entries=[]}set(n,r,i){for(let s=0;s<this._entries.length;s++)if(this._entries[s].id===n){this._entries[s]=new Me(r,i,n),this._entries=[...this._entries];break}}getById(n){return this._entries.find(r=>r.id===n)??null}load(){const n=localStorage.getItem("PstPokeBox");if(n===null)return[];const r=JSON.parse(n);if(!Array.isArray(r))return[];const i=[];for(const s of r){if(typeof s!="string")continue;const l=this.deserializeItem(s);if(l!==null&&(i.push(new Me(l.iv,l.nickname)),i.length>=be.maxEntryCount))break}this._entries=i}deserializeItem(n){const r=n.indexOf("@");let i=n,s="";r!==-1&&(i=n.substring(0,r),s=n.substring(r+1));try{return{iv:le.deserialize(i),nickname:s}}catch{return null}}save(){localStorage.setItem("PstPokeBox",JSON.stringify(this._entries.map(n=>n.serialize())))}}class Me{_iv;_nickname;_id;static nextId=1;constructor(n,r,i){this._iv=n,this._nickname=r??"",this._id=i!==void 0?i:Me.nextId++}serialize(){const n=this._iv.serialize();return this._nickname===""?n:n+"@"+this._nickname}get iv(){return this._iv}get nickname(){return this._nickname}get id(){return this._id}filledNickname(n){return this._nickname!==""?this._nickname:n(`pokemons.${this.iv.pokemonName}`)}}const bn=new be;bn.load();function ii(){const t=li();let n=new le("Venusaur");if(t.iv!=="")try{n=le.deserialize(t.iv)}catch{}let r=-1;if(t.selectedIv!=="")try{const l=le.deserialize(t.selectedIv),o=bn.items.findIndex(c=>c.iv.isEqual(l));o>=0&&(r=bn.items[o].id)}catch{}const i={tabIndex:t.tabIndex,lowerTabIndex:t.lowerTabIndex,pokemonIv:n,parameter:ri(),box:bn,selectedItemId:r,energyDialogOpen:!1,boxItemDialogOpen:!1,boxItemDialogKey:"",boxItemDialogIsEdit:!1,boxExportDialogOpen:!1,boxImportDialogOpen:!1,boxDeleteAllDialogOpen:!1,alertMessage:""},s=document.location.hash.match(/#p=(.*)/);if(s!==null)try{i.pokemonIv=le.deserialize(s[1])}catch{}return i}function li(){const t={tabIndex:0,lowerTabIndex:0,iv:"",selectedIv:""},n=localStorage.getItem("PstIvState");if(n===null)return t;const r=JSON.parse(n);return typeof r!="object"||r===null||(typeof r.tabIndex=="number"&&r.tabIndex>=0&&r.tabIndex<=2&&(t.tabIndex=r.tabIndex),typeof r.lowerTabIndex=="number"&&r.lowerTabIndex>=0&&r.lowerTabIndex<=2&&(t.lowerTabIndex=r.lowerTabIndex),typeof r.iv=="string"&&(t.iv=r.iv),typeof r.selectedIv=="string"&&(t.selectedIv=r.selectedIv)),t}function He(t){const n=t.box.getById(t.selectedItemId),r={tabIndex:t.tabIndex,lowerTabIndex:t.lowerTabIndex,iv:t.pokemonIv.serialize(),selectedIv:n===null?"":n.iv.serialize()};localStorage.setItem("PstIvState",JSON.stringify(r))}function oi(t,n){const r=n.type,i=t.box.getById(t.selectedItemId);if(r==="changeUpperTab"){const o=n.payload.index;let c=t.lowerTabIndex;o!==1&&c===2&&(c=0);const d={...t,tabIndex:o,lowerTabIndex:c};return He(d),d}if(r==="changeLowerTab"){const o={...t,lowerTabIndex:n.payload.index};return He(o),o}if(r==="changeParameter"){const o=n.payload.parameter,c=rn({...t,parameter:o});return localStorage.setItem("PstStrenghParam",JSON.stringify(c.parameter)),c}if(r==="openEnergyDialog")return{...t,energyDialogOpen:!0};if(r==="closeEnergyDialog")return{...t,energyDialogOpen:!1};if(r==="add")return t.box.canAdd?{...t,boxItemDialogOpen:!0,boxItemDialogKey:"dlg"+new Date().getTime().toString(),boxItemDialogIsEdit:!1}:{...t,alertMessage:"box is full"};if(r==="updateIv"){const o=rn({...t,pokemonIv:n.payload.iv});return He(o),o}if(r==="addThis"){if(!t.box.canAdd)return{...t,alertMessage:"box is full"};const o=new be(t.box.items),c=o.add(t.pokemonIv);return o.save(),{...t,box:o,selectedItemId:c}}if(r==="export")return{...t,boxExportDialogOpen:!0};if(r==="exportClose")return{...t,boxExportDialogOpen:!1};if(r==="import")return t.box.canAdd?{...t,boxImportDialogOpen:!0}:{...t,alertMessage:"box is full"};if(r==="importClose"){const o=new be(t.box.items);return{...t,box:o,boxImportDialogOpen:!1}}if(r==="deleteAll")return{...t,boxDeleteAllDialogOpen:!0};if(r==="deleteAllClose")return{...t,boxDeleteAllDialogOpen:!1};if(r==="restoreItem"){if(i!==null){const o=rn({...t,pokemonIv:i.iv});return He(o),o}return t}if(r==="saveItem"){const o=t.box.getById(t.selectedItemId)?.nickname,c=new be(t.box.items);c.set(t.selectedItemId,t.pokemonIv,o),c.save();const d={...t,box:c};return He(d),d}if(r==="editDialogClose")return{...t,boxItemDialogOpen:!1};if(r==="addOrEditDone"){const o=n.payload.item,c=new be(t.box.items);let d=t.selectedItemId;o.id===-1?d=c.add(o.iv,o.nickname):c.set(o.id,o.iv,o.nickname),c.save();const u=rn({...t,pokemonIv:o.iv,box:c});return u.selectedItemId=d,He(u),u}if(r==="showAlert")return{...t,alertMessage:n.payload.message};if(r==="closeAlert")return{...t,alertMessage:""};if(r!=="select"&&r!=="edit"&&r!=="dup"&&r!=="remove")return t;const s=n.payload.id,l=t.box.getById(s);if(l===null)return t;if(r==="select"){const o=rn({...t,pokemonIv:l.iv});return o.selectedItemId=s,He(o),o}else{if(r==="edit")return{...t,boxItemDialogOpen:!0,boxItemDialogKey:"dlg"+new Date().getTime().toString(),boxItemDialogIsEdit:!0};if(r==="dup"){const o=new be(t.box.items),c=o.add(l.iv.clone(),l.nickname);return o.save(),{...t,box:o,selectedItemId:c}}else if(r==="remove"){const o=new be(t.box.items);return o.remove(s),o.save(),{...t,box:o}}}return t}function rn(t){const n=t.box.getById(t.selectedItemId);t.pokemonIv.normalize();const r=We(t.parameter.event,t.parameter.customEventBonus);if(r!==void 0&&r.fixedBerries!==void 0&&r.fixedBerries?.length===3&&r.fixedAreas?.includes(t.parameter.fieldIndex)){let s=!1;const l=Xe(t.parameter.fieldIndex);for(let o=0;o<3;o++)if(r.fixedBerries[o]!==null&&(l&&!t.parameter.favoriteType.includes(r.fixedBerries[o])||!l&&t.parameter.favoriteType[o]!==r.fixedBerries[o])){s=!0;break}s&&(t.parameter.favoriteType=[...r.fixedBerries],t.parameter.favoriteType[1]===null&&(t.parameter.favoriteType[1]=Ee.find(o=>!t.parameter.favoriteType.includes(o))??"normal"),t.parameter.favoriteType[2]===null&&(t.parameter.favoriteType[2]=Ee.find(o=>!t.parameter.favoriteType.includes(o))??"normal"))}if(!t.parameter.berryBurstTeam.auto&&t.pokemonIv.pokemon.skill==="Energy for Everyone S (Lunar Blessing)"){const s=t.parameter.berryBurstTeam.members.filter(l=>l.type===t.pokemonIv.pokemon.type).length+1;s<=2?t.parameter.berryBurstTeam.species=s:t.parameter.berryBurstTeam.species=Math.min(s,t.parameter.berryBurstTeam.species)}let i=t.selectedItemId;return n!==null&&(n.iv.pokemon.ancestor!==t.pokemonIv.pokemon.ancestor&&(i=-1),n.iv.pokemon.ancestor===null&&n.iv.pokemon.id!==t.pokemonIv.pokemon.id&&(i=-1)),{...t,selectedItemId:i}}function kt(t){if(navigator.clipboard)return navigator.clipboard.writeText(t);const n=document.createElement("textarea");n.readOnly=!0,n.value=t,n.style.position="absolute",n.style.opacity="0",document.body.appendChild(n),n.setSelectionRange(0,t.length);const r=document.execCommand("copy");return n.parentNode?.removeChild(n),r?Promise.resolve():Promise.reject()}function rr(t,n,r){const i=t.serialize(),l=`${window.location.href.split("#")[0].replace(/utm_source=homescreen&?/,"").replace(/\?$/,"")}#p=${i}`;return navigator.share?navigator.share({url:l}):kt(l).then(()=>{const o=r("copied");n({type:"showAlert",payload:{message:o}})})}const ai=a.memo(({state:t,isBoxEmpty:n,dispatch:r})=>{const i=t.tabIndex,s=t.lowerTabIndex,[l,o]=a.useState(null),{t:c}=I(),d=!!l&&s===0,u=!!l&&s===1,h=a.useRef(null),m=a.useCallback(k=>{o(null);const j=k.currentTarget.getAttribute("data-value")||"";r({type:j}),j==="addThis"&&ui(h.current)},[r]),g=a.useCallback(()=>{o(null),rr(t.pokemonIv,r,c)},[r,t.pokemonIv,c]),p=a.useCallback((k,j)=>{r({type:"changeLowerTab",payload:{index:j}}),o(null)},[r]),y=a.useCallback(k=>{o(k.currentTarget)},[]),x=a.useCallback(()=>{o(null)},[]);return e.jsxs(ci,{children:[s!==2&&e.jsx(re,{"aria-label":"actions",color:"inherit",onClick:y,children:e.jsx(ct,{})}),e.jsxs(di,{value:s,onChange:p,children:[e.jsx(Vn,{label:c("pokemon")}),e.jsx(Vn,{label:c("box"),ref:h}),i===1&&e.jsx(Vn,{label:c("parameter")})]}),e.jsx(un,{anchorEl:l,open:d,onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxs(_e,{children:[e.jsxs(f,{onClick:m,"data-value":"addThis",children:[e.jsx(te,{children:e.jsx(qt,{})}),c("add to box")]}),e.jsxs(f,{onClick:g,"data-value":"share",children:[e.jsx(te,{children:e.jsx(dt,{})}),c("share")]})]})}),e.jsx(un,{anchorEl:l,open:u,onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxs(_e,{children:[e.jsxs(f,{"data-value":"export",onClick:m,disabled:n,children:[e.jsx(te,{children:e.jsx(Vr,{})}),c("export")]}),e.jsxs(f,{"data-value":"import",onClick:m,children:[e.jsx(te,{children:e.jsx(Ur,{})}),c("import")]}),e.jsx(pn,{}),e.jsxs(f,{"data-value":"deleteAll",onClick:m,disabled:n,children:[e.jsx(te,{children:e.jsx(qr,{})}),c("delete all")]})]})})]})}),ci=B("div")({marginTop:"clamp(.3rem, 0.6vh, .7rem)","& > button.MuiIconButton-root":{float:"right",color:"#999"}}),di=B(Mn)({minHeight:"clamp(20px, 3vh, 36px)",marginBottom:"clamp(.3rem, 0.6vh, .7rem)"}),Vn=B(En)({minHeight:"clamp(20px, 3vh, 36px)",padding:"6px 16px"});function ui(t){if(t===null)return;const n=t.getBoundingClientRect(),r=n.x+window.scrollX,i=n.y+window.scrollY,s=document.documentElement.clientWidth,l=400,o=document.createElement("div");o.style.position="absolute",o.style.left=`${r}px`,o.style.top=`${i}px`,o.style.width=`${n.width}px`,o.style.height=`${n.height}px`,o.style.background="#1976d2",o.style.opacity="0.6",o.style.transformOrigin="top left",o.style.zIndex="2",document.body.appendChild(o);const c=o.animate([{transform:`translateX(${-r}px) translateY(${n.height}px) scale(${s/n.width}, ${l/n.height})`},{transform:"translateX(0) translateY(0) scale(1, 1)",opacity:.1}],{duration:200,easing:"ease-out",iterations:1});c.onfinish=()=>{document.body.removeChild(o)}}const Rn=a.createContext({iconUrl:null,language:"",pwacnt:0,news:{ResearchCalc:"",IvCalc:""}});function hi(t){const n={iconUrl:null,language:t,pwacnt:-1,news:{ResearchCalc:"",IvCalc:""}},r=localStorage.getItem("PokeSleepTool");if(r===null)return n;const i=JSON.parse(r);return typeof i!="object"||i==null||(typeof i.iconUrl=="string"&&i.iconUrl.match(/@ID[1-4]?@/)&&(n.iconUrl=i.iconUrl),typeof i.language=="string"&&(n.language=i.language),typeof i.pwacnt=="number"&&(n.pwacnt=i.pwacnt),typeof i.news=="object"&&(typeof i.news.ResearchCalc=="string"&&(n.news.ResearchCalc=i.news.ResearchCalc),typeof i.news.IvCalc=="string"&&(n.news.IvCalc=i.news.IvCalc))),n}function Bn(t){localStorage.setItem("PokeSleepTool",JSON.stringify(t))}const zn=a.memo(({idForm:t,size:n})=>{const r=a.useContext(Rn);if(r.iconUrl!==null&&r.iconUrl.match(/^https?:\/\//)){let s=r.iconUrl;const l=le.getIdByIdForm(t);return s=s.replace(/@ID(\d)@/g,(o,c)=>l.toString().padStart(parseInt(c,10),"0")),e.jsx("img",{src:s,width:n,height:n,alt:l.toString()})}const i=mi(t,n);return e.jsx(pi,{style:{width:`${n}px`,height:`${n}px`},children:e.jsx("svg",{width:n,height:n,viewBox:`0 0 ${n} ${n}`,children:i})})});function mi(t,n){let r;if(t in Hn)r=t;else if(r=le.getIdByIdForm(t),!(r in Hn))return gi(n);const i=Hn[r],s=[];let l=0;for(const o of i){const c={};o.r!==void 0&&(c.rx=c.ry=(n*o.r).toFixed(1)),s.push(e.jsx("rect",{x:(n*o.x).toFixed(1),y:(n*o.y).toFixed(1),width:(n*o.w).toFixed(1),height:(n*o.h).toFixed(1),fill:o.color,...c},l)),l++}return s}function gi(t){return[e.jsx("rect",{x:"0",y:"0",width:t,height:t,fill:"#bbbbbb"})]}const pi=B("div")({border:"1px solid #999",borderRadius:".5rem",overflow:"hidden"}),jn=a.memo(({anchorEl:t,children:n,open:r,onClose:i})=>{const s=a.useCallback(l=>{l.target===t&&l.preventDefault(),i()},[t,i]);return e.jsx(Tn,{open:r,anchorEl:t,placement:"bottom-start",style:{zIndex:2147483647,maxWidth:"95vw"},children:e.jsx(ut,{elevation:10,children:e.jsx(Zr,{onClickAway:s,children:n})})})}),sr=a.memo(({value:t,sortTypes:n,onChange:r,onFilterButtonClick:i})=>{const{t:s}=I(),[l,o]=a.useState(!1),c=a.useRef(null),d=w.useCallback(()=>{o(!0)},[o]),u=w.useCallback(()=>{o(!1)},[o]),h=w.useCallback(()=>{r({...t,descending:!t.descending})},[t,r]),m=w.useCallback(p=>{const y=p.currentTarget.getAttribute("data-value");y!=null&&(r({...t,sort:y}),o(!1))},[t,r,o]),g=n.map(p=>e.jsx(f,{onClick:m,"data-value":p,selected:t.sort===p,children:s(p)},p));return e.jsxs(xi,{children:[e.jsxs(nt,{style:{padding:".2rem .8rem",marginRight:".5rem",width:"4.5rem",textAlign:"left"},onClick:i,children:[e.jsx(Nn,{style:{paddingRight:"0"}}),s(t.isFiltered?"on":"off")]},t.isFiltered.toString()),e.jsxs(nt,{style:{padding:".2rem .8rem",marginRight:".5rem",width:"9rem",textAlign:"left"},onClick:d,ref:c,children:[e.jsx(Gr,{style:{paddingRight:".4rem"}}),s(t.sort)]}),e.jsx(jn,{open:l,onClose:u,anchorEl:c.current,children:e.jsx(_e,{children:g})}),e.jsx(fi,{className:t.descending?"desc":"asc",onClick:h,children:e.jsx(Kr,{style:{width:"1rem",height:"1rem"}})})]})}),xi=B("div")({backgroundColor:"#f76",padding:".5rem .5rem"}),nt=B(Fn)({borderRadius:"3rem",background:"white",fontSize:".8rem",color:"#000",justifyContent:"left",boxShadow:"0 2px 2px 1px #88666666",fontFamily:"M PLUS 1p",svg:{width:"1.2rem",height:"1.2rem",color:"#24da6d"}}),fi=B(nt)({padding:".2rem",translation:"0.2s",svg:{width:"1rem",height:"1rem",transform:"translateY(0%)",transition:"0.2s"},"&.desc svg":{transform:"rotate(180deg)",transition:"0.2s"}}),Oe=a.memo(a.forwardRef(({size:t,type:n,checked:r,disabled:i,deletable:s,onClick:l,onDelete:o},c)=>{const{t:d}=I(),u=w.useCallback(h=>{const m=h.nativeEvent.target?.closest(".deleteIcon")!=null,g=h.currentTarget.value;m?o?.(g):l(g)},[l,o]);return e.jsxs(ji,{ref:c,size:t??"medium",className:`${n}${s?" deletable":""}${i?" disabled":""}`,value:n,onClick:u,children:[d(`types.${n}`),r&&e.jsx(Te,{}),s&&e.jsx(Xr,{className:"deleteIcon"})]},n)})),ji=B(F)({width:"5rem",color:"white",fontSize:"0.9rem",padding:0,margin:"0.2rem",borderRadius:"0.5rem","&.MuiButton-sizeSmall":{width:"4.6rem",fontSize:"0.8rem","&.deletable":{width:"5.6rem"},"&.disabled":{opacity:.7}},"& > svg":{position:"absolute",background:"#24d76a",borderRadius:"18px",fontSize:"16px",padding:"1px",border:"2px solid white",right:"-4px",top:"-4px","&.deleteIcon":{position:"absolute",background:"#ffffff",color:"#888888",borderRadius:"50%",fontSize:"14px",border:0,right:"-4px",top:"-2px"}},"&.normal":{backgroundColor:"#939393"},"&.fire":{backgroundColor:"#e8554d"},"&.water":{backgroundColor:"#579bf3"},"&.electric":{backgroundColor:"#f1c525"},"&.grass":{backgroundColor:"#57a747"},"&.ice":{backgroundColor:"#68c5df"},"&.fighting":{backgroundColor:"#e8a33b"},"&.poison":{backgroundColor:"#ab7aca"},"&.ground":{backgroundColor:"#c8a841"},"&.flying":{backgroundColor:"#add5ea"},"&.psychic":{backgroundColor:"#ed6c94"},"&.bug":{backgroundColor:"#a5ab39"},"&.rock":{backgroundColor:"#b2b194"},"&.ghost":{backgroundColor:"#8d658e"},"&.dragon":{backgroundColor:"#7482e9"},"&.dark":{backgroundColor:"#706261"},"&.steel":{backgroundColor:"#94b1c2"},"&.fairy":{backgroundColor:"#e48fe3"}}),Re=a.memo(({specialty:t,checked:n,disabled:r,onClick:i})=>{const{t:s}=I(),l=w.useCallback(c=>{const d=c.currentTarget.value;i?.(d)},[i]);let o="";switch(t){case"Berries":o="berry";break;case"Ingredients":o="ingredient";break;case"Skills":o="skill";break}return r===!0?e.jsx(ki,{className:o,children:s(o)},t):e.jsxs(yi,{className:`${o} ${n?"checked":""}`,value:t,onClick:l,children:[s(o),n&&e.jsx(Te,{})]},t)}),ki=B("span")({display:"inline-block",width:"4rem",fontSize:".6rem",padding:".1rem 0",textAlign:"center",color:"white",borderRadius:".6rem",verticalAlign:"20%","&.berry":{backgroundColor:"#24d76a"},"&.ingredient":{backgroundColor:"#fab855"},"&.skill":{backgroundColor:"#44a2fd"}}),yi=B(F)({width:"5.5rem",color:"white",fontSize:"0.8rem",padding:0,margin:"0.2rem",borderRadius:"1rem",textTransform:"none","& > svg":{position:"absolute",background:"#24d76a",borderRadius:"10px",fontSize:"15px",border:"2px solid white",right:"calc(50%-15px)",top:"calc(50%-15px)"},"&.berry":{backgroundColor:"#24d76a"},"&.berry.checked":{backgroundColor:"#bde9bb"},"&.ingredient":{backgroundColor:"#fab855"},"&.ingredient.checked":{backgroundColor:"#f3dcb3"},"&.skill":{backgroundColor:"#44a2fd"},"&.skill.checked":{backgroundColor:"#b8d0fa"}}),bi=B("div")({margin:"clamp(.3rem, 0.7vh, .5rem) 0",display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:".4rem .5rem"}),vi=a.memo(({value:t,onChange:n})=>{const[r,i]=a.useState(!1),[s,l]=a.useState(10),o=a.useCallback(u=>{l(parseInt(u.currentTarget.name,10)),i(!0)},[l,i]),c=a.useCallback(u=>{l(u)},[l]),d=a.useCallback(()=>{i(!1)},[i]);return e.jsxs(bi,{children:[e.jsx(sn,{level:10,value:t.lv10,onClick:o}),e.jsx(sn,{level:25,value:t.lv25,onClick:o}),e.jsx(sn,{level:50,value:t.lv50,onClick:o}),e.jsx(sn,{level:75,value:t.lv75,onClick:o}),e.jsx(sn,{level:100,value:t.lv100,onClick:o}),e.jsx(wi,{open:r,level:s,value:t,onClose:d,onChange:n,onLevelChange:c})]})}),ir=B(Fn)(({theme:t})=>{const n=t.typography.button;return{fontFamily:n.fontFamily,fontSize:"0.8rem",fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,lineHeight:n.lineHeight,height:"1.6rem",padding:".2rem",border:"1px solid #999",borderRadius:".4rem",background:"#d0d0d0","&.gold":{background:"#fbe778",borderColor:"#c19255"},"&.blue":{background:"#d3e9f7",borderColor:"#5e7da0"},"&.white":{background:"#f3f3f3",borderColor:"#999999"},"&.selected":{background:"#888c8f"}}}),sn=a.memo(({level:t,value:n,onClick:r})=>{const{t:i}=I(),s=n===null?"":i(`subskill.${n.name}`);let l="";return n?.isGold?l="gold":n?.isBlue?l="blue":n?.isWhite&&(l="white"),e.jsx(ir,{name:t.toString(),className:l,onClick:r,children:s})}),Si=B("div")({header:{fontSize:".9rem"},"& div.subskill_list50":{margin:".2rem 0 1.2rem 0",display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:".3rem","& button":{fontSize:"0.75rem",whiteSpace:"nowrap"}},"& div.subskill_list25":{margin:".8rem 0",display:"grid",gridTemplateColumns:"max-content 2.5rem 2.5rem 2.5rem",gridGap:".3rem","& header":{textAlign:"right",paddingRight:".8rem"}}}),Ci=B(Zt)(({theme:t})=>({position:"absolute",right:".5rem",top:"0","& .MuiBadge-badge":{border:`2px solid ${t.palette.background.paper}`,backgroundColor:"#24d76a",padding:0,"& > svg":{width:"14px",height:"14px",fontSize:"12px",padding:0,margin:0}},"&.isnum .MuiBadge-badge":{padding:"0 4px"}})),wi=a.memo(({open:t,value:n,level:r,onChange:i,onClose:s,onLevelChange:l})=>{const{t:o}=I(),c=a.useCallback(h=>{const m=new Le(n),g=new q(h),p=m.getSubSkillLevel(g);p===-1?m.set(r,g):m.set(p,null),i({value:m}),m.lv10===null?l(10):m.lv25===null?l(25):m.lv50===null?l(50):m.lv75===null?l(75):m.lv100===null?l(100):s()},[i,s,l,r,n]),d=a.useCallback(()=>{i({value:new Le}),l(10)},[i,l]),u=a.useCallback(h=>{const m=n.getSubSkillLevel(h);return m<0?0:m},[n]);return e.jsxs(U,{open:t,onClose:s,children:[e.jsx("div",{style:{padding:"1.2rem 1rem 1rem 1rem",fontSize:"1.1rem"},children:e.jsx(ee,{i18nKey:"select subskill at level xxx",components:{level:e.jsxs("strong",{children:[o("level")," ",r]})}})}),e.jsx("div",{style:{padding:"0 1rem"},children:e.jsx(lr,{subSkill2Badge:u,onClick:c})}),e.jsxs(V,{children:[e.jsx(F,{onClick:d,children:o("clear")}),e.jsx(F,{onClick:s,children:o("close")})]})]})}),lr=a.memo(({subSkill2Badge:t,onClick:n})=>{const{t:r}=I(),i=a.useCallback(l=>{n(l.currentTarget.value)},[n]),s=a.useCallback((l,o)=>{const c=new q(l),d=c.isGold?"gold":c.isBlue?"blue":"white",u=t(c),h=u!==0?`${d} selected`:d;return o===void 0&&(o=r(`subskill.${l}`)),e.jsx(e.Fragment,{children:e.jsxs(ir,{onClick:i,className:h,value:l,children:[o,e.jsx(Ci,{color:"secondary",badgeContent:u,max:100,className:typeof u=="number"?"isnum":""})]})})},[i,t,r]);return e.jsxs(Si,{children:[e.jsx("header",{children:r("subskill.Gold colored")}),e.jsxs("div",{className:"subskill_list50",children:[s("Berry Finding S",void 0),s("Helping Bonus",void 0),s("Sleep EXP Bonus",void 0),s("Research EXP Bonus",void 0),s("Energy Recovery Bonus",void 0),s("Dream Shard Bonus",void 0)]}),e.jsxs("div",{className:"subskill_list25",children:[e.jsx("header",{children:r("subskill.Skill Level Up")}),s("Skill Level Up M","M"),s("Skill Level Up S","S"),e.jsx("span",{}),e.jsx("header",{children:r("subskill.Skill Trigger")}),s("Skill Trigger M","M"),s("Skill Trigger S","S"),e.jsx("span",{}),e.jsx("header",{children:r("subskill.Helping Speed")}),s("Helping Speed M","M"),s("Helping Speed S","S"),e.jsx("span",{}),e.jsx("header",{children:r("subskill.Ingredient Finder")}),s("Ingredient Finder M","M"),s("Ingredient Finder S","S"),e.jsx("span",{}),e.jsx("header",{children:r("subskill.Inventory Up")}),s("Inventory Up L","L"),s("Inventory Up M","M"),s("Inventory Up S","S")]})]})}),Bi=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M100,43.7c-5.5,0-11.4-.7-19.1-1.7-23.9-5.9-48.6,3.8-62.9,25.1-12.5,18.5-13.9,38.9-10.1,59.4,3.8,21.1,13.4,39.8,31.2,54,15.3,14.6,31.3,18,50,10.2,4.2-.3,7-1.4,10.9-1.7,3.9.3,6.7,1.4,10.9,1.7,18.8,7.8,34.8,4.4,50-10.2,17.8-14.1,27.4-32.9,31.2-54,3.7-20.5,2.3-40.9-10.1-59.4-14.3-21.3-39.1-31-62.9-25.1-7.7,1-13.6,1.7-19.1,1.7Z",fill:"#ef3930",strokeWidth:"0"}),e.jsx("path",{d:"M101.8,56.7c15.2,0,28.1-9.9,32-16.3-4.9,0-9.8.5-14.7,1.7-7.7,1-13.6,1.7-19.1,1.7-5.5,0-11.4-.7-19.1-1.7-3.7-.9-7.4-1.4-11.1-1.6,3.9,6.5,16.8,16.3,31.9,16.3Z",fill:"#b52a2a",strokeWidth:"0"}),e.jsx("path",{d:"M192.5,120.3h.7c-1.4,11.1-4.5,21.9-9.3,31.6-3.9,8.1-9.1,15.4-15.4,21.8-6.5,6.5-13.9,13.2-22.2,17.2-7.5,3.6-15.9,4.7-24.1,3.2-6.9-1.2-13.1-4.9-20.2-5.1-4.8-.2-9,.3-13.6,1.9-8.5,2.9-16.8,4.9-25.7,3.1-9.1-1.9-16.4-7.1-23.2-13.1s-13.2-12.1-18.2-19.8c-4.4-6.7-7.8-14-10.3-21.7,42.3,29.3,144.3,13.7,181.5-19.1Z",fill:"#b52a2a",strokeWidth:"0"}),e.jsx("path",{d:"M160.9,167.4c-13.5,4.7-17.5-9.9-25.3-9-9.1,1-9.7,16-35.6,15.7-22.7-.3-30.2-16-34.8-16.6-9.8-1.2-6.6,11.2-15.5,12.6-11.8,1.9-21.7-6.8-32-14.9,5.1,9.5,12.1,18,21.3,25.3,15.3,14.6,31.3,18,50,10.2,4.2-.3,7-1.4,10.9-1.7,3.9.3,6.7,1.4,10.9,1.7,18.8,7.8,34.8,4.4,50-10.2,11.6-9.2,19.6-20.3,24.9-32.8-7.8,7.9-18.2,17.3-25,19.7Z",fill:"#cc8d27",strokeWidth:"0"}),e.jsx("path",{d:"M115.6,42.5c8.9-1.1,17.1-2.9,26.1-1.5,8.3,1.3,16.3,4.4,23.3,9.1,15.9,10.7,25.9,28.7,28.3,47.5.9,7.4.9,15.1,0,22.7-1.4,11-4.5,21.8-9.3,31.5-3.9,8.1-9.1,15.4-15.4,21.8-6.5,6.5-13.9,13.2-22.2,17.2-7.5,3.6-15.9,4.7-24.1,3.2-6.9-1.2-13.1-4.9-20.2-5.1-4.8-.2-9,.3-13.6,1.9-8.5,2.9-16.8,4.9-25.7,3.1-9.1-1.9-16.4-7.1-23.2-13.1s-13.2-12.1-18.2-19.8c-4.4-6.7-7.8-14-10.3-21.7-3.2-9.9-4.8-20.3-4.9-30.6-.5-37,28-72.5,67.3-68.2,4.6.5,9.1,1.6,13.7,2.1",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M106.4,5.2l7.7,5.4c-3,6.4-9.5,13.5-12.7,39,0,0-4-16.4-2.7-27s7.8-17.4,7.8-17.4Z",fill:"#8c5144",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"})]})),Ii=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M193.36,92.75c9.38,40.44-29.37,83.97-29.37,83.97,0,0-53.96-22.03-63.34-62.47s12.76-79.01,29.37-83.97c15.58-4.66,53.96,22.03,63.34,62.47Z",fill:"#6da06a",strokeWidth:"0"}),e.jsx("path",{d:"M163.49,176.69c-3.9-25.9-14.66-92.07-23.49-97.69-8.97-5.71-37.91,14.54-37.95,40.11,11.42,35.06,55.76,55.14,61.44,57.58Z",fill:"#4e7f4a",strokeWidth:"0"}),e.jsx("path",{d:"M146.5,33.5c17.81,7.41,39.69,29.31,46.73,59.67,9.38,40.44-29.37,83.97-29.37,83.97,0,0-11.62-4.67-27.36-16.65",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M112.5,30.5s11.26-25.95,14.51-24.53c3.49,1.53,14.49,6.53,14.3,8.17-.6,5.33-12.81,26.36-12.81,26.36",fill:"#5e4a31",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7"}),e.jsx("path",{d:"M142.96,122.82c-23.1,59.19-76.47,78.16-119.39,70.29-14.38-33.63-38.32-81.56,14.39-139.29,21-23,60-32,73.01-23.09,2.72,1.86,5.83,3.52,8.88,5.73,24.1,6.35,39.1,45.35,23.1,86.35Z",fill:"#e0945c",strokeWidth:"0"}),e.jsx("path",{d:"M139,133c-59.34,37.17-109.66,46.43-129,24,2.42,12.71,9.56,24.8,14.14,35.53,40.09,7.35,88.61-9.53,114.86-59.53Z",fill:"#b56d3c",strokeWidth:"0"}),e.jsx("path",{d:"M98,37c-16,2-60.99,55.58-71.44,109.93",fill:"none",stroke:"#754e2f",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"}),e.jsx("path",{d:"M111,44c-2.56,8.07-35,75-72.44,132.93",fill:"none",stroke:"#754e2f",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"}),e.jsx("path",{d:"M127,52c9.85,31.15-15,85.73-56,120",fill:"none",stroke:"#754e2f",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"}),e.jsx("path",{d:"M143.5,122.5c-23.1,59.19-76.47,78.16-119.39,70.29-14.38-33.63-38.32-81.56,14.39-139.29,21-23,60-32,73.01-23.09,2.72,1.86,5.83,3.52,8.88,5.73,24.1,6.35,39.1,45.35,23.1,86.35Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Mi=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M185.35,68.77c12.36,19.27,9.57,50.26-19.15,68.21-28.72,17.95-61.03,7.18-70.6-14.36-9.57-21.54,1.28-35.83,26.47-51.99,25.19-16.15,50.92-21.13,63.28-1.86Z",fill:"#705025"}),e.jsx("path",{d:"M181.28,62.77c13.95,17.61,9.85,37.21-12.68,55.06-22.53,17.85-54.97,27.2-68.92,9.59-13.95-17.61-8.66-38.41,13.88-56.26,22.53-17.85,53.77-26,67.72-8.39Z",fill:"#a37d55"}),e.jsx("path",{d:"M102.35,120.68c1.55,2.24,2.82,4.16,18.94-6.05,3.52-2.23,43.79-30.04,47.29-32.73,12.57-9.69,11.19-11.42,9.72-13.56-1.52-2.21-3.15-3.85-17.49,5.1-3.4,2.12-42.72,29.2-46.05,31.7-15.28,11.43-13.95,13.3-12.4,15.55Z",fill:"#4f3b07"}),e.jsx("path",{d:"M187.04,70.08c-.12-.19-.25-.35-.37-.53-1.05-1.84-2.28-3.66-3.7-5.46-13.95-17.61-45.19-9.46-67.72,8.39-16.26,12.88-23.54,27.29-21.1,40.93.47,3.33,1.5,6.82,3.15,10.53,9.57,21.54,41.88,32.31,70.6,14.36,28.72-17.95,31.5-48.94,19.15-68.21Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"7"}),e.jsx("path",{d:"M101.33,33.3c16.38,26.26,9.41,52.7-12.59,67.16-22,14.46-50.13-1.37-61.23-16.26-11.13-14.95-22.29-51.53,7.08-70.57C56.68-.69,84.95,7.04,101.33,33.3Z",fill:"#705025"}),e.jsx("path",{d:"M26.13,23.24C39.59,4.64,62.18.13,83.96,14.72c21.77,14.59,36.09,50.47,17.64,69.48-18.45,19.01-44.95,15.33-61.82-1.7-16.87-17.03-27.1-40.66-13.65-59.26Z",fill:"#a37d55"}),e.jsx("path",{d:"M102.89,33.44c-.23-.37-.48-.73-.72-1.1-4.47-7.02-10.23-13.18-16.65-17.48-15.09-10.11-30.57-11.04-43.14-4.47-2.12.95-4.2,2.07-6.23,3.39-29.37,19.03-18.22,55.62-7.08,70.57,11.09,14.89,39.23,30.73,61.23,16.26,22-14.46,28.97-40.9,12.59-67.16Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7"}),e.jsx("path",{d:"M94.62,84.61c2.12-1.66,3.93-3.04-6.66-17.72-2.31-3.21-30.99-39.71-33.75-42.85-9.93-11.32-11.56-9.85-13.58-8.27s-3.62,3.33,5.67,16.4c2.2,3.1,30.14,38.74,32.7,41.75,11.74,13.78,13.5,12.35,15.62,10.69Z",fill:"#4f3b07"}),e.jsx("path",{d:"M10.15,131.19c-6.97,22.54,4.64,49.32,38.11,59.24,33.46,9.92,63.69-8.1,67.27-32.13,3.58-24.03-14.81-24-44.27-33.1-29.47-9.11-54.13-16.55-61.1,5.99Z",fill:"#705025"}),e.jsx("path",{d:"M13.18,127.44c-4.17,14.86,7.69,27.55,36.22,35.56,28.53,8.01,58.83,8,63.01-6.86,4.17-14.86-7.28-27.99-35.81-36-28.53-8.01-59.24-7.56-63.41,7.3Z",fill:"#a37d55"}),e.jsx("path",{d:"M109.08,149.81c-.51,1.9-.9,3.51-19.72-.97-4.11-.98-52.05-13.83-56.31-15.14-15.37-4.74-14.81-6.24-14.32-8.04.5-1.87,1.33-3.34,18.01.54,3.95.92,50.73,13.42,54.78,14.62,18.55,5.51,18.08,7.1,17.57,9Z",fill:"#4f3b07"}),e.jsx("path",{d:"M9.69,131.02c2.62-8.47,7.73-12.7,14.66-14.21,12.78-3.75,32.97-2.12,51.77,3.16,27.06,7.6,41.5,20.01,39.35,33.95-.06,1.32-.19,2.72-.41,4.21-3.58,24.03-33.8,42.05-67.27,32.13-33.46-9.92-45.07-36.7-38.11-59.24Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7"})]})),Ei=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M154.8,96.9l-8.1,16.7c-15.7-1.1-39,0-70.2,8.6l-1.9-17.4c-1-19.3-7.3-34.9-13.8-46.2l12.7-12h0C100.4,17,142.2-1.3,158.9,9.7c16.5,10.8,14.3,50.5-4,87v.2Z",fill:"#ffe36c",strokeWidth:"0"}),e.jsx("path",{d:"M136.9,83.7c-14.6,11.6-32.6,17.7-60.7,19.6,1.1,5-1.8-4-1.5,1.6l1.9,17.4c31.2-8.7,54.5-9.8,70.2-8.6l8.1-16.7v-.2c10.6-20.9,15.7-42.8,15.2-59.7-5.1,17-12.7,30.4-33.2,46.7Z",fill:"#e8bc43",strokeWidth:"0"}),e.jsx("path",{d:"M66.2,178.7c8.9,2.4,17.8,2.8,24.1,2.1,15.7-1.7,25.1-11.3,35.5-23.6,10.4-12.2,51.3-39.1,51.3-39.1,0,0-8.4-4-25.7-5.3-16.4-1.2-40.7,0-73.2,9.4l-2-19c-1.1-21.1-7.6-38.1-14.4-50.4-8.3-15-17.1-23-17.1-23,0,0-3.3,43.4-9,53.4-5.6,10-13.7,32.8-11.9,49.2,1.2,10.9,5.3,19.1,11.1,26",fill:"#8abc62",strokeWidth:"0"}),e.jsx("path",{d:"M30.2,152c1.4,2.3,3,4.5,4.7,6.5-5.6,3.2-10.8,15.1-9.3,20.1,2.1,6.8,19.4,17.8,26.5,16.4,7.1-1.4,12.7-12.2,14-16.3,8.9,2.4,17.8,2.8,24.1,2.1,15.7-1.7,25.1-11.3,35.5-23.6,5.2-6.1,18-15.9,29.6-24.2-74.5,34.2-117.2,28.8-125.1,18.9Z",fill:"#518c4c",strokeWidth:"0"}),e.jsx("path",{d:"M34.9,158.5c-5.6,3.2-10.8,15.1-9.3,20.1,2.1,6.8,19.4,17.8,26.5,16.4,7.1-1.4,12.7-12.2,14-16.3",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M69.1,125c3.1-1,6.1-1.9,9-2.8,32.5-9.5,56.9-10.7,73.2-9.4,17.2,1.3,25.7,5.3,25.7,5.3,0,0-10.2,6.7-21.7,14.9h0c-11.5,8.3-24.4,18.1-29.6,24.2-10.4,12.2-19.7,21.8-35.5,23.6-6.3.7-15.2.3-24.1-2.1-6.2-1.6-12.4-4.2-17.7-8-5.1-3.7-9.7-7.6-13.6-12.2-1.7-2-3.3-4.2-4.7-6.5h0c-3.3-5.5-5.6-11.9-6.4-19.5-1.8-16.4,7.3-38.7,11.9-49.2s9-53.4,9-53.4c0,0,8.8,8,17.1,23,6.8,12.3,13.3,29.3,14.4,50.4,0,1.8.1,3.5.2,5.4",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M74.4,46.7C101.3,17,143.1-1.3,159.8,9.7c16.5,10.8,12.6,53.9-5.7,90.4",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Ti=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M99.6,7c37.6,0,69,44.3,75.9,90-32.4,89.7-131.7,53-151.8,36.6-1-5.6-1.6-11.6-1.6-18C22.2,64.2,56.9,7,99.6,7Z",fill:"#fcfaf0",strokeWidth:"0"}),e.jsx("path",{d:"M175.5,97c1,6.2,1.5,12.5,1.5,18.6,0,51.4-34.6,77.4-77.4,77.4s-68.7-20-75.8-59.4c20.1,16.4,119.4,53.1,151.8-36.6Z",fill:"#ede0bc",strokeWidth:"0"}),e.jsx("polyline",{points:"25 89 44.2 127 72 84.5 104 129 134.8 85.5 158.5 127 176 97",display:"none",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4"}),e.jsx("path",{d:"M175.5,97c1,6.2,1.5,12.5,1.5,18.6,0,51.4-34.6,77.4-77.4,77.4s-68.7-20-75.8-59.4c-1-5.6-1.6-11.6-1.6-18C22.2,64.2,56.9,7,99.6,7s69,44.3,75.9,90Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7"})]})),Ni=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M164.3,74.6c-1.3-1.2-2.7-2.3-4.2-3.4,14.7-4.2,22.2-1.9,25.4-34.1,2-19.5-7.6-36.5-38.2-31.1-19.1,3.4-29.4,15.3-32,31.1s3.2,16.9,8.5,23.1c-9.7.1-29.9-10.6-43,15.6,13.1-44.7-3.3-67.6-32.7-60S13.3,48.6,12.2,78c-.8,22.3,22,35.3,37.1,42.5-11.3,26.7,3.4,62.3,16.4,70.9s19.6,3.3,46.9-3.3c20.9-5,58.2-33.3,66.5-52.3,15.3-34.9,11.6-37.3-14.7-61.3Z",fill:"#fcc56b",strokeWidth:"0"}),e.jsx("path",{d:"M175.8,141.9c-81.2,36.4-115.7,20.6-130.4,7.2,1.9,19.2,11.4,37.1,20.1,42.9,9.4,6.2,19.6,3.3,46.9-3.3,19-4.5,51.3-28.2,63.4-46.8Z",fill:"#d19d4b",strokeWidth:"0"}),e.jsx("path",{d:"M57.6,110.6c24.7-5.7,79.7,24.5,98.6,49.9",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M48.3,153.3c36,6.4,54.4,18.7,68.7,33",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M13.7,88.5c4.8,15.8,24.7,28.8,37.3,35,4.1-9.2,17.4-30.7,24.7-38.9-13.9,1.7-40.1,20.1-62,3.9Z",fill:"#d19d4b",strokeWidth:"0"}),e.jsx("path",{d:"M83.2,75.9c31.7-9.2,88.9,32.7,98.1,52.1",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M116.5,32.6c32.2-4.8,41.4-2.7,66.7,20.1",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M83.2,67.7c-23.9-2.6-48.5-6-69.5,15.3",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M83.2,35c-25.8-9-47.5-10.7-63.4,4.1",fill:"none",stroke:"#d19d4b",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M164.3,74.6c-1.3-1.2-2.7-2.3-4.2-3.4,14.7-4.2,22.2-1.9,25.4-34.1,2-19.5-7.6-36.5-38.2-31.1s-29.4,15.3-32,31.1c-1.4,8.7,3.2,16.9,8.5,23.1-9.7.1-29.9-10.6-43,15.6,13.1-44.7-3.3-67.6-32.7-60S13.3,48.6,12.2,78c-.8,22.3,22,35.3,37.1,42.5-11.3,26.7,3.4,62.3,16.4,70.9s19.6,3.3,46.9-3.3c20.9-5,58.2-33.3,66.5-52.3,15.3-34.9,11.6-37.3-14.7-61.3Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Fi=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M193.5,73.6c3.1,28.5-29.9,56.2-47.1,65-24.8,12.8-46,6.6-61.3-3.3-25.9-16.9-33.6-69-8.6-104.4,4.1,4.1,7.1,8.1,9.2,13.2C117.2,11.6,131.5,5.5,175.5,6.9c7.9,32.1,9.9,56.5-2.3,81.9,10.2-4.1,14.2-11.2,20.3-15.3Z",fill:"#e84b4b",strokeWidth:"0"}),e.jsx("path",{d:"M188.1,99.2c-16.7,11-49.1,29.8-72.1,27.8-19.7-1.7-1-41-1-41,0,0-34.1,13.6-50.5,17.5,3.7,14,11,25.7,21,32.3,15.3,10,36.4,16.1,61.3,3.3,12-6.2,31.6-21.5,41.4-39.9Z",fill:"#c14242",strokeWidth:"0"}),e.jsx("path",{d:"M62.3,66.4c1.9-12.6,6.5-25,14.2-36,4.1,4.1,7.1,8.1,9.2,13.2C117.2,11.1,131.4,5,175.4,6.5c7.9,32.1,9.9,56.5-2.3,81.9,10.2-4.1,14.2-11.2,20.3-15.3,3.1,28.5-29.9,56.2-47.1,65-24.8,12.8-46,6.6-61.3-3.3-.3-.2-.6-.4-.9-.6",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M70.9,92.4c18.6,21.3,5.8,52.8-6,57.6-13.6,5.5-39.7,4.6-59.8-23.2,2.2-1.6,3.8-6.2,11.2-4.1-18.8-28.1-6.8-42.5-1.7-58.9,21.2,2.8,36.6,6.1,56.3,28.7Z",fill:"#e84b4b",strokeWidth:"0"}),e.jsx("path",{d:"M66.4,150c-4.6-16-19.4-36-19.4-36,0,0-.3,10.2-4,12s-16-10-37,1c3,6,24.1,19.5,39.5,25.6,7.9,1,15-.2,20.3-2.3.2,0,.4-.2.7-.3Z",fill:"#c14242",strokeWidth:"0"}),e.jsx("path",{d:"M65.8,149.7c-13.6,5.5-39.7,4.6-59.8-23.2,2.2-1.6,3.8-6.2,11.2-4.1-18.8-28.1-6.8-42.5-1.7-58.9,21.2,2.8,36.6,6.1,56.3,28.7,4.3,5,7,10.5,8.3,16.1",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M53.8,186.8c2.3-21,35.6-80.5,67.4-109.5-11.3,29.3-35.6,68.2-49.4,115.7-3.9,3-18-6.2-18-6.2Z",fill:"#f9c569",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Ai=a.memo(t=>e.jsx(X,{...t,children:e.jsxs("svg",{viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M14.3,142.6c8.6,21.5,22.6,31.6,27,34.6,18.6,12.7,32.2,12,58.2,11.9h.6c26,0,39.6.7,58.2-11.9,5.4-3.7,25.4-18.1,31.9-51.3.2-.8,1.1-5.2,1.6-11.4,1-12.1.4-31.1-11.1-44.1s-30.1-19.7-30.1-19.7c0,0,10.2-1,16.5-8.4,4.3-5.1,5.2-11.4,2.2-16.7-3.2-5.6-10.1-8.2-16.5-8.3-15.5-.2-31.8-.3-52.7,0h-.6c-20.9-.3-37.2-.2-52.7,0-6.3,0-13.3,2.7-16.5,8.3-3,5.3-2.2,11.6,2.2,16.7,6.3,7.4,16.5,8.4,16.5,8.4,0,0-18.6,6.7-30.1,19.7-17.4,19.6-9.9,53.1-9.4,55.5,1.2,6.2,2.9,11.8,4.8,16.7Z",fill:"#fff",strokeWidth:"0"}),e.jsx("path",{d:"M173,91.3c-3.4-8.2-11.5-18.9-26.1-19.3-12.5-.3-43.9.3-46.9.3s-34.4-.7-46.9-.3c-14.6.4-22.7,11.1-26.1,19.3-2,4.7-2,15.5-2,20.3,0,15.4,4.9,24.3,7.6,30.7,1.1,2.6,3.4,6.2,6.3,10,4.6,5.9,10.7,12.1,16.6,15,11.3,5.7,24.6,6.7,44.4,6.7h.4c19.8,0,33-1,44.4-6.7,9.5-4.8,20-18.2,22.8-25,1.2-2.9,2.9-6.3,4.4-10.7,1.8-5.2,3.2-11.6,3.2-20s0-15.6-2-20.3h0Z",fill:"#fac800",strokeWidth:"0"}),e.jsx("path",{d:"M191.5,114.5c-5.1,6.5-11.9,12.2-19.7,17.1-1.5,4.3-3.2,7.8-4.4,10.7-2.9,6.7-13.3,20.2-22.8,25-11.3,5.7-24.6,6.7-44.4,6.7h-.4c-19.8,0-33-1-44.4-6.7-5.8-2.9-12-9.1-16.6-15-9.8-2.2-18.2-5.5-24.4-9.8h-.2c8.6,21.6,22.6,31.7,27,34.7,18.6,12.7,32.2,12,58.2,11.9h.6c26,0,39.6.7,58.2-11.9,5.4-3.7,25.4-18.1,31.8-51.3.2-.8,1.1-5.2,1.7-11.4h-.3,0Z",fill:"#d8d5cb",strokeWidth:"0"}),e.jsx("path",{d:"M55.5,167.3c11.3,5.7,24.6,6.7,44.4,6.7h.4c19.8,0,33-1,44.4-6.7,9.5-4.8,20-18.2,22.8-25,1.2-2.9,2.9-6.3,4.4-10.7-35.8,22.5-94.9,29.3-132.9,20.7,4.6,5.9,10.7,12.1,16.6,15h0Z",fill:"#d69045",strokeWidth:"0"}),e.jsx("circle",{cx:"58.7",cy:"92.6",r:"9.2",fill:"#fff",strokeWidth:"0"}),e.jsx("path",{d:"M14.3,142.6c8.6,21.5,22.6,31.6,27,34.6,18.6,12.7,32.2,12,58.2,11.9h.6c26,0,39.6.7,58.2-11.9,5.4-3.7,25.4-18.1,31.9-51.3.2-.8,1.1-5.2,1.6-11.4,1-12.1.4-31.1-11.1-44.1s-30.1-19.7-30.1-19.7c0,0,10.2-1,16.5-8.4,4.3-5.1,5.2-11.4,2.2-16.7-3.2-5.6-10.1-8.2-16.5-8.3-15.5-.2-31.8-.3-52.7,0h-.6c-20.9-.3-37.2-.2-52.7,0-6.3,0-13.3,2.7-16.5,8.3-3,5.3-2.2,11.6,2.2,16.7,6.3,7.4,16.5,8.4,16.5,8.4,0,0-18.6,6.7-30.1,19.7-17.4,19.6-9.9,53.1-9.4,55.5,1.2,6.2,2.9,11.8,4.8,16.7Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})})),Li=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M76,92.9l43.2,27c-18.6,28.5-47.7,75.3-51.5,75.6-4.8.4-37.6-19.8-39.2-25.3-1.2-4,29.3-49.2,47.5-77.3Z",fill:"#f7fced",strokeWidth:"0"}),e.jsx("path",{d:"M87.1,75.1l43.4,28c-2.8,3.8-6.7,9.8-11.3,16.9l-43.2-27c4.9-7.6,8.9-13.9,11.1-17.9Z",fill:"#b8ea6a",strokeWidth:"0"}),e.jsx("path",{d:"M172.4,47.4c5.3,1.6,14,30,11.4,34-2.6,4-46.1,17.4-49.3,17.1-.4,0-1.8,1.7-4,4.6l-43.4-28c.9-1.6,1.5-2.8,1.8-3.5,3.8-10,3.7-58.3,8.4-62s41.3-6.4,42-2.1c.6,4.3-4.9,45-2.9,47.8,2.2,3.2,34.5-8.3,36-7.9Z",fill:"#37a56b",strokeWidth:"0"}),e.jsx("path",{d:"M111.5,113.9c-17.5,27.2-41.9,66.8-53.7,76.4,4.5,2.4,8.2,4,9.6,3.9,3.8-.3,32.9-47.1,51.5-75.7l-7.4-4.6Z",fill:"#dce2cc",strokeWidth:"0"}),e.jsx("path",{d:"M111.1,114.7l7.8,4.9c4.6-7.1,8.6-13,11.3-16.9l-7.8-5.1c-3.2,4.5-7,10.4-11.3,17.1Z",fill:"#a3c180",strokeWidth:"0"}),e.jsx("path",{d:"M183.6,81.1c.8-1.2.6-4.6-.3-8.9-14.4,3.9-47,12.7-53.2,15.8-1.4.7-4.1,4.1-7.8,9.3l7.8,5.1c2.1-2.9,3.6-4.6,4-4.6,3.2.3,46.8-12.8,49.4-16.8Z",fill:"#40895e",strokeWidth:"0"}),e.jsx("path",{d:"M136.4,55.2c-.9-25.7,3.6-43.5,2.9-47.8-.6-4.3-37.2-1.7-42,2.1s-4.6,52-8.4,62c-.3.8-.9,2-1.8,3.5-2.2,4-6.2,10.3-11.1,17.9-18.2,28.2-48.7,73.3-47.5,77.3,1.6,5.5,34.3,25.7,39.2,25.3,3.8-.3,32.9-47.1,51.5-75.6,4.6-7.1,8.6-13,11.3-16.9,2.1-3,3.5-4.7,4-4.6,3.2.3,46.7-13.1,49.3-17.1,2.6-4-6.1-32.4-11.4-34-1.1-.3-12.6,5-22.9,7.1",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Ri=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M126.8,158.4c9.3,26.9-6.3,33.9-18.5,36s-33.7-.5-37.5-26.2c-3.8-25.7,14.9-69.6,31-72s16.5,37.6,25,62.2Z",fill:"#efca89",strokeWidth:"0"}),e.jsx("path",{"data-name":"mushroom2",d:"M122.8,144c1.2,5.2,2.4,8.2,4,12.6,9.3,26.9-6.3,33.9-18.5,36s-33.7-.5-37.5-26.2c-.8-5.5-.6-9.9.4-16.5",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M193.5,94.9c6.5,29.8-16.8,39.5-53.8,35.6-33.7-3.5-59.9,8.1-84.7,8.1s-53,0-49.2-46.1C9.7,45.9,70,8.7,99.6,8.7c43.5,0,83.6,39.3,93.9,86.2Z",fill:"#b27054",strokeWidth:"0"}),e.jsx("path",{d:"M193.4,95.2c6.5,29.8-16.8,39.5-53.8,35.6-33.6-3.5-59.9,8.1-84.7,8.1s-47.4,0-49.4-35.5c25.1,25.9,167,16.9,184-22h0c1.6,4.5,2.9,9.1,3.9,13.7Z",fill:"#845444",strokeWidth:"0"}),e.jsx("path",{d:"M189.5,81.5c1.6,4.5,2.9,9.1,3.9,13.8,6.5,29.8-16.8,39.5-53.8,35.6-33.6-3.5-59.9,8.1-84.7,8.1s-47.4,0-49.4-35.5c-.2-3.2-.1-6.8.2-10.6C9.7,46.2,70,9,99.6,9s75.6,31.9,89.9,72.5Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7"})]})),zi=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M139.8,194.7s5-.3,9.2-3.4c4-3,6.3-6.8,6.3-10.3,0-3.5,0-92.4,0-92.4,0,0-.2-7.5-2.4-12.5-3.8-8.4-17.3-37.6-17.6-40.8-.2-2.3-.3-7,.2-7.2,5.5-1.2,12.9-4.6,10.8-12.7-2.3-8.7-10.7-7.9-10.7-7.9h-71.1s-8.4-.8-10.7,7.9,5.3,11.6,10.8,12.7c.5.2.4,4.9.2,7.2-.3,3.3-13.8,32.4-17.6,40.8-2.3,5-2.4,12.5-2.4,12.5v92.4c0,3.5,2.3,7.3,6.3,10.3,4.2,3.1,9.2,3.4,9.2,3.4h79.6Z",fill:"#fcfcfc",strokeWidth:"0"}),e.jsx("path",{d:"M155.3,88.3v92.4c0,3.5-2.3,7.3-6.3,10.3-4.2,3.1-9.2,3.4-9.2,3.4h-37.9c21.8-2.1,33.1-12.2,33.4-19.2s0-140.4,0-140.4c.3,3.3,13.8,32.4,17.6,40.9,2.3,5,2.4,12.5,2.4,12.5Z",fill:"#e5e5df",strokeWidth:"0"}),e.jsx("rect",{x:"44.7",y:"95.6",width:"110.5",height:"56.4",fill:"#4c6dc1",strokeWidth:"0"}),e.jsx("path",{d:"M155.6,95.6h-20v56.4h20v-56.4Z",fill:"#4850b5",strokeWidth:"0"}),e.jsx("path",{d:"M113.9,194.5h25.9s5-.3,9.2-3.4c4-3,6.3-6.8,6.3-10.3v-92.4s-.2-7.5-2.4-12.5c-3.8-8.4-17.3-37.6-17.6-40.9-.2-2.3-.3-7,.2-7.2,5.5-1.2,12.9-4.6,10.8-12.7-2.3-8.7-10.7-7.9-10.7-7.9h-71.1s-8.4-.8-10.7,7.9c-2.2,8.1,5.3,11.6,10.8,12.7.5.2.4,4.9.2,7.2-.3,3.3-13.8,32.4-17.6,40.9-2.3,5-2.4,12.5-2.4,12.5v92.4c0,3.5,2.3,7.3,6.3,10.3,4.2,3.1,9.2,3.4,9.2,3.4h53.7Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"8"})]})),Pi=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 -74.5 1173 1173",children:[e.jsx("path",{d:"M724.099 297.075c-44.381-67.192-84.69-112.825-106.859-125.736-4.987-2.903-15.845-9.228-30.376-9.069s-25.126 6.66-30.061 9.669c-21.875 13.342-60.827 58.923-103.302 125.661z",fill:"#6BE166"}),e.jsx("path",{d:"M656.488 272.001c11.668 0.883 26.978-15.32 27.241-30.45 0.736-42.993-119.948-79.702-123.525-72.832-2.051 3.883 36.616 15.299 64.982 58.554 15.835 24.147 18.981 43.792 31.302 44.727z",fill:"#60C95B"}),e.jsx("path",{d:"M453.492 318.633c-11.612-0.013-21.021-9.429-21.021-21.044 0-4.195 1.227-8.102 3.341-11.383 42.384-66.636 83.556-116.098 110.038-132.25 6.155-3.746 20.538-12.51 40.782-12.742s34.953 8.29 41.192 11.933c26.903 15.678 69.443 65.14 113.825 132.331 2.42 3.382 3.869 7.6 3.869 12.159 0 11.622-9.422 21.044-21.044 21.044-7.558 0-14.182-3.984-17.895-9.965-51.703-78.255-87.141-111.737-99.935-119.197-4.051-2.356-10.837-6.312-19.55-6.218s-15.352 4.209-19.329 6.587c-16.897 10.301-53.293 51.094-96.495 118.99-3.794 5.901-10.327 9.753-17.758 9.753-0.007 0-0.017 0-0.024 0z",fill:"#000000"}),e.jsx("path",{d:"M745.533 827.401c71.452-6.082 83.122 20.676 122.348 10.921 90.141-22.402 142.043-191.843 130.807-327.521-7.818-94.211-51.557-196.231-138.371-218.011-39.93-10.017-54.639 14.456-123.683 3.157-66.645-10.943-76.178-37.573-130.313-35.879-32.47 1.052-38.478 10.89-105.755 28.325-60.699 16.417-130.734 26.684-202.885 28.416 95.214-6.939 85.197-3.405 75.993 1.462-79.609 28.372-110.522 121.499-117.097 151.528-35.615 162.719 26.726 359.128 110.552 374.49 30.998 5.682 42.087-17.593 98.168-15.709 64.057 2.104 71.8 33.217 129.618 36.826 62.374 3.799 71.19-31.251 150.619-38.004z",fill:"#EF863F"}),e.jsx("path",{d:"M729.151 821.73c25.863 11.215 89.024 34.132 149.24 8.323 98.684-42.287 110.236-181.49 114.256-229.69 14.163-169.895-88.878-258.741-126.198-301.889-79.187-28.704-109.742-17.287-123.462-4.094-46.054 44.275 42.181 119.632 42.718 289.674 0.326 103.722-32.103 187.223-56.554 237.676z",fill:"#CF7436"}),e.jsx("path",{d:"M637.706 843.3c25.863-6.786 67.444-22.096 98.726-59.468 8.049-9.617 34.112-42.561 44.581-162.34 7.807-89.234 11.711-133.858-2.567-183.173-27.556-95.232-96.631-153.617-134.393-180.364 44.188 51.629 75.635 115.432 88.706 185.697 66.215 135.417-71.22 361.699-95.052 399.65z",fill:"#CF7436"}),e.jsx("path",{d:"M587.254 882.747c-34.090 0-53.661-8.418-72.599-16.540-16.75-7.197-32.617-13.994-61.804-16.668-35.647-3.262-55.008 2.873-73.736 8.817-17.077 5.419-34.721 11.017-58.637 6.187-23.411-4.734-45.643-17.887-66.076-39.088-18.202-18.877-34.438-43.582-48.326-73.452-1.239-2.603-1.963-5.654-1.963-8.875 0-11.622 9.422-21.044 21.045-21.044 8.402 0 15.653 4.924 19.027 12.042 23.507 50.57 54.347 83.018 84.65 89.152 13.215 2.672 22.906-0.401 37.563-5.050 20.58-6.523 46.191-14.647 90.298-10.607 35.879 3.283 56.439 12.121 74.579 19.907 17.14 7.364 30.66 13.173 56.323 13.12 25.474-0.053 38.877-5.85 55.838-13.184 18.003-7.785 38.415-16.614 74.157-19.991 44.192-4.209 69.864 3.757 90.487 10.185 14.73 4.578 24.463 7.608 37.71 4.902 23.147-4.714 46.159-24.011 66.666-55.819 23.947-37.152 42.151-88.245 51.251-143.874 9.701-59.301 8.481-118.433-3.515-171.021-3.924-17.212-28.083-104.859-117.97-139.36-7.423-2.83-16.009-4.673-24.961-5.122l13.283 1.744c-31.502-7.364-58.469 0.81-69.991 4.282l-2.504 0.747c-35.952 10.47-61.952-0.558-87.098-11.227-22.864-9.691-46.506-19.708-84.785-19.55-37.637 0.167-60.763 10.048-83.122 19.601-24.821 10.597-50.504 21.56-86.131 10.858l-2.736-0.841c-11.312-3.525-37.783-11.774-69.085-5.534l-0.653 0.116c-8.893 1.651-16.825 4.463-24.12 8.319-78.235 28.044-102.382 119.393-106.306 137.365-11.647 53.261-12.332 115.446-1.947 175.124 0.2 1.087 0.313 2.337 0.313 3.615 0 11.623-9.423 21.046-21.046 21.046-10.345 0-18.949-7.466-20.714-17.303-11.477-65.994-10.688-132.155 2.274-191.486 4.756-21.738 34.038-132.237 144.221-172.851 10.994-4.056 23.699-6.64 36.933-7.165 24.862-6.397 59.627 4.431 72.727 8.523l2.314 0.715c21.044 6.312 34.721 0.453 57.491-9.26 23.759-10.144 53.324-22.769 99.472-22.98 46.937-0.22 77.145 12.625 101.408 22.884 22.496 9.533 37.352 15.835 58.923 9.564l2.104-0.631c13.447-4.051 49.115-14.803 91.444-5.029 13.65 3.017 25.726 7.836 36.729 14.283 25.454 8.023 61.912 37.537 89.090 78.561 23.348 35.279 32.618 68.801 35.564 81.586 13.194 57.87 14.583 122.558 4.019 187.172-10.006 61.205-30.397 117.98-57.417 159.931-26.788 41.549-59.164 67.223-93.643 74.252-23.831 4.861-41.508-0.631-58.616-5.955-18.813-5.85-38.278-11.9-74-8.47-29.145 2.788-44.844 9.585-61.469 16.772-18.834 8.143-38.32 16.572-72.463 16.644z",fill:"#000000"}),e.jsx("path",{d:"M205.106 711.231c-9.436-0.003-17.421-6.215-20.089-14.772l-0.293-1.001c-0.618-1.892-0.975-4.070-0.975-6.33 0-11.622 9.422-21.044 21.044-21.044 9.543 0 17.604 6.353 20.181 15.061l0.27 0.907c0.58 1.835 0.914 3.946 0.914 6.135 0 11.622-9.422 21.044-21.044 21.044-0.004 0-0.007 0-0.008 0zM719.598 849.423c-11.618-0.007-21.035-9.425-21.035-21.044 0-3.33 0.773-6.479 2.15-9.277 39.936-81.133 63.434-176.715 63.697-277.76 0.797-109.222-28.852-167.754-52.632-214.786-3.63-7.165-7.060-13.942-10.322-20.749-1.319-2.673-2.091-5.819-2.091-9.146 0-11.622 9.422-21.044 21.044-21.044 8.334 0 15.537 4.844 18.945 11.872 3.117 6.521 6.452 13.099 9.967 20.053 24.504 48.4 58.080 114.687 57.186 238.097-0.978 107.827-26.632 209.437-71.577 299.757 0.198-0.773-6.978 4.027-15.274 4.027-0.021 0-0.042 0-0.064 0zM454.796 849.624c-0.002 0-0.005 0-0.007 0-8.359 0-15.578-4.872-18.974-11.933-41.713-86.488-66.069-187.915-66.1-295.030 0.106-121.567 32.154-184.583 57.975-235.202 3.62-7.102 7.039-13.805 10.185-20.349 3.622-6.656 10.566-11.098 18.546-11.098 11.622 0 21.044 9.422 21.044 21.044 0 3.003-0.629 5.859-1.763 8.444-3.304 6.842-6.829 13.744-10.553 21.067-23.779 46.622-53.24 104.606-53.346 216.58 0.096 100.582 23.024 195.783 63.878 280.737-0.598-1.654 0.147 1.441 0.147 4.709 0 11.618-9.414 21.037-21.032 21.044z",fill:"#000000"})]})),Di=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M98,195.4h39.2c4.2,0,12.4-1.5,13.8-8.8,1.9-9.4,2.9-96.9-1.6-107.8-4.2-10.5-13.1-13.4-19.7-16.8-4.5-2.3-7.9-4.8-8.1-10-.5-13.9,0-39.7,0-39.7h-43.4s.5,25.8,0,39.7c-.3,8.9-19.2,5.8-27.8,26.8-4.4,10.9-3.5,98.4-1.6,107.8,1.4,7.3,9.6,8.8,13.8,8.8h35.1Z",fill:"#fff",strokeWidth:"0"}),e.jsx("path",{d:"M84.7,1c2,11.2,2,22.5,2,22.5h26.5s0-11.2,2-22.5h-30.6Z",fill:"#333",strokeWidth:"0"}),e.jsx("path",{d:"M96,195c31-6,30.8-12.5,30.8-17V60.5l.2-.4c.9.6,1.8,1.1,2.8,1.6,6.6,3.4,15.4,6.3,19.7,16.8,4.4,10.9,3.4,98.4,1.6,107.8-1.5,7.3-9.6,8.8-13.8,8.8h-41.2Z",fill:"#eaeaea",strokeWidth:"0"}),e.jsx("path",{d:"M136.7,86.5c-1-3.7-3.5-6.9-6.6-9.4-4.6-3.7-10.3-6.3-14-7.4h-32.1c-6.2,2-18.2,7.7-20.6,16.9-2.4,9.2-2.6,82.8-1.2,90.4,1.1,5.9,5,6.1,8.1,6.1h59.3s0,0,0,0c3.1,0,7-.2,8.1-6.1,1.4-7.6,1.2-81.2-1.2-90.4Z",fill:"#e5df6c",strokeWidth:"0"}),e.jsx("path",{d:"M136.9,86.5c-1-3.7-3.5-6.9-6.6-9.4-1-.9-2.1-1.6-3.3-2.4v103.2c0,1.5,0,3.2-1.1,5h4s0,0,0,0c3.1,0,7-.2,8.1-6.1,1.4-7.6,1.2-81.2-1.2-90.4Z",fill:"#d1c361",strokeWidth:"0"}),e.jsx("circle",{cx:"82.8",cy:"88.8",r:"7.2",fill:"#fff",strokeWidth:"0"}),e.jsx("path",{d:"M78.3,11.9",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M78.3,11.9s.5,25.8,0,39.7c-.3,8.9-19.2,5.8-27.8,26.8-4.4,10.9-3.4,98.4-1.6,107.8,1.4,7.3,9.6,8.8,13.8,8.8h74.4c4.2,0,12.4-1.5,13.8-8.8,1.9-9.4,2.9-96.9-1.6-107.8-4.2-10.5-13.1-13.4-19.7-16.8-1-.5-1.9-1-2.8-1.6-3.1-2-5.2-4.4-5.3-8.5-.5-13.9,0-39.7,0-39.7",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Wi=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M9.5,72.9c6.7-11.9,36.3-52.2,73.9-53.2,54.7-1.4,70,18.5,83.3,31.8,16.5,16.5,43.5,58.4,17.5,89.8-20.2,24.4-38.9,33.6-66.8,38.5-34.6,6.1-74.4-4.1-93.7-21.4S3.3,83.9,9.5,72.9Z",fill:"#f4bf7a",strokeWidth:"0"}),e.jsx("path",{d:"M180.2,120.8c-29.3,11.9-40,23.1-67.9,28-34.6,6.1-69.6-11.6-93.7-21.4-6.2-2.5-10.7-7.4-13.8-13.6,1.5,16.3,6.7,33.6,18.9,44.6,19.4,17.3,59.1,27.5,93.7,21.4,27.9-4.9,46.6-14.1,66.8-38.5,8.5-10.3,11.3-21.7,10.7-33-2.8,5.3-7.5,9.6-14.7,12.5Z",fill:"#c18f4d",strokeWidth:"0"}),e.jsx("path",{d:"M65.4,63.1c-3.7,5.4-9.7,6.9-14,4.1",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M142,107.4c-6.4,1.5-11.8-1.5-13.1-6.4",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M59.2,140.2c6.3,1.6,9.8,6.7,8.8,11.7",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M9.5,72.9c6.7-11.9,36.3-52.2,73.9-53.2,54.7-1.4,70,18.5,83.3,31.8,16.5,16.5,43.5,58.4,17.5,89.8-20.2,24.4-38.9,33.6-66.8,38.5-34.6,6.1-74.4-4.1-93.7-21.4S3.3,83.9,9.5,72.9Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7.1"})]})),Hi=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M68.2,72.3c-17,19.8-38.2,33-49.3,51.4-5.6,9.3-10.7,34.4,5.2,53.4,10.7,12.8,39.4,21.8,62.7,11.2,23.8-10.9,44.5-26.9,61.8-47.2,17.4-20.3,30-43.2,37.1-68.4,6.9-24.6-6.5-51.7-20.8-60.2-21.2-12.7-45.3-3.8-53.6,3.2-16.5,13.8-26.2,36.9-43.2,56.7Z",fill:"#ea9e6a",strokeWidth:"0"}),e.jsx("path",{d:"M13.6,141.5c-1,11,1,24.4,10.4,35.6,10.7,12.8,39.4,21.8,62.7,11.2,23.8-10.9,44.5-26.9,61.8-47.2,9.6-11.2,17.7-23.2,24.3-35.9-40,41.5-117.8,87.7-159.2,36.4Z",fill:"#d8855b",strokeWidth:"0"}),e.jsx("path",{d:"M100.4,39.9c-6.2,10.1-19.1,23.5-12.4,27.1s15.4-1.9,27.8-22c10.2-16.4,19-24.9,12.2-29s-15.2,3.8-27.6,23.9Z",fill:"#ffe5d4",strokeWidth:"0"}),e.jsx("path",{d:"M68.2,72.3c-17,19.8-38.2,33-49.3,51.4-5.6,9.3-10.7,34.4,5.2,53.4,10.7,12.8,39.4,21.8,62.7,11.2,23.8-10.9,44.5-26.9,61.8-47.2,17.4-20.3,30-43.2,37.1-68.4,6.9-24.6-6.5-51.7-20.8-60.2-21.2-12.7-45.3-3.8-53.6,3.2-16.5,13.8-26.2,36.9-43.2,56.7Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),Oi=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M192.59,54.2c8.23,36.5-30.18,56.32-67.37,44.26-38.62-12.52-51.67-58.47-28.78-81.51,19.5-19.63,41.09-.94,53.2,3.24,13.53,4.68,37.48,9.77,42.94,34.01Z",fill:"#f9d79b"}),e.jsx("path",{d:"M165.22,36.97c-2.26,5.29-12.03,6.19-21.82,2-9.79-4.19-15.89-11.87-13.63-17.16,2.26-5.29,9.98-1.4,19.77,2.79s17.94,7.08,15.68,12.37Z",fill:"#845e41"}),e.jsx("path",{d:"M193.77,57.19c-11.23,19.25-36.16,33.08-62.85,25.7-20.04-5.54-36.95-15.47-44.61-30.42,2.49,19.44,16.45,39.04,39.65,46.56,25.39,8.23,51.35,1.6,62.65-15.06,4.22-8.64,5.94-18.3,5.15-26.78Z",fill:"#edb158"}),e.jsx("path",{d:"M193.01,54.42c8.23,36.5-30.18,56.32-67.37,44.26-38.62-12.52-51.67-58.47-28.78-81.51,19.5-19.63,41.09-.94,53.2,3.24,13.53,4.68,37.48,9.77,42.94,34.01Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M78.61,65.86c36.87,6.41,40.43,49.49,15.02,79.2-26.38,30.85-73.82,25.28-86.31-4.71-10.64-25.54,14.9-38.31,23.41-47.88,9.51-10.7,23.41-30.86,47.88-26.6Z",fill:"#f9d79b"}),e.jsx("path",{d:"M50.55,84.81c3.17,2.97.34,11.16-6.34,18.3s-14.66,10.52-17.83,7.56c-3.17-2.97.41-10.27,7.09-17.41,6.67-7.14,13.91-11.42,17.09-8.45Z",fill:"#845e41"}),e.jsx("path",{d:"M94.69,144.77c11.03-12.9,16.59-28.32,16.35-42.16-.15-1.15-.33-2.29-.55-3.42-7.21,21.6-27.82,40.37-54.35,46.77-17.1,4.13-33.58,2.36-46.81-3.84,13.78,28.15,59.59,32.78,85.36,2.65Z",fill:"#edb158"}),e.jsx("path",{d:"M78.97,65.56c36.87,6.41,40.43,49.49,15.02,79.2-26.38,30.85-73.82,25.28-86.31-4.71-10.64-25.54,14.9-38.31,23.41-47.88,9.51-10.7,23.41-30.86,47.88-26.6Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M87.31,162.2c-17.43-33.11,14.5-62.23,53.54-60.26,40.55,2.05,65.09,43.02,48.98,71.23-13.73,24.02-39.43,11.59-52.21,10.7-14.28-1-38.73.31-50.31-21.67Z",fill:"#f9d79b"}),e.jsx("path",{d:"M190.04,173.56c3.12-5.45,4.71-11.38,4.96-17.42,0-1.21,0-2.41,0-3.6-.08-1.85-.29-3.69-.61-5.54-14.56,26.43-33.77,22.52-60.28,22.24-24.52-.26-34.74-2.24-51.05-19.81.66,4.26,2.1,8.67,4.46,13.15,11.57,21.98,36.03,20.68,50.31,21.67,12.78.89,38.49,13.32,52.21-10.7Z",fill:"#edb158"}),e.jsx("path",{d:"M116.4,171.54c.95-5.68,10.24-8.85,20.74-7.09,10.5,1.76,18.24,7.79,17.29,13.47-.95,5.68-9.37,3.71-19.87,1.95-10.5-1.76-19.1-2.65-18.15-8.33Z",fill:"#634731"}),e.jsx("path",{d:"M86.85,162.1c-17.43-33.11,14.5-62.23,53.54-60.26,40.55,2.05,65.09,43.02,48.98,71.23-13.73,24.02-39.43,11.59-52.21,10.7-14.28-1-38.73.31-50.31-21.67Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),$i=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M139.7,6.2c17.4-2.6,74,34,48.1,95.2-4.6,10.9-86.1,1.8-103.1,20.8s6.9,54.6,34.2,70.9c-35,5.5-116.4-19.4-111.2-86.9C10.7,67.2,52.7,19.2,139.7,6.2Z",fill:"#f2bbc4",strokeWidth:"0"}),e.jsx("path",{d:"M7.7,106.2c.8-10,4.1-20.6,10.1-31.1.4,0,.7-.1,1.1-.2,51-7,64,28,65.2,47.9-19.7,23.1,7.7,54.1,34.8,70.3-35,5.5-116.4-19.4-111.2-86.9Z",fill:"#fcfafa",strokeWidth:"0"}),e.jsx("path",{d:"M94.1,172.9c9.3,17.7-24.9,6.6-73.6-20.7,23.4,32.7,73.4,44.8,98.7,40.8-8.9-5.4-17.9-12.3-25.2-20.1Z",fill:"#d6c8cc",strokeWidth:"0"}),e.jsx("path",{d:"M85,122c-5-18,96-24,108-48,.8,11.8-2,22-5.2,27.4-6,10.1-85.4,1.9-102.8,20.6Z",fill:"#d898a5",strokeWidth:"0"}),e.jsx("path",{d:"M139.7,6.2c17.4-2.6,74,34,48.1,95.2-4.6,10.9-86.1,1.8-103.1,20.8s6.9,54.6,34.2,70.9c-35,5.5-116.4-19.4-111.2-86.9C10.7,67.2,52.7,19.2,139.7,6.2Z",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"})]})),_i=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 200 200",children:[e.jsx("path",{d:"M100.6,193.1c67.9-2.3,93.3-35.2,93.3-74.9s-25.4-67.8-93.3-68.7h0C32.7,50.4,7.3,78.6,7.3,118.3s25.4,72.6,93.3,74.9h0Z",fill:"#ed4f4f",strokeWidth:"0"}),e.jsx("path",{d:"M193.8,120.1c0,0-.1.1-.2.2-53.5,65.1-160.6,43.6-178.8,28.1,0,0-.5.3-1.3.9,11.2,24.6,38,42.2,87,43.8h0c66.8-2.2,92.5-34.2,93.3-73Z",fill:"#bc4d4a",strokeWidth:"0"}),e.jsx("path",{d:"M156.8,60.3c25.5,11.8,36,32.5,36,58,0,39.6-25.4,72.6-93.3,74.9h1.1C32.7,190.9,7.3,157.9,7.3,118.3s10.5-46.2,36-58",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.2"}),e.jsx("path",{d:"M100.3,64.3c-30.7.2-55.7-13.3-58.1-35.7,25.4,22.6,37.8,17.7,37.8,17.7,0,0-9.9-24.6-3.5-39.5,12.4,32.9,23.5,36.6,23.5,36.6,0,0,11.3-3.7,23.7-36.6,6.4,14.9-3.5,39.5-3.5,39.5,0,0,12.3,4.9,37.8-17.7-2.5,22.4-27.4,35.9-58.1,35.7h.5Z",fill:"#5f935f",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8.4"})]})),we=a.memo(({name:t})=>{switch(t){case"apple":return e.jsx(Bi,{});case"cacao":return e.jsx(Ii,{});case"coffee":return e.jsx(Mi,{});case"corn":return e.jsx(Ei,{});case"egg":return e.jsx(Ti,{});case"ginger":return e.jsx(Ni,{});case"herb":return e.jsx(Fi,{});case"honey":return e.jsx(Ai,{});case"leek":return e.jsx(Li,{});case"mushroom":return e.jsx(Ri,{});case"milk":return e.jsx(zi,{});case"oil":return e.jsx(Di,{});case"potato":return e.jsx(Wi,{});case"pumpkin":return e.jsx(Pi,{});case"sausage":return e.jsx(Hi,{});case"soy":return e.jsx(Oi,{});case"tail":return e.jsx($i,{});case"tomato":return e.jsx(_i,{});case"unknown":return e.jsx("svg",{width:"24",height:"20",viewBox:"0 0 24 24",children:e.jsx("svg",{viewBox:"0 0 200 200",children:e.jsx("line",{x1:"10",y1:"100",x2:"180",y2:"100",stroke:"#bbbbbb",strokeWidth:"12"})})});case"unknown1":return e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#eaae35"})});case"unknown2":return e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#56c0fe"})});case"unknown3":return e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:e.jsx("circle",{cx:"12",cy:"12",r:"8",fill:"#f55865"})})}return e.jsx(e.Fragment,{})}),or=a.memo(({ingredient:t,checked:n,onClick:r})=>{const i=w.useCallback(s=>{const l=s.currentTarget.value;r(l)},[r]);return e.jsxs(Vi,{value:t,onClick:i,children:[e.jsx(we,{name:t}),n&&e.jsx(Te,{role:"switch"})]},t)}),Vi=B(F)({width:"20%",height:"40px",color:"white",fontSize:"0.9rem",padding:0,margin:"0.2rem",borderRadius:"0.5rem",'& > svg.MuiSvgIcon-root[role="switch"]':{position:"absolute",background:"#24d76a",borderRadius:"15px",fontSize:"15px",border:"2px solid white",bottom:"0px",right:"10px"}}),tt=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 150 150",children:[e.jsx("path",{fill:"#FFEB32",d:"M33.76,62.78h-0.98c0-8.04-3.01-15.06-9.01-21.07c-6-6-13.03-9.01-21.07-9.01v-0.98 c8.04,0,15.07-3.01,21.07-9.02c6-6.03,9.01-13.06,9.01-21.07h0.98c0,8.04,3.01,15.07,9.01,21.07c6,6,13.03,9.01,21.07,9.01v0.98 c-8.04,0-15.07,3.01-21.07,9.01C36.77,47.72,33.76,54.74,33.76,62.78L33.76,62.78L33.76,62.78z M15.89,99.59h-0.45 c0-3.68-1.38-6.91-4.14-9.66c-2.75-2.75-5.98-4.14-9.66-4.14v-0.45c3.68,0,6.91-1.38,9.66-4.14c2.75-2.76,4.14-5.98,4.14-9.65h0.45 c0,3.68,1.38,6.91,4.14,9.66c2.75,2.75,5.97,4.14,9.66,4.14v0.45c-3.68,0-6.91,1.38-9.66,4.14C17.26,92.68,15.89,95.91,15.89,99.59 L15.89,99.59L15.89,99.59z M62.44,121.24h-0.45c0-3.68-1.38-6.91-4.14-9.66c-2.75-2.75-5.97-4.14-9.66-4.14v-0.45 c3.68,0,6.91-1.38,9.66-4.14c2.75-2.76,4.14-5.98,4.14-9.65h0.45c0,3.68,1.38,6.91,4.14,9.66c2.75,2.75,5.97,4.14,9.66,4.14v0.45 c-3.68,0-6.91,1.38-9.66,4.14C63.82,114.33,62.44,117.55,62.44,121.24L62.44,121.24L62.44,121.24z M93.6,87.19h-0.82 c0-6.74-2.52-12.64-7.56-17.68c-5.04-5.04-10.93-7.56-17.68-7.56v-0.82c6.74,0,12.64-2.52,17.68-7.57 c5.04-5.05,7.56-10.95,7.56-17.67h0.82c0,6.74,2.52,12.64,7.56,17.68c5.04,5.04,10.93,7.56,17.68,7.56v0.82 c-6.74,0-12.64,2.52-17.68,7.56C96.13,74.55,93.6,80.45,93.6,87.19L93.6,87.19L93.6,87.19z"}),e.jsx("path",{fill:"#D9C829",d:"M33.76,64.42h-0.98c-0.9,0-1.64-0.73-1.64-1.64c0-3.8-0.71-7.36-2.12-10.66c-1.42-3.31-3.55-6.4-6.41-9.25 l-0.08-0.09c-2.83-2.81-5.89-4.92-9.17-6.33c-3.3-1.41-6.86-2.12-10.66-2.12c-0.9,0-1.64-0.73-1.64-1.64v-0.98 c0-0.9,0.73-1.64,1.64-1.64c3.8,0,7.36-0.71,10.66-2.12c3.32-1.42,6.4-3.56,9.25-6.41c2.85-2.87,4.99-5.96,6.41-9.28 c1.41-3.3,2.12-6.85,2.12-10.63c0-0.9,0.73-1.64,1.64-1.64h0.98c0.9,0,1.64,0.73,1.64,1.64c0,3.8,0.71,7.36,2.12,10.66 c1.42,3.31,3.55,6.4,6.41,9.25c2.86,2.86,5.94,5,9.25,6.41c3.3,1.41,6.85,2.12,10.66,2.12c0.9,0,1.64,0.73,1.64,1.64v0.98 c0,0.9-0.73,1.64-1.64,1.64c-3.8,0-7.36,0.71-10.66,2.12c-3.31,1.42-6.4,3.55-9.25,6.41l-0.08,0.08c-2.81,2.84-4.92,5.9-6.33,9.19 c-1.41,3.3-2.12,6.86-2.12,10.66C35.4,63.69,34.66,64.42,33.76,64.42L33.76,64.42z M32.03,50.85c0.49,1.14,0.9,2.31,1.24,3.5 c0.34-1.19,0.75-2.36,1.24-3.51c1.57-3.67,3.91-7.08,7.02-10.21l0.09-0.09c3.15-3.15,6.58-5.51,10.29-7.1 c1.14-0.49,2.31-0.9,3.5-1.24c-1.19-0.34-2.36-0.75-3.5-1.24c-3.71-1.59-7.14-3.96-10.29-7.1s-5.51-6.58-7.1-10.29 c-0.49-1.15-0.91-2.32-1.25-3.52c-0.34,1.19-0.75,2.35-1.24,3.49c-1.58,3.7-3.95,7.14-7.1,10.31c-3.15,3.16-6.58,5.53-10.29,7.12 c-1.15,0.49-2.32,0.91-3.51,1.24c1.19,0.34,2.36,0.75,3.51,1.24c3.67,1.57,7.07,3.91,10.2,7.02l0.09,0.09 C28.07,43.7,30.44,47.14,32.03,50.85L32.03,50.85z M15.89,101.23h-0.45c-0.9,0-1.64-0.73-1.64-1.64c0-1.62-0.3-3.14-0.9-4.54 c-0.6-1.41-1.52-2.74-2.76-3.97c-1.23-1.23-2.56-2.15-3.97-2.76c-1.4-0.6-2.92-0.9-4.54-0.9C0.73,87.43,0,86.7,0,85.79v-0.45 c0-0.9,0.73-1.64,1.64-1.64c1.62,0,3.14-0.3,4.54-0.9c1.41-0.6,2.73-1.52,3.97-2.76l0.08-0.08c1.19-1.21,2.08-2.51,2.68-3.9 c0.6-1.4,0.9-2.91,0.9-4.53c0-0.9,0.73-1.64,1.64-1.64h0.45c0.9,0,1.64,0.73,1.64,1.64c0,1.62,0.3,3.14,0.9,4.54 c0.6,1.41,1.52,2.73,2.75,3.97s2.55,2.15,3.96,2.76c1.4,0.6,2.92,0.9,4.54,0.9c0.9,0,1.64,0.73,1.64,1.64v0.45 c0,0.9-0.73,1.64-1.64,1.64c-1.62,0-3.14,0.3-4.54,0.9c-1.41,0.6-2.73,1.52-3.97,2.76l-0.09,0.08c-1.19,1.2-2.08,2.49-2.67,3.87 c-0.6,1.4-0.9,2.92-0.9,4.55C17.53,100.49,16.79,101.23,15.89,101.23L15.89,101.23z M12.46,88.77c1.37,1.37,2.44,2.86,3.2,4.47 c0.75-1.57,1.79-3.02,3.13-4.37l0.08-0.09c1.37-1.37,2.86-2.44,4.47-3.2c-1.61-0.77-3.1-1.84-4.47-3.21 c-1.37-1.37-2.44-2.87-3.21-4.48c-0.75,1.56-1.79,3.02-3.11,4.37l-0.09,0.1c-1.37,1.37-2.86,2.44-4.47,3.21 C9.59,86.33,11.09,87.4,12.46,88.77L12.46,88.77z M62.44,122.88h-0.45c-0.9,0-1.64-0.73-1.64-1.64c0-1.62-0.3-3.14-0.9-4.54 c-0.6-1.41-1.52-2.73-2.76-3.97l-0.08-0.08c-1.21-1.19-2.5-2.08-3.89-2.67c-1.4-0.6-2.92-0.9-4.54-0.9c-0.9,0-1.64-0.73-1.64-1.64 v-0.45c0-0.9,0.73-1.64,1.64-1.64c1.62,0,3.14-0.3,4.54-0.9c1.41-0.6,2.74-1.52,3.97-2.76l0.08-0.08c1.19-1.21,2.08-2.51,2.68-3.9 c0.6-1.4,0.9-2.91,0.9-4.53c0-0.9,0.73-1.64,1.64-1.64h0.45c0.9,0,1.64,0.73,1.64,1.64c0,1.62,0.3,3.14,0.9,4.54 c0.6,1.41,1.52,2.73,2.75,3.97c1.23,1.23,2.55,2.15,3.96,2.76c1.4,0.6,2.92,0.9,4.54,0.9c0.9,0,1.64,0.73,1.64,1.64v0.45 c0,0.9-0.73,1.64-1.64,1.64c-1.62,0-3.14,0.3-4.54,0.9c-1.41,0.6-2.73,1.52-3.97,2.76l-0.09,0.08c-1.19,1.2-2.08,2.49-2.67,3.87 c-0.6,1.4-0.9,2.91-0.9,4.54C64.08,122.15,63.35,122.88,62.44,122.88L62.44,122.88z M59.01,110.42c1.37,1.37,2.44,2.86,3.2,4.47 c0.75-1.57,1.79-3.02,3.13-4.37l0.08-0.09c1.37-1.37,2.86-2.44,4.47-3.2c-1.61-0.77-3.1-1.84-4.47-3.21 c-1.37-1.37-2.44-2.87-3.21-4.48c-0.75,1.56-1.79,3.02-3.11,4.37l-0.09,0.1c-1.37,1.37-2.86,2.44-4.47,3.2 c1.57,0.75,3.03,1.79,4.37,3.12L59.01,110.42L59.01,110.42z M93.6,88.82h-0.82c-0.9,0-1.64-0.73-1.64-1.64 c0-3.15-0.59-6.1-1.76-8.84c-1.17-2.75-2.95-5.31-5.33-7.69c-2.38-2.38-4.94-4.15-7.68-5.33c-2.73-1.17-5.68-1.76-8.84-1.76 c-0.9,0-1.64-0.73-1.64-1.64v-0.82c0-0.9,0.73-1.64,1.64-1.64c3.16,0,6.1-0.59,8.84-1.76c2.75-1.18,5.31-2.96,7.68-5.33 c2.37-2.38,4.15-4.95,5.33-7.7c1.17-2.74,1.76-5.68,1.76-8.82c0-0.9,0.73-1.64,1.64-1.64h0.82c0.9,0,1.64,0.73,1.64,1.64 c0,3.15,0.59,6.1,1.76,8.84c1.18,2.75,2.95,5.32,5.32,7.69c2.37,2.37,4.93,4.15,7.69,5.32c2.74,1.17,5.68,1.76,8.84,1.76 c0.9,0,1.64,0.73,1.64,1.64v0.82c0,0.9-0.73,1.64-1.64,1.64c-3.15,0-6.1,0.59-8.84,1.76c-2.75,1.18-5.32,2.95-7.69,5.32 c-2.37,2.38-4.15,4.94-5.32,7.69c-1.17,2.74-1.76,5.68-1.76,8.84C95.24,88.09,94.51,88.82,93.6,88.82L93.6,88.82z M92.39,77.07 c0.3,0.7,0.57,1.42,0.8,2.14c0.23-0.72,0.5-1.44,0.8-2.14c1.35-3.15,3.35-6.06,6.02-8.72c2.68-2.67,5.58-4.67,8.72-6.02 c0.7-0.3,1.41-0.57,2.14-0.8c-0.72-0.23-1.44-0.5-2.14-0.8c-3.14-1.34-6.04-3.35-8.71-6.02l-0.01-0.01 c-2.67-2.67-4.67-5.57-6.02-8.71c-0.3-0.7-0.57-1.42-0.8-2.15c-0.23,0.72-0.5,1.43-0.8,2.13c-1.34,3.14-3.35,6.05-6.02,8.72 c-2.67,2.68-5.58,4.69-8.72,6.03c-0.7,0.3-1.42,0.57-2.14,0.8c0.72,0.23,1.44,0.5,2.14,0.8c3.15,1.35,6.05,3.35,8.72,6.02 C89.04,71.01,91.05,73.92,92.39,77.07L92.39,77.07z"})]})),Un=a.memo(t=>e.jsx(X,{...t,viewBox:"0 0 200 200",children:e.jsxs("g",{transform:"scale(0.6)",children:[e.jsxs("g",{transform:"translate(30, 0)",children:[e.jsx("path",{d:"M139.8,194.7s5-.3,9.2-3.4c4-3,6.3-6.8,6.3-10.3,0-3.5,0-92.4,0-92.4,0,0-.2-7.5-2.4-12.5-3.8-8.4-17.3-37.6-17.6-40.8-.2-2.3-.3-7,.2-7.2,5.5-1.2,12.9-4.6,10.8-12.7-2.3-8.7-10.7-7.9-10.7-7.9h-71.1s-8.4-.8-10.7,7.9,5.3,11.6,10.8,12.7c.5.2.4,4.9.2,7.2-.3,3.3-13.8,32.4-17.6,40.8-2.3,5-2.4,12.5-2.4,12.5v92.4c0,3.5,2.3,7.3,6.3,10.3,4.2,3.1,9.2,3.4,9.2,3.4h79.6Z",fill:"#fcfcfc",strokeWidth:"0"}),e.jsx("path",{d:"M155.3,88.3v92.4c0,3.5-2.3,7.3-6.3,10.3-4.2,3.1-9.2,3.4-9.2,3.4h-37.9c21.8-2.1,33.1-12.2,33.4-19.2s0-140.4,0-140.4c.3,3.3,13.8,32.4,17.6,40.9,2.3,5,2.4,12.5,2.4,12.5Z",fill:"#e5e5df",strokeWidth:"0"}),e.jsx("rect",{x:"44.7",y:"95.6",width:"110.5",height:"56.4",fill:"#4c6dc1",strokeWidth:"0"}),e.jsx("path",{d:"M155.6,95.6h-20v56.4h20v-56.4Z",fill:"#4850b5",strokeWidth:"0"}),e.jsx("path",{d:"M113.9,194.5h25.9s5-.3,9.2-3.4c4-3,6.3-6.8,6.3-10.3v-92.4s-.2-7.5-2.4-12.5c-3.8-8.4-17.3-37.6-17.6-40.9-.2-2.3-.3-7,.2-7.2,5.5-1.2,12.9-4.6,10.8-12.7-2.3-8.7-10.7-7.9-10.7-7.9h-71.1s-8.4-.8-10.7,7.9c-2.2,8.1,5.3,11.6,10.8,12.7.5.2.4,4.9.2,7.2-.3,3.3-13.8,32.4-17.6,40.9-2.3,5-2.4,12.5-2.4,12.5v92.4c0,3.5,2.3,7.3,6.3,10.3,4.2,3.1,9.2,3.4,9.2,3.4h53.7Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"8"})]}),e.jsxs("g",{transform:"translate(133, 130)",children:[e.jsx("path",{d:"M9.5,72.9c6.7-11.9,36.3-52.2,73.9-53.2,54.7-1.4,70,18.5,83.3,31.8,16.5,16.5,43.5,58.4,17.5,89.8-20.2,24.4-38.9,33.6-66.8,38.5-34.6,6.1-74.4-4.1-93.7-21.4S3.3,83.9,9.5,72.9Z",fill:"#f4bf7a",strokeWidth:"0"}),e.jsx("path",{d:"M180.2,120.8c-29.3,11.9-40,23.1-67.9,28-34.6,6.1-69.6-11.6-93.7-21.4-6.2-2.5-10.7-7.4-13.8-13.6,1.5,16.3,6.7,33.6,18.9,44.6,19.4,17.3,59.1,27.5,93.7,21.4,27.9-4.9,46.6-14.1,66.8-38.5,8.5-10.3,11.3-21.7,10.7-33-2.8,5.3-7.5,9.6-14.7,12.5Z",fill:"#c18f4d",strokeWidth:"0"}),e.jsx("path",{d:"M65.4,63.1c-3.7,5.4-9.7,6.9-14,4.1",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M142,107.4c-6.4,1.5-11.8-1.5-13.1-6.4",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M59.2,140.2c6.3,1.6,9.8,6.7,8.8,11.7",fill:"none",stroke:"#5b4728",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7.1"}),e.jsx("path",{d:"M9.5,72.9c6.7-11.9,36.3-52.2,73.9-53.2,54.7-1.4,70,18.5,83.3,31.8,16.5,16.5,43.5,58.4,17.5,89.8-20.2,24.4-38.9,33.6-66.8,38.5-34.6,6.1-74.4-4.1-93.7-21.4S3.3,83.9,9.5,72.9Z",fill:"none",stroke:"#333",strokeMiterlimit:"10",strokeWidth:"7.1"})]}),e.jsxs("g",{transform:"translate(0,140)",children:[e.jsx("path",{d:"M100,43.7c-5.5,0-11.4-.7-19.1-1.7-23.9-5.9-48.6,3.8-62.9,25.1-12.5,18.5-13.9,38.9-10.1,59.4,3.8,21.1,13.4,39.8,31.2,54,15.3,14.6,31.3,18,50,10.2,4.2-.3,7-1.4,10.9-1.7,3.9.3,6.7,1.4,10.9,1.7,18.8,7.8,34.8,4.4,50-10.2,17.8-14.1,27.4-32.9,31.2-54,3.7-20.5,2.3-40.9-10.1-59.4-14.3-21.3-39.1-31-62.9-25.1-7.7,1-13.6,1.7-19.1,1.7Z",fill:"#ef3930",strokeWidth:"0"}),e.jsx("path",{d:"M101.8,56.7c15.2,0,28.1-9.9,32-16.3-4.9,0-9.8.5-14.7,1.7-7.7,1-13.6,1.7-19.1,1.7-5.5,0-11.4-.7-19.1-1.7-3.7-.9-7.4-1.4-11.1-1.6,3.9,6.5,16.8,16.3,31.9,16.3Z",fill:"#b52a2a",strokeWidth:"0"}),e.jsx("path",{d:"M192.5,120.3h.7c-1.4,11.1-4.5,21.9-9.3,31.6-3.9,8.1-9.1,15.4-15.4,21.8-6.5,6.5-13.9,13.2-22.2,17.2-7.5,3.6-15.9,4.7-24.1,3.2-6.9-1.2-13.1-4.9-20.2-5.1-4.8-.2-9,.3-13.6,1.9-8.5,2.9-16.8,4.9-25.7,3.1-9.1-1.9-16.4-7.1-23.2-13.1s-13.2-12.1-18.2-19.8c-4.4-6.7-7.8-14-10.3-21.7,42.3,29.3,144.3,13.7,181.5-19.1Z",fill:"#b52a2a",strokeWidth:"0"}),e.jsx("path",{d:"M160.9,167.4c-13.5,4.7-17.5-9.9-25.3-9-9.1,1-9.7,16-35.6,15.7-22.7-.3-30.2-16-34.8-16.6-9.8-1.2-6.6,11.2-15.5,12.6-11.8,1.9-21.7-6.8-32-14.9,5.1,9.5,12.1,18,21.3,25.3,15.3,14.6,31.3,18,50,10.2,4.2-.3,7-1.4,10.9-1.7,3.9.3,6.7,1.4,10.9,1.7,18.8,7.8,34.8,4.4,50-10.2,11.6-9.2,19.6-20.3,24.9-32.8-7.8,7.9-18.2,17.3-25,19.7Z",fill:"#cc8d27",strokeWidth:"0"}),e.jsx("path",{d:"M115.6,42.5c8.9-1.1,17.1-2.9,26.1-1.5,8.3,1.3,16.3,4.4,23.3,9.1,15.9,10.7,25.9,28.7,28.3,47.5.9,7.4.9,15.1,0,22.7-1.4,11-4.5,21.8-9.3,31.5-3.9,8.1-9.1,15.4-15.4,21.8-6.5,6.5-13.9,13.2-22.2,17.2-7.5,3.6-15.9,4.7-24.1,3.2-6.9-1.2-13.1-4.9-20.2-5.1-4.8-.2-9,.3-13.6,1.9-8.5,2.9-16.8,4.9-25.7,3.1-9.1-1.9-16.4-7.1-23.2-13.1s-13.2-12.1-18.2-19.8c-4.4-6.7-7.8-14-10.3-21.7-3.2-9.9-4.8-20.3-4.9-30.6-.5-37,28-72.5,67.3-68.2,4.6.5,9.1,1.6,13.7,2.1",fill:"none",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"7"}),e.jsx("path",{d:"M106.4,5.2l7.7,5.4c-3,6.4-9.5,13.5-12.7,39,0,0-4-16.4-2.7-27s7.8-17.4,7.8-17.4Z",fill:"#8c5144",stroke:"#333",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6"})]})]})})),Tt=a.memo(t=>e.jsxs(X,{...t,viewBox:"0 0 512 512",children:[e.jsx("path",{d:`M218.856,98.781c4.859,1.75,12.844,4.656,12.844,11.5h48.578c0-6.844,8.016-9.75,12.875-11.5
                c5.344-1.906,16.813-9.938,16.813-22.813c0-20.375-20.234-35.391-53.969-35.391s-53.969,15.016-53.969,35.391
                C202.028,88.844,213.497,96.875,218.856,98.781z`}),e.jsx("path",{d:"M447.872,167.469c0-22.813-18.469-41.281-41.281-41.281H105.388c-22.797,0-41.266,18.469-41.266,41.281v24.75h383.75V167.469z"}),e.jsx("path",{d:`M492.388,215.594c-10.813,0-32.813,0-44.516,0h-7.75H71.888h-7.766c-11.703,0-33.688,0-44.516,0
                c-27.5,0-24.75,26.141,0,30.266c12.328,2.047,31.719,10.828,44.516,24.328v159.969c0,22.797,18.469,41.266,41.266,41.266h301.203
                c22.813,0,41.281-18.469,41.281-41.266V270.203c12.797-13.516,32.188-22.297,44.516-24.344
                C517.153,241.734,519.888,215.594,492.388,215.594z`})]})),Ue=a.memo(({mainSkill:t,second:n,firstIngredient:r})=>{switch(t){case"Charge Energy S":case"Charge Energy S (Moonlight)":return e.jsx(ns,{sx:{color:"#ff88aa"},fontSize:"small"});case"Energy for Everyone S":return e.jsx(Bt,{sx:{color:"#ff88aa"},fontSize:"small"});case"Energy for Everyone S (Lunar Blessing)":return n!==!0?e.jsx(Bt,{sx:{color:"#ff88aa"},fontSize:"small"}):e.jsx(ge,{sx:{color:"#ff944b"}});case"Energizing Cheer S":return e.jsx(wt,{sx:{color:"#ff88aa"},fontSize:"small"});case"Charge Strength M":case"Charge Strength M (Bad Dreams)":case"Charge Strength S":case"Charge Strength S (Random)":case"Charge Strength S (Stockpile)":case"Berry Burst":case"Berry Burst (Disguise)":return e.jsx(ge,{sx:{color:"#ff944b"}});case"Dream Shard Magnet S":case"Dream Shard Magnet S (Random)":return e.jsx(tt,{});case"Extra Helpful S":return e.jsx(Nn,{sx:{color:"#66cc66"},fontSize:"small"});case"Helper Boost":return e.jsx(es,{sx:{color:"#66cc66"},fontSize:"small"});case"Ingredient Magnet S (Plus)":return n!==!0?e.jsx(Un,{fontSize:"small"}):e.jsx(we,{name:r??"apple"});case"Ingredient Magnet S":case"Ingredient Draw S":case"Ingredient Draw S (Hyper Cutter)":return e.jsx(Un,{fontSize:"small"});case"Ingredient Draw S (Super Luck)":return n!==!0?e.jsx(Un,{fontSize:"small"}):e.jsx(tt,{});case"Cooking Power-Up S":return e.jsx(Tt,{sx:{color:"#886666"},fontSize:"small"});case"Cooking Power-Up S (Minus)":return n!==!0?e.jsx(Tt,{sx:{color:"#886666"},fontSize:"small"}):e.jsx(wt,{sx:{color:"#ff88aa"},fontSize:"small"});case"Tasty Chance S":return e.jsx(Yr,{sx:{color:"#ff0000"},fontSize:"small"});case"Metronome":return e.jsx(Qr,{sx:{color:"#999"},fontSize:"small"});case"Skill Copy":case"Skill Copy (Mimic)":case"Skill Copy (Transform)":return e.jsx(Jr,{sx:{color:"#999"},fontSize:"small"});default:return e.jsx(e.Fragment,{children:"ー"})}}),ar=a.memo(({mainSkill:t,checked:n,onClick:r})=>{const{t:i}=I(),s=w.useCallback(l=>{const o=l.currentTarget.value;r(o)},[r]);return e.jsxs(Ui,{value:t,onClick:s,children:[e.jsxs("div",{children:[!n&&e.jsx(Ue,{mainSkill:t}),n&&e.jsx(Te,{role:"switch"})]}),i(`skills.${t}`)]})}),Ui=B(F)({height:"2.2rem",lineHeight:1.2,margin:"1%",color:"black",fontSize:"0.8rem",justifyContent:"left",alignItems:"center",textAlign:"left",padding:0,textTransform:"none","& > div":{width:"24px","& > svg":{marginRight:"4px"},'& > svg[role="switch"]':{color:"white",width:"18px",height:"18px",background:"#24d76a",borderRadius:"5px",fontSize:"15px",border:"2px solid white"}}}),$e=B(Fn)(({theme:t})=>{const n=t.typography.button;return{fontFamily:n.fontFamily,fontSize:n.fontSize,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,lineHeight:n.lineHeight,display:"inline",textAlign:"left",padding:0,color:"black","&::before":{borderBottom:"1px solid rgba(0, 0, 0, 0.42)",content:'"\\00a0"',position:"absolute",bottom:0,left:0,right:0},"&::after":{borderBottom:"2px solid #1976d2",content:'"\\00a0"',position:"absolute",bottom:0,left:0,right:0,transform:"scaleX(0)",transition:"transform 200ms cubic-bezier(0.0, 0, 0.2, 1) 0ms"},"&:focus::after":{transform:"scaleX(1)"},"&.focused::after":{transform:"scaleX(1)"}}}),qi=a.memo(({iv:t,onChange:n})=>{const r=t.nature,[i,s]=a.useState(!1),l=a.useRef(null),o=a.useCallback(()=>{s(u=>!u)},[s]),c=a.useCallback(()=>{s(!1)},[s]),d=a.useRef(i);return a.useEffect(()=>{d.current===!0&&i===!1&&l.current.focus(),d.current=i},[i]),e.jsxs(e.Fragment,{children:[e.jsx($e,{ref:l,onClick:o,className:i?"focused":"",children:e.jsx(cr,{value:r})}),e.jsx(Zi,{iv:t,open:i,anchorRef:l,onClose:c,onChange:n})]})}),Zi=a.memo(({iv:t,open:n,anchorRef:r,onClose:i,onChange:s})=>{const{t:l}=I(),[o,c]=a.useState(1),[d,u]=a.useState(null),h=a.useMemo(()=>W.allNatures.filter(k=>t.pokemon.id!==_t||t.pokemon.form==="Amped"&&k.isAmped||t.pokemon.form==="Low Key"&&k.isLowKey),[t.pokemon.id,t.pokemon.form]),m=a.useCallback(k=>{const j=k.currentTarget.getAttribute("value"),C=h.filter(b=>b.upEffect===j);if(C.length===1){s(new W(C[0].name)),i();return}u(j),c(2)},[h,s,i]),g=a.useCallback(k=>{const j=k.currentTarget.getAttribute("value");j!==null&&(s(new W(j)),i())},[s,i]),p=a.useCallback(k=>k.map(j=>({nature:j,key:l(`natures.${j.name}`)})).sort((j,C)=>j.key>C.key?1:-1).map(j=>j.nature),[l]);let y=[];const x=["No effect","Speed of help","Main skill chance","Ingredient finding","EXP gains","Energy recovery"];if(o===1)for(const k of x){const j=p(h.filter(b=>b.upEffect===k)).map(b=>e.jsx("span",{children:l(`natures.${b.name}`)},b.name)),C=k==="No effect"?e.jsx(e.Fragment,{children:l("nature effect.No effect")}):e.jsx(Ye,{children:l(`nature effect.${k}`)});y.push(e.jsx(Gi,{value:k,onClick:m,children:e.jsxs("div",{children:[e.jsx("div",{className:"up",children:C}),e.jsx("div",{className:"natures",children:j})]})},k))}return o===2&&(y=p(h.filter(j=>j.upEffect===d)).map(j=>e.jsx(f,{value:j.name,onClick:g,children:e.jsx(cr,{value:j})},j.name))),a.useEffect(()=>{n||c(1)},[n]),e.jsx(jn,{open:n,onClose:i,anchorEl:r.current,children:e.jsx(_e,{children:y})})}),Nt=B("div")({display:"grid",gridTemplateColumns:"8rem 1fr",gridGap:".3rem","& > span":{border:"2px solid #24d76a",borderRadius:"1rem",textAlign:"center",padding:".2rem 0",margin:".5rem 1rem .5rem 0"},"& > div":{margin:"auto 0",fontSize:".8rem","& > span":{display:"block"}}}),Ye=B("span")({"&::after":{content:'" ▲▲"',color:"#ff6666"}}),kn=B("span")({"&::after":{content:'" ▼▼"',color:"#6666ff"}}),Gi=B(f)({"& > div":{"& > div.up":{height:"1rem",fontSize:"1rem"},"& > div.natures":{height:".6rem","& >span":{paddingRight:".8rem",color:"#888",fontSize:".6rem"}}}}),cr=a.memo(({value:t})=>{const{t:n}=I();return t.upEffect==="No effect"?e.jsxs(Nt,{children:[e.jsx("span",{children:n(`natures.${t.name}`)}),e.jsx("div",{children:n("nature effect.No effect")})]}):e.jsxs(Nt,{children:[e.jsx("span",{children:n(`natures.${t.name}`)}),e.jsxs("div",{children:[e.jsx(Ye,{children:n(`nature effect.${t.upEffect}`)}),e.jsx(kn,{children:n(`nature effect.${t.downEffect}`)})]})]})});function yt(){const t=a.useRef({elm:null}),[n,r]=a.useState(200),i=a.useMemo(()=>new ResizeObserver(()=>{const l=t.current.elm;l!==null&&r(Math.floor(l.getBoundingClientRect().width))}),[]),s=a.useCallback(l=>{if(l===null){i.disconnect();return}t.current.elm=l,r(Math.floor(l.getBoundingClientRect().width)),i.disconnect(),i.observe(l)},[i]);return[n,s]}const dr=20,Ft=20,ur=a.memo(({index:t,width:n,children:r,onChange:i})=>{const s=a.useRef(!0),l=Array.isArray(r)?r.length:0,o=n+dr,[{x:c},d]=Wt(()=>({x:-t*o,immediate:s.current}),[t,o]),u=Mr(({active:h,movement:[m],velocity:[g]})=>{if(h)return d.start({x:-t*o+m,immediate:!0});const p=Math.abs(g)>.2||Math.abs(m)>n/2;let y=t;return p&&(y+=m>0?-1:1,y=Math.max(0,Math.min(l-1,y))),y!==t&&i(y),d.start({x:-y*o,immediate:s.current})},{from:[-t*o,0],filterTaps:!0,bounds:()=>({left:t===l-1?-o*(l-1)-Ft:-1/0,right:t===0?Ft:1/0}),rubberband:!0});return a.useEffect(()=>{s.current?(d.set({x:-t*o}),requestAnimationFrame(()=>{s.current=!1})):d.start({x:-t*o})},[t,o,d]),Array.isArray(r)?e.jsx(Ki,{...u(),children:e.jsx(Ht.div,{className:"tabTrack",style:{x:c},children:r.map((h,m)=>e.jsx("div",{style:{width:n},children:h},m))})}):null}),Ki=B("div")({overflow:"hidden",touchAction:"pan-y",overscrollBehavior:"contain","& > div.tabTrack":{display:"flex",flexWrap:"nowrap",gap:dr,width:"max-content","& > div > *":{flex:"0 0 100%"}}}),Xi=a.memo(({open:t,value:n,onChange:r,onClose:i})=>{const{t:s}=I(),[l,o]=yt(),[c,d]=a.useState(n.defaultTabIndex),u=a.useCallback((v,A)=>{d(A)},[]),h=w.useCallback(()=>{r(new de({}))},[r]),m=w.useCallback(()=>{i()},[i]),g=w.useCallback(v=>{r(new de({...n,name:v.target.value}))},[n,r]),p=w.useCallback(v=>{const A=n.filterTypes.includes(v)?n.filterTypes.filter(P=>P!==v):[...n.filterTypes,v];r(new de({...n,filterTypes:A}))},[n,r]),y=w.useCallback(v=>{r(new de({...n,filterSpecialty:n.filterSpecialty.includes(v)?n.filterSpecialty.filter(A=>A!==v):[...n.filterSpecialty,v]}))},[n,r]),x=w.useCallback(v=>{const A=n.ingredientName===v?void 0:v;r(new de({...n,ingredientName:A}))},[n,r]),k=a.useCallback(v=>{r(new de({...n,ingredientUnlockedOnly:v.target.checked}))},[r,n]),j=w.useCallback(v=>{r(new de({...n,mainSkillNames:v}))},[n,r]),C=Ee.map(v=>e.jsx(Oe,{type:v,onClick:p,checked:n.filterTypes.includes(v)},v)),b=lt.map(v=>e.jsx(Re,{specialty:v,onClick:y,checked:n.filterSpecialty.includes(v)},v)),S=gn.map(v=>e.jsx(or,{ingredient:v,onClick:x,checked:n.ingredientName===v},v));return e.jsxs(Ji,{open:t,onClose:i,children:[e.jsx("div",{ref:o,children:e.jsx(ae,{size:"small",fullWidth:!0,value:n.name,onChange:g,slotProps:{input:{endAdornment:e.jsx(dn,{position:"start",children:e.jsx(Nn,{})})}}})}),e.jsxs(Qi,{variant:"scrollable",scrollButtons:!0,value:c,onChange:u,children:[e.jsx(ln,{label:s("type"),value:0}),e.jsx(ln,{label:s("ingredient"),value:1}),e.jsx(ln,{label:s("main skill"),value:2}),e.jsx(ln,{label:s("sub skills"),value:3}),e.jsx(ln,{label:s("nature"),value:4})]}),e.jsxs(ur,{index:c,width:l,onChange:d,children:[e.jsxs("div",{className:"tabChild",children:[C,e.jsx("h4",{style:{margin:"1rem 0 0.5rem"},children:s("specialty")}),b]}),e.jsxs("div",{className:"tabChild",children:[S,e.jsxs("section",{children:[e.jsxs("label",{children:[s("unlocked only"),":"]}),e.jsx(oe,{checked:n.ingredientUnlockedOnly,onChange:k})]})]}),e.jsx("div",{className:"tabChild",children:e.jsx(Yi,{value:n.mainSkillNames,onChange:j})}),e.jsx("div",{className:"tabChild",children:e.jsx(el,{value:n,onChange:r})}),e.jsx("div",{className:"tabChild",children:e.jsx(nl,{value:n,onChange:r})})]}),e.jsxs(V,{children:[e.jsx(F,{onClick:h,children:s("clear")}),e.jsx(F,{onClick:m,children:s("close")})]})]})}),Ji=B(U)({"div.MuiPaper-root":{maxWidth:"480px","& > div":{margin:".5rem .5rem 0 .5rem"},"& div.tabChild":{"& > section":{margin:"0 0.8rem",fontSize:".9rem",display:"flex",flex:"0 auto",alignItems:"center",maxWidth:"100%","&:first-of-type":{marginTop:"0.3rem"},"& > label":{marginRight:"auto"}}}}}),Qi=B(Mn)({minHeight:"36px",marginBottom:"clamp(.3rem, 0.6vh, .7rem)"}),ln=B(En)({minHeight:"36px",minWidth:"0",padding:"6px clamp(6px, 1vw, 8px)",textTransform:"none"}),Yi=a.memo(({value:t,onChange:n})=>{const r=w.useCallback(s=>{const l=t.includes(s)?t.filter(o=>o!==s):[...t,s];n(l)},[t,n]),i=fn.map(s=>e.jsx(ar,{mainSkill:s,onClick:r,checked:t.includes(s)},s));return e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:i})}),el=a.memo(({value:t,onChange:n})=>{const{t:r}=I(),i=w.useCallback(c=>{const d=t.subSkillNames.includes(c)?t.subSkillNames.filter(u=>u!==c):[...t.subSkillNames,c];n(new de({...t,subSkillNames:d}))},[t,n]),s=w.useCallback(c=>{n(new de({...t,subSkillUnlockedOnly:c.target.checked}))},[t,n]),l=w.useCallback(c=>{n(new de({...t,subSkillAnd:c.target.checked}))},[t,n]),o=a.useCallback(c=>t.subSkillNames.includes(c.name)?e.jsx(Te,{}):0,[t]);return e.jsxs(e.Fragment,{children:[e.jsx(lr,{subSkill2Badge:o,onClick:i}),e.jsxs("section",{style:{marginTop:"2rem"},children:[e.jsxs("label",{children:[r("unlocked only"),":"]}),e.jsx(oe,{checked:t.subSkillUnlockedOnly,size:"small",onChange:s})]}),e.jsxs("section",{children:[e.jsx("label",{children:"AND:"}),e.jsx(oe,{checked:t.subSkillAnd,size:"small",onChange:l})]})]})}),nl=a.memo(({value:t,onChange:n})=>{const r=w.useCallback(()=>{n(new de({...t,neutralNature:!t.neutralNature,upNature:"No effect",downNature:"No effect"}))},[t,n]),i=w.useCallback(l=>{let o=t.downNature;o===l&&(o="No effect"),n(new de({...t,neutralNature:!1,upNature:l===t.upNature?"No effect":l,downNature:o}))},[t,n]),s=w.useCallback(l=>{let o=t.upNature;o===l&&(o="No effect"),n(new de({...t,neutralNature:!1,upNature:o,downNature:l===t.downNature?"No effect":l}))},[t,n]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginTop:"0.4rem"},children:e.jsx(je,{label:"No effect",onClick:r,checked:t.neutralNature})}),e.jsxs(At,{children:[e.jsx(je,{label:"Speed of help",up:!0,checked:t.upNature==="Speed of help",onClick:i}),e.jsx(je,{label:"Main skill chance",up:!0,checked:t.upNature==="Main skill chance",onClick:i}),e.jsx(je,{label:"Ingredient finding",up:!0,checked:t.upNature==="Ingredient finding",onClick:i}),e.jsx(je,{label:"EXP gains",up:!0,checked:t.upNature==="EXP gains",onClick:i}),e.jsx(je,{label:"Energy recovery",up:!0,checked:t.upNature==="Energy recovery",onClick:i})]}),e.jsxs(At,{children:[e.jsx(je,{label:"Speed of help",down:!0,checked:t.downNature==="Speed of help",onClick:s}),e.jsx(je,{label:"Main skill chance",down:!0,checked:t.downNature==="Main skill chance",onClick:s}),e.jsx(je,{label:"Ingredient finding",down:!0,checked:t.downNature==="Ingredient finding",onClick:s}),e.jsx(je,{label:"EXP gains",down:!0,checked:t.downNature==="EXP gains",onClick:s}),e.jsx(je,{label:"Energy recovery",down:!0,checked:t.downNature==="Energy recovery",onClick:s})]})]})}),At=B("div")({display:"grid",gridTemplateColumns:"1fr 1fr",marginTop:"1rem"}),je=a.memo(({label:t,checked:n,up:r,down:i,onClick:s})=>{const{t:l}=I(),o=w.useCallback(c=>{const d=c.currentTarget.value;s(d)},[s]);return e.jsxs(tl,{value:t,onClick:o,children:[r===!0?e.jsx(Ye,{children:l(`nature effect.${t}`)}):i===!0?e.jsx(kn,{children:l(`nature effect.${t}`)}):l(`nature effect.${t}`),n&&e.jsx(Te,{role:"switch"})]},t)}),tl=B(F)({color:"black",textAlign:"left",fontSize:"clamp(0.65rem, calc(2vw), 0.8rem)",textTransform:"none",borderRadius:"0.5rem",border:"1px solid #ccc",margin:"2px",'& > svg.MuiSvgIcon-root[role="switch"]':{position:"absolute",background:"#24d76a",borderRadius:"15px",fontSize:"15px",color:"white",border:"1px solid white",bottom:"1px",right:"10px"}}),me=a.memo(({children:t,value:n,renderValue:r,sx:i,menuSx:s,onChange:l})=>{const[o,c]=a.useState(!1),d=a.useRef(null),u=a.useCallback(()=>{c(!0)},[]),h=a.useCallback(()=>{c(!1)},[]),m=a.useCallback(k=>{if(l===void 0)return;const j=k.props.value;j!=null&&(l(String(j)),h())},[l,h]),g=a.Children.toArray(t),p=g.find(k=>k.props.value===n);let y=null;r!==void 0?y=r(n):p&&(y=p.props.children);const x=g.map(k=>{const j=n===k.props.value;return a.cloneElement(k,{onClick:()=>{m(k)},selected:j})});return e.jsxs(e.Fragment,{children:[e.jsx($e,{ref:d,onClick:u,style:i,className:o?"focused":"",children:y}),e.jsx(jn,{anchorEl:d.current,open:o,onClose:h,children:e.jsx(_e,{style:s,children:x})})]})}),bt=a.memo(({value:t,dispatch:n,sx:r})=>{const{t:i}=I(),s=a.useCallback(l=>{n({type:"changeParameter",payload:{parameter:{...t,level:parseInt(l,10)}}})},[n,t]);return e.jsxs(me,{sx:r,value:t.level,onChange:s,children:[e.jsx(f,{dense:!0,value:0,children:i("current level")}),e.jsx(pn,{}),e.jsx(f,{dense:!0,value:10,children:"Lv. 10"}),e.jsx(f,{dense:!0,value:25,children:"Lv. 25"}),e.jsx(f,{dense:!0,value:30,children:"Lv. 30"}),e.jsx(f,{dense:!0,value:50,children:"Lv. 50"}),e.jsx(f,{dense:!0,value:60,children:"Lv. 60"}),e.jsx(f,{dense:!0,value:65,children:"Lv. 65"}),e.jsx(f,{dense:!0,value:75,children:"Lv. 75"}),e.jsx(f,{dense:!0,value:100,children:"Lv. 100"})]})}),qn=100,rl=a.memo(({value:t,onChange:n})=>{const[r,i]=a.useState(!1),[s,l]=a.useState(!1),o=a.useRef(null),c=a.useCallback(k=>{let j=parseInt(k,10);(isNaN(j)||j<1)&&(j=0),j>qn&&(j=qn),i(!1),t!==j&&n(j)},[n,t]),d=a.useCallback((k,j)=>{if(j===null)return;const C=j;if(typeof C=="string"&&C.trim()===""){i(!0),n(0);return}c(C)},[c,n]),u=a.useCallback(()=>{l(!0)},[]),h=a.useCallback(k=>{l(!1),k!==null&&c(k.target.value)},[c]),m=a.useCallback((k,j)=>{j!==null&&n(parseInt(j,10))},[n]),g=["0%","5%","10%","15%","20%","25%","30%","35%","40%","45%","50%","55%","60%","65%","70%","75%","80%","85%","90%","95%","100%"],p=a.useCallback(k=>k,[]),y=r?"":t.toString()+(s?"":"%"),x=s?"number":"text";return e.jsx(ht,{size:"small",options:g,freeSolo:!0,disableClearable:!0,value:y,sx:{width:"4rem"},onFocus:u,onInputChange:d,onChange:m,filterOptions:p,renderInput:k=>e.jsx(ae,{...k,variant:"standard",type:x,inputRef:o,onBlur:h,slotProps:{htmlInput:{...k.inputProps,min:0,max:qn,inputMode:"numeric",style:{textOverflow:"clip"}}}}),slots:{paper:ll,popper:sl}})}),sl=function(t){return e.jsx(Tn,{...t,style:{width:"17.5rem",zIndex:2147483647},placement:"bottom-end"})},il=B(ut)({width:"17.5rem","& > ul":{display:"grid",gridTemplateColumns:"3.5rem 3.5rem 3.5rem 3.5rem 3.5rem",margin:0,padding:0,"& > li.MuiAutocomplete-option":{display:"inline-block",width:"3.5rem",textAlign:"center",height:"3rem",padding:0,verticalAlign:"middle",lineHeight:"2.8rem",borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"},"& > li.MuiAutocomplete-option:nth-of-type(5n)":{borderRight:0}}}),ll=a.forwardRef((t,n)=>{const{sx:r,...i}=t;return e.jsx(il,{ref:n,...i})}),Ke=a.memo(({size:t,type:n,disabled:r,deletable:i,onChange:s,onClick:l,onDelete:o})=>{const[c,d]=a.useState(!1),u=a.useRef(null),h=a.useCallback(x=>{l?.(x),r!==!0&&d(!0)},[r,l]),m=a.useCallback(()=>{o?.(n)},[n,o]),g=a.useCallback(x=>{s(x),d(!1)},[s]),p=a.useCallback(()=>{d(!1)},[]),y=Ee.map(x=>e.jsx(Oe,{type:x,size:t,onClick:g,checked:x===n},x));return e.jsxs(e.Fragment,{children:[e.jsx(Oe,{ref:u,type:n,size:t,deletable:i,disabled:r,onClick:h,onDelete:m,checked:!1}),e.jsx(jn,{anchorEl:u.current,open:c,onClose:p,children:e.jsx(_e,{style:{padding:0,width:t==="small"?"15rem":"16.2rem"},children:y})})]})}),rt=a.memo(({show:t,children:n})=>{const r=a.useRef(null),[i,s]=a.useState(0),[l,o]=a.useState(n),c=a.useRef(!0);a.useEffect(()=>{t&&o(n)},[n,t]),a.useLayoutEffect(()=>{s(r.current?r.current.scrollHeight:0)},[l,t]);const d=Wt({height:t?i:0,config:{tension:400,friction:40},immediate:c.current,onRest:()=>{c.current=!1}});return e.jsx(Ht.div,{style:{...d,overflow:"hidden"},children:e.jsx("div",{ref:r,children:l})})}),ol=a.memo(({value:t,onChange:n})=>{const{t:r}=I(),i=Xe(t.fieldIndex),{types:s,reasons:l}=a.useMemo(()=>ft(t),[t]),o=a.useCallback(m=>{const g=[t.favoriteType[0]??"normal",t.favoriteType[1]??"normal",t.favoriteType[2]??"normal"];g[0]=m,n({...t,favoriteType:g})},[n,t]),c=a.useCallback(m=>{const g=[t.favoriteType[0]??"normal",t.favoriteType[1]??"normal",t.favoriteType[2]??"normal"];g[1]=m,n({...t,favoriteType:g})},[n,t]),d=a.useCallback(m=>{const g=[t.favoriteType[0]??"normal",t.favoriteType[1]??"normal",t.favoriteType[2]??"normal"];g[2]=m,n({...t,favoriteType:g})},[n,t]),u=a.useCallback(m=>{const g=[m,...s.filter(p=>p!==m)];n({...t,favoriteType:g})},[n,t,s]),h=a.useCallback(m=>{n({...t,expertEffect:m})},[n,t]);return e.jsxs(rt,{show:t.fieldIndex>=0,children:[e.jsxs("section",{children:[e.jsxs("label",{children:[r("favorite berry"),":"]}),e.jsxs(cl,{children:[e.jsxs("span",{children:[i&&e.jsx("header",{children:r("main")}),l[0]==="random"?e.jsx(Ke,{type:s[0],size:"small",onChange:o}):e.jsx(Oe,{type:s[0],size:"small",checked:!1,onClick:u}),e.jsx("footer",{className:l[0].replace(/ /g,"-"),children:r(l[0])})]}),e.jsxs("span",{children:[i&&e.jsx("header",{children:r("sub1")}),l[1]==="random"?e.jsx(Ke,{type:s[1],size:"small",onChange:c}):e.jsx(Oe,{type:s[1],size:"small",checked:!1,onClick:u}),e.jsx("footer",{className:l[1].replace(/ /g,"-"),children:r(l[1])})]}),e.jsxs("span",{children:[i&&e.jsx("header",{children:r("sub2")}),l[2]==="random"?e.jsx(Ke,{type:s[2],size:"small",onChange:d}):e.jsx(Oe,{type:s[2],size:"small",checked:!1,onClick:u}),e.jsx("footer",{className:l[2].replace(/ /g,"-"),children:r(l[2])})]})]})]}),i&&e.jsxs("section",{children:[e.jsxs("label",{children:[r("expert effect"),":"]}),e.jsx(al,{value:t.expertEffect,onChange:h})]})]})}),al=a.memo(({value:t,onChange:n})=>{const{t:r}=I(),i=a.useCallback(s=>{n(s.target.value)},[n]);return e.jsxs(se,{variant:"standard",value:t,onChange:i,children:[e.jsx(f,{value:"berry",children:r("expert berry effect")}),e.jsxs(f,{value:"ing",children:[r("expert ing effect"),e.jsx("br",{}),e.jsx("small",{children:r("expert ing effect2")})]}),e.jsx(f,{value:"skill",children:r("expert skill effect")})]})}),cl=B("span")({display:"flex","& > span":{display:"grid","& header":{display:"block",textAlign:"center",color:"white",width:"2rem",background:"#7cd377",fontSize:"0.5rem",borderRadius:"0.7rem",margin:"0 auto 2px auto",padding:"2px 12px"},"& > button":{marginTop:0,marginButton:0},"& > footer":{textAlign:"center",position:"relative",top:"-3px",fontSize:"0.6rem",fontWeight:"bold",color:"#7cd377","&.set-for-event":{color:"#e07377"}}}}),hr=a.memo(({value:t,onChange:n})=>{const{t:r}=I(),i=a.useCallback(o=>{n({...t,fieldBonus:o})},[n,t]),s=a.useCallback(o=>{n({...t,isGoodCampTicketSet:o.target.checked})},[n,t]),l=t.period!==fe;return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"first",children:[e.jsxs("label",{children:[r("research area"),":"]}),e.jsx(gr,{value:t,fontSize:"0.9rem",onChange:n})]}),e.jsx(ol,{value:t,onChange:n}),e.jsxs("section",{children:[e.jsxs("label",{children:[r("area bonus"),":"]}),e.jsx(rl,{value:t.fieldBonus,onChange:i})]}),e.jsx(ue,{in:l,children:e.jsxs("section",{children:[e.jsxs("label",{children:[r("good camp ticket"),":"]}),e.jsx(oe,{checked:t.isGoodCampTicketSet,size:"small",onChange:s})]})})]})}),mr=a.memo(({open:t,value:n,onChange:r,onClose:i})=>{const{t:s}=I();return t?e.jsxs(U,{open:t,onClose:i,children:[e.jsx(dl,{children:e.jsx(hr,{value:n,onChange:r})}),e.jsx(V,{children:e.jsx(F,{onClick:i,children:s("close")})})]}):e.jsx(e.Fragment,{})}),dl=B(Y)({minWidth:"16rem",paddingBottom:0,fontSize:"0.9rem","& section":{"& > label":{paddingTop:"1rem",display:"block"},"&.first > label":{paddingTop:0},"& > span, & > div, & > button:first-of-type":{marginLeft:"1rem",fontSize:"0.9rem"}}}),gr=a.memo(({showConfigButton:t,value:n,fontSize:r,onChange:i})=>{const{t:s}=I(),[l,o]=a.useState(!1),c=a.useCallback(g=>{const p=parseInt(g,10);i({...n,fieldIndex:p})},[i,n]),d=a.useCallback(()=>{o(!0)},[]),u=a.useCallback(()=>{o(!1)},[]),h=[],m=[...De];h.push(e.jsx(f,{value:mn,dense:!0,children:s("no favorite berries")},mn)),h.push(e.jsx(f,{value:hn,dense:!0,children:s("all favorite berries")},hn)),h.push(e.jsx(pn,{},"divider"));for(const g of m)h.push(e.jsxs(f,{value:g.index,dense:!0,children:[e.jsx("span",{className:"field_icon",children:g.emoji}),s(`area.${g.index}`)]},g.index));return e.jsxs(e.Fragment,{children:[e.jsx(me,{value:n.fieldIndex,onChange:c,sx:{padding:"0 .2rem",fontSize:r??"1rem"},children:h}),t&&e.jsx(re,{size:"small",style:{padding:"2px"},onClick:d,children:e.jsx(Gt,{fontSize:r?"inherit":"small"})}),e.jsx(mr,{open:l,onClose:u,value:n,onChange:i})]})}),ul=a.memo(({sortConfig:t,parameter:n,dispatch:r,onChange:i})=>{const{t:s}=I(),l=a.useCallback(m=>{r({type:"changeParameter",payload:{parameter:m}})},[r]),o=a.useCallback(m=>{i({...t,ingredient:m})},[i,t]),c=a.useCallback(m=>{i({...t,mainSkill:m})},[i,t]),d=a.useCallback(m=>{l({...n,evolved:m.target.checked})},[n,l]),u=a.useMemo(()=>{const m=gn.map(g=>e.jsx(Lt,{value:g,children:e.jsx(we,{name:g})},g));return m.push(e.jsx(Lt,{value:"unknown",children:s("total")},"unknown")),m},[s]),h=a.useMemo(()=>fn.map(m=>e.jsxs(ml,{value:m,children:[e.jsx(Ue,{mainSkill:m}),s(`skills.${m}`)]},m)),[s]);return t.sort!=="total strength"&&t.sort!=="berry"&&t.sort!=="ingredient"&&t.sort!=="skill count"?e.jsx(e.Fragment,{}):e.jsx(hl,{children:e.jsxs("div",{children:[e.jsx("span",{children:e.jsx(bt,{value:n,dispatch:r,sx:{padding:"0 .2rem",fontSize:"0.8rem",textWrap:"nowrap"}})}),(t.sort==="berry"||t.sort==="total strength")&&e.jsx("span",{className:"field",children:e.jsx(gr,{value:n,onChange:l,fontSize:"0.8rem",showConfigButton:!0})}),t.sort==="ingredient"&&e.jsx("span",{className:"ing",children:e.jsx(me,{onChange:o,value:t.ingredient,sx:{padding:"0 .5rem",fontSize:"0.8rem"},menuSx:{display:"flex",flexWrap:"wrap",width:"16rem"},children:u})}),t.sort==="skill count"&&e.jsx("span",{className:"skill",children:e.jsx(me,{onChange:c,sx:{fontSize:"0.8rem",textWrap:"nowrap"},menuSx:{display:"grid",gridTemplateColumns:"1fr 1fr"},value:t.mainSkill,children:h})}),e.jsx("span",{className:"evolved",children:e.jsx(ot,{control:e.jsx(oe,{checked:n.evolved,size:"small",onChange:d}),label:s("calc with evolved (short)")})})]})})}),hl=B("div")({"& > div":{padding:".2rem 0 .2rem 1.2rem",background:"#f3f5f0",borderTop:"1px solid #ccc",position:"relative",display:"flex",flexWrap:"wrap",alignItems:"stretch",gap:"0 10px","& > span":{"& > button":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},"& span":{fontSize:"0.8rem"},"&.ing svg":{padding:"0 5px",width:"18px",height:"18px"},"&.skill svg":{width:"18px",height:"18px",paddingRight:"4px",verticalAlign:"top"},"&.evolved":{paddingLeft:"5px","& span.MuiTypography-root":{textWrap:"nowrap"}}}}}),Lt=B(f)({width:"4rem"}),ml=B(f)({maxWidth:"12rem",fontSize:"0.8rem",paddingLeft:"4px",textWrap:"wrap","& > svg":{width:"18px",height:"18px",padding:"0 4px",flexShrink:0}}),Rt=[0,0,54,125,233,361,525,727,971,1245,1560,1905,2281,2688,3107,3536,3976,4430,4899,5382,5879,6394,6931,7489,8068,8668,9290,9933,10598,11284,11992,12721,13469,14235,15020,15823,16644,17483,18340,19215,20108,21018,21946,22891,23854,24834,25831,26846,27878,28927,29993,31355,32917,34664,36610,38805,41084,43488,46021,48687,51493,54358,57280,60257,63286,66363],gl=[0,0,14,18,22,27,30,34,39,44,48,50,52,53,56,59,62,66,68,71,74,78,81,85,88,92,95,100,105,111,117,122,126,130,136,143,151,160,167,174,184,192,201,211,221,227,236,250,264,279,295,309,323,338,356,372,391,437,486,538,593,651,698,750,804,866],pl={600:1,900:1.5,1080:1.8,1320:2.2};function xl(t,n,r,i){const s=t.level;if(s<0||s>ye||r<0||r>ye||s>=r)return{exp:0,candy:0,shards:0};const l=In(s,r,t)-n;let o=0,c=0,d=n;const u=i==="none"?1:i==="mini"?4:5;for(let h=s;h<r;h++){const m=In(h,h+1,t)-d,g=fl(h,t.nature,i),p=Math.ceil(m/g);o+=gl[h+1]*p*u,c+=Math.ceil(m/g),d=g*p-m}return{exp:l,candy:c,shards:o}}function fl(t,n,r){const i=r!=="none"?2:1;return t<25?(n.isExpGainsUp?41:n.isExpGainsDown?29:35)*i:t<30?(n.isExpGainsUp?35:n.isExpGainsDown?25:30)*i:(n.isExpGainsUp?30:n.isExpGainsDown?21:25)*i}function In(t,n,r){const i=pl[r.pokemon.exp];return t<0||t>ye||n<0||n>ye?0:Math.round(Rt[n]*i)-Math.round(Rt[t]*i)}function z(t){t=Math.round(t*10);const n=(t%10).toString();return`${_(t/10)}.${n}`}function he(t){t=Math.round(t*100);const n=(t%100).toString().padStart(2,"0");return`${_(t/100)}.${n}`}function jl(t){t=Math.round(t*1e3);const n=(t%1e3).toString().padStart(3,"0");return`${_(t/1e3)}.${n}`}function _(t){const n=[];for(t=Math.floor(t);t>=1e3;)n.push((t%1e3).toString().padStart(3,"0")),t=Math.floor(t/1e3);return n.push(t.toString()),n.reverse(),n.join(",")}function Je(t,n){if(t<10)return he(t);if(t<1e3)return z(t);if(t<1e5)return _(Math.round(t));const r=n("short num unit digits");if(r==="4")return(t/1e4).toFixed(1).toString()+n("short num unit");if(r==="3")return(t/1e3).toFixed(0).toString()+n("short num unit");throw new Error("unknown short num digits: "+r)}const kl=B("div")({display:"flex",alignItems:"center",gap:".7rem",height:"1.8rem"}),yl=B(at)({userSelect:"none","& *":{userSelect:"none"}}),bl=/iP(hone|od|ad)/.test(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,pr=a.memo(({hideInput:t,max:n,value:r,onChange:i})=>{const s=a.useCallback((c,d)=>{c!==null&&(bl&&c.type==="mousedown"||typeof d=="number"&&i(d))},[i]),l=a.useCallback(()=>{i(r-1)},[r,i]),o=a.useCallback(()=>{i(r+1)},[r,i]);return e.jsxs(kl,{children:[!t&&e.jsx(vl,{value:r,onChange:i}),e.jsx(Sn,{label:"◀",disabled:r===1,onClick:l}),e.jsx(yl,{min:1,max:n,size:"small",style:{userSelect:"none"},value:r,onChange:s}),e.jsx(Sn,{label:"▶",disabled:r===n,onClick:o})]})}),vl=a.memo(({value:t,onChange:n})=>{const[r,i]=a.useState(!1),s=a.useRef(null),l=a.useCallback(g=>{let p=parseInt(g,10);(isNaN(p)||p<1)&&(p=1),p>100&&(p=100),i(!1),n(p)},[n]),o=a.useCallback((g,p)=>{p!==null&&l(p)},[l]),c=a.useCallback(g=>{g!==null&&typeof g.target.value!="string"&&l(g.target.value)},[l]),d=a.useCallback((g,p)=>{p!==null&&typeof p=="string"&&(n(parseInt(p,10)),setTimeout(()=>{s.current?.blur()}))},[n]),u=["10","25","30","50","60","65","75","100"],h=a.useCallback(g=>g,[]),m=r?"":t.toString();return e.jsx(ht,{size:"small",options:u,freeSolo:!0,disableClearable:!0,value:m,sx:{width:"3rem"},onInputChange:o,onChange:d,filterOptions:h,renderInput:g=>e.jsx(ae,{...g,variant:"standard",type:"number",inputRef:s,onBlur:c,sx:{"& input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{WebkitAppearance:"none"},"& input[type=number]":{MozAppearance:"textfield"}},slotProps:{htmlInput:{...g.inputProps,min:1,max:100,inputMode:"numeric",style:{textOverflow:"clip",fontSize:"0.9rem"}}}}),slots:{paper:wl,popper:Sl}})}),Sl=function(t){return e.jsx(Tn,{...t,style:{zIndex:2147483647},placement:"bottom-start"})},Cl=B(ut)({width:"14rem","& > ul":{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",margin:0,padding:0,"& > li.MuiAutocomplete-option":{display:"inline-block",width:"3.5rem",textAlign:"center",height:"3rem",padding:0,verticalAlign:"middle",lineHeight:"2.8rem",borderRight:"1px solid #ccc",borderBottom:"1px solid #ccc"}}}),wl=a.forwardRef((t,n)=>{const{sx:r,...i}=t;return e.jsx(Cl,{ref:n,...i})}),st=a.memo(({value:t,onChange:n})=>{const[r,i]=a.useState(!1),s=a.useRef(null),l=a.useCallback(()=>{i(!0)},[]),o=a.useCallback(()=>{i(!1)},[]),c=a.useCallback(d=>{i(!1),n(d)},[n]);return e.jsxs(e.Fragment,{children:[e.jsx($e,{ref:s,onClick:l,className:r?"focused":"",children:t}),e.jsx(jn,{anchorEl:s.current,open:r,onClose:o,children:e.jsxs(Bl,{style:{width:"10rem"},children:[e.jsx(pr,{max:ye,hideInput:!0,value:t,onChange:n}),e.jsxs("div",{className:"buttons",children:[e.jsx(F,{onClick:()=>c(10),children:"10"}),e.jsx(F,{onClick:()=>c(25),children:"25"}),e.jsx(F,{onClick:()=>c(30),children:"30"}),e.jsx(F,{onClick:()=>c(40),children:"40"}),e.jsx(F,{onClick:()=>c(50),children:"50"}),e.jsx(F,{onClick:()=>c(60),children:"60"}),e.jsx(F,{onClick:()=>c(65),children:"65"})]})]})})]})}),Bl=B("div")({width:"10rem",padding:".3rem .7rem","& > div.buttons":{paddingTop:".4rem",marginLeft:"-0.2rem",display:"flex",flexWrap:"wrap",gap:"0.3rem 0.5rem","& > button":{color:"#79d073",fontWeight:"bold",fontSize:"0.8rem",padding:0,width:"1.5rem",height:"1.5rem",minWidth:"1.5rem",minHeight:"1.5rem",borderRadius:"50%",border:"1.5px solid #79d073"}}}),vt=a.memo(t=>e.jsx(X,{...t,viewBox:"0 0 75 75",children:e.jsxs("g",{strokeLinejoin:"round",strokeWidth:"4",stroke:"currentColor",fill:"currentColor",transform:"rotate(-45, 45, 45)",children:[e.jsx("polygon",{points:"30,30 10,15 10,45"}),e.jsx("circle",{cx:"45",cy:"30",r:"18"}),e.jsx("polygon",{points:"60,30 80,15 80,45"})]})})),Il=/iP(hone|od|ad)/.test(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,xr=a.memo(({iv:t,dstLevel:n,open:r,onChange:i,onClose:s})=>{const{t:l}=I(),[o,c]=a.useState(t),[d,u]=a.useState(t.level),[h,m]=a.useState(0),[g,p]=a.useState(!1),[y,x]=a.useState(0),[k,j]=a.useState(ye),[C,b]=a.useState(0),[S,v]=a.useState("none"),[A,P]=a.useState(!1),E=a.useCallback(()=>y===0?!0:!(t.level===d&&t.idForm===o.idForm&&t.nature.expGainsFactor===o.nature.expGainsFactor),[t,d,o,y]);a.useEffect(()=>{if(!r){P(!1);return}if(!E()){P(!0);return}c(t),u(t.level),m(0),x(In(t.level,t.level+1,t)),b(t.nature.expGainsFactor),P(!0);let $=0;n!==void 0?$=Math.min(n,ye):t.pokemon.specialty==="Berries"?$=65:t.pokemon.specialty==="Ingredients"?$=60:$=50,j(Math.max($,t.level))},[t,E,n,r]);const M=a.useCallback($=>{const Z=parseInt($.target.value,10);b(Z)},[]),N=a.useCallback($=>{u($),m(0),x(In($,$+1,t)),i(t.changeLevel($))},[t,i]),D=a.useCallback(($,Z)=>{$!==null&&(Il&&$.type==="mousedown"||(p(!1),typeof Z=="number"&&m(Z)))},[]),Q=a.useCallback($=>{const Z=$.target.value;if(typeof Z=="string"&&Z.trim()===""){p(!0),m(0);return}let ce=parseInt(Z,10);(isNaN(ce)||ce<0)&&(ce=0),ce>y&&(ce=y),p(!1),m(y-ce)},[y]),H=a.useCallback(($,Z)=>{Z!==null&&v(Z)},[]);if(!A)return null;const L=t.changeLevel(d);L.nature=C===1?new W("Timid"):C===0?new W("Serious"):new W("Relaxed");const T=xl(L,h,k,S),O=g?"":y-h;return e.jsx(e.Fragment,{children:e.jsxs(Ml,{open:r,onClose:s,children:[e.jsxs("article",{children:[e.jsx("div",{className:"icon",children:e.jsx(zn,{idForm:t.idForm,size:80})}),e.jsxs("div",{className:"levels",children:[e.jsxs("div",{className:"level",children:[e.jsxs("div",{className:"levelInput",children:[e.jsx("label",{children:"Lv."}),e.jsx(st,{value:d,onChange:N})]}),e.jsxs("div",{className:"expLeft",children:[e.jsx(El,{value:h,min:0,max:y-1,onChange:D}),e.jsx(ts,{value:O,type:"number",size:"small",startAdornment:e.jsx(dn,{position:"start",children:l("exp to go1")}),endAdornment:e.jsx(dn,{position:"end",children:l("exp to go2")}),onChange:Q,inputProps:{inputMode:"numeric"},sx:{"& input::-webkit-outer-spin-button, & input::-webkit-inner-spin-button":{WebkitAppearance:"none"},"& input[type=number]":{MozAppearance:"textfield"}}})]})]}),e.jsx(rs,{}),e.jsx("div",{className:"level",children:e.jsxs("div",{className:"levelInput",children:[e.jsx("label",{children:"Lv."}),e.jsx(st,{value:k,onChange:j})]})})]}),e.jsx("div",{className:"expResult",children:e.jsxs("section",{children:[e.jsxs("label",{children:[l("required exp"),":"]}),e.jsx("div",{children:_(T.exp)})]})}),e.jsxs("div",{className:"candyResult",children:[e.jsxs("section",{children:[e.jsxs("label",{children:[l("candy"),":"]}),e.jsxs("div",{children:[e.jsx(vt,{sx:{color:"#e7ba67"}}),_(T.candy)]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[l("dream shard"),":"]}),e.jsxs("div",{children:[e.jsx(tt,{}),_(T.shards)]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[l("nature"),":"]}),e.jsxs(se,{variant:"standard",onChange:M,value:C.toString(),size:"small",children:[e.jsx(f,{value:1,children:e.jsx(Ye,{children:l("nature effect.EXP gains")})}),e.jsxs(f,{value:0,children:[l("nature effect.EXP gains")," ーー"]}),e.jsx(f,{value:-1,children:e.jsx(kn,{children:l("nature effect.EXP gains")})})]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[l("candy boost"),":"]}),e.jsxs(K,{size:"small",exclusive:!0,value:S,onChange:H,children:[e.jsx(R,{value:"none",children:l("none")}),e.jsx(R,{value:"mini",children:l("mini candy boost")}),e.jsx(R,{value:"unlimited",children:l("normal candy boost")})]})]})]})]}),e.jsx(V,{children:e.jsx(F,{onClick:s,children:l("close")})})]})})}),Ml=B(U)({"& > div.MuiDialog-container > div.MuiPaper-root":{maxWidth:"22rem"},"& .MuiPaper-root":{width:"100%","& > article":{padding:".8rem .8rem 0 .8rem","& > div.icon":{margin:"0 auto .5rem",width:"80px"},"& > div.levels":{display:"flex",justifyContent:"center",gap:"0.7rem",margin:"0 auto","& > div.level":{width:"7rem","& > div.levelInput":{color:"#79d073",fontSize:"1.2rem",fontWeight:"bold",display:"flex",justifyContent:"center",gap:"0.2rem","& > label":{transform:"scale(1, 0.9)",paddingTop:"0.2rem"},"& > button":{color:"#79d073",width:"3rem",fontWeight:"bold",fontSize:"1.3rem !important",paddingBottom:0,transform:"scale(1, 0.9)"}},"& > div.expLeft":{paddingTop:"0.3rem","& > div.MuiInput-root":{top:"-0.2rem","& > div.MuiInputAdornment-root > p":{color:"#79d073",fontSize:"0.7rem",fontWeight:"bold",transform:"scale(1, 0.9)"},"& > input":{padding:0,color:"#000000",fontSize:"0.9rem",fontWeight:"bold",transform:"scale(1, 0.9)"}}}},"& > svg":{paddingTop:"0.3rem",color:"#888"}},"& > div.expResult":{fontWeight:"bold",fontSize:"1.2rem",margin:"2rem .5rem 0",padding:"0.5rem"},"& > div.candyResult":{background:"#f0f0f0",padding:"0.5rem",borderRadius:"0.9rem",fontSize:"0.9rem",margin:"0 .5rem"},"& section":{display:"flex",flex:"0 auto",marginTop:"0.5rem","&:first-of-type":{marginTop:0},"& > label":{marginRight:"auto",marginTop:0},"& > div":{display:"flex",alignItems:"center","& > svg":{width:"1rem",height:"1rem",paddingRight:"0.2rem"}},"& > div > div.MuiSelect-select":{fontSize:"0.9rem",padding:"0 1.5rem 0 0"},"& button.MuiToggleButtonGroup-grouped":{padding:"0.2rem 0.4rem",textTransform:"none"}}}}}),El=B(at)({color:"#79d073",height:8,"@media (pointer: coarse)":{padding:0},padding:0,"& .MuiSlider-thumb":{width:"14px",height:"13px","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&::before":{display:"none"}},"& .MuiSlider-rail":{backgroundColor:"#ccc"}}),Tl=a.memo(({items:t,iv:n,selectedId:r,parameter:i,dispatch:s})=>{const{t:l}=I(),[o,c]=a.useState(Fl()),[d,u]=a.useState(Zn),[h,m]=a.useState(!1),[g,p]=a.useState(!1),y=a.useCallback(()=>{s({type:"add"})},[s]),x=a.useCallback(H=>{const L={...o,sort:H.sort,descending:H.descending};c(L),localStorage.setItem("PstPokemonBoxParam",JSON.stringify(L))},[o]),k=a.useCallback(H=>{c(H),localStorage.setItem("PstPokemonBoxParam",JSON.stringify(H))},[]),j=a.useCallback(()=>{m(!0)},[]),C=a.useCallback(()=>{m(!1)},[]),b=a.useCallback(H=>{Zn=H,u(Zn)},[]),S=a.useCallback(()=>{p(!0)},[]),v=a.useCallback(()=>{p(!1)},[]),A=a.useCallback(H=>{t.find(T=>T.id===r)!==void 0&&s({type:"updateIv",payload:{iv:H}})},[t,s,r]),P=a.useMemo(()=>d.filter(t,l),[t,d,l]),[E,M]=a.useMemo(()=>Nl(P,o,i,l),[o,P,i,l]);let N=E.map(H=>e.jsx(Al,{item:H,selected:H.id===r,dispatch:s,onCandyClick:S},H.id));o.descending||(N=[...N].reverse());const D=a.useMemo(()=>({isFiltered:!d.isEmpty,sort:o.sort,descending:o.descending}),[d,o]),Q=a.useMemo(()=>["level","name","pokedexno","rp","total strength","berry","ingredient","skill count"],[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",margin:"0 0.5rem 300px 0.5rem",width:"calc(100% - 1rem)"},children:[N.length===0&&e.jsx("div",{style:{margin:"5rem auto 0",color:"#888",fontSize:"0.9rem"},children:t.length===0?l("box is empty"):M}),N]}),e.jsxs("div",{style:{position:"fixed",width:"100%",bottom:0,margin:".5rem 0 0"},children:[e.jsx(ss,{onClick:y,color:"primary",size:"medium",sx:{position:"absolute",top:"-55px",right:"10px"},children:e.jsx(is,{})}),e.jsx(Dl,{count:t.length,config:o,dispatch:s,onChange:k}),e.jsx(ul,{parameter:i,sortConfig:o,dispatch:s,onChange:k}),e.jsx("div",{style:{paddingLeft:"1rem",paddingBottom:"1.2rem",background:"#f76",width:"calc(100% - 1rem)"},children:e.jsx(sr,{value:D,onChange:x,onFilterButtonClick:j,sortTypes:Q})})]}),e.jsx(Xi,{open:h,onClose:C,value:d,onChange:b}),e.jsx(xr,{iv:n,open:g,dstLevel:i.level===0?void 0:i.level,onChange:A,onClose:v})]})});function Nl(t,n,r,i){if(t.length===0)return[[],i("no pokemon found")];t=[...t];const s=n.sort;if(s==="level"){const l=n.descending?-1:1;return[t.sort((o,c)=>c.iv.level!==o.iv.level?c.iv.level-o.iv.level:c.iv.pokemon.id!==o.iv.pokemon.id?l*(c.iv.pokemon.id-o.iv.pokemon.id):c.iv.idForm!==o.iv.idForm?l*(c.iv.idForm-o.iv.idForm):c.id-o.id),""]}else{if(s==="name")return[t.sort((l,o)=>o.filledNickname(i)>l.filledNickname(i)?1:o.filledNickname(i)<l.filledNickname(i)?-1:o.iv.pokemon.id!==l.iv.pokemon.id?o.iv.pokemon.id-l.iv.pokemon.id:o.iv.idForm!==l.iv.idForm?o.iv.idForm-l.iv.idForm:o.id-l.id),""];if(s==="pokedexno")return[t.sort((l,o)=>o.iv.pokemon.id!==l.iv.pokemon.id?o.iv.pokemon.id-l.iv.pokemon.id:o.iv.idForm!==l.iv.idForm?o.iv.idForm-l.iv.idForm:o.iv.level!==l.iv.level?o.iv.level-l.iv.level:o.id-l.id),""];if(s==="rp"){const l={};return t.forEach(o=>{l[o.id]=new ie(o.iv).Rp}),[t.sort((o,c)=>l[c.id]!==l[o.id]?l[c.id]-l[o.id]:c.iv.pokemon.id!==o.iv.pokemon.id?c.iv.pokemon.id-o.iv.pokemon.id:c.iv.level!==o.iv.level?c.iv.level-o.iv.level:c.id-o.id),""]}else if(s==="total strength"){const l={};return t.forEach(o=>{const c=new Fe(o.iv,r);l[o.id]=c.calculate().totalStrength}),[t.sort((o,c)=>l[c.id]!==l[o.id]?l[c.id]-l[o.id]:c.iv.pokemon.id!==o.iv.pokemon.id?c.iv.pokemon.id-o.iv.pokemon.id:c.id-o.id),""]}else if(s==="berry"){const l={};return t.forEach(o=>{const c=new Fe(o.iv,r);l[o.id]=c.calculate().berryTotalStrength}),[t.sort((o,c)=>l[c.id]!==l[o.id]?l[c.id]-l[o.id]:c.iv.pokemon.id!==o.iv.pokemon.id?c.iv.pokemon.id-o.iv.pokemon.id:c.id-o.id),""]}else if(s==="ingredient"){if(r.tapFrequency==="none")return[[],i("no ingredient")];const l={};t.forEach(c=>{const u=new Fe(c.iv,r).calculate().ingredients;n.ingredient==="unknown"?l[c.id]=u.reduce((h,m)=>h+m.count,0):l[c.id]=u.find(h=>h.name===n.ingredient)?.count??0});const o=t.filter(c=>l[c.id]>0).sort((c,d)=>l[d.id]!==l[c.id]?l[d.id]-l[c.id]:d.id-c.id);return[o,o.length>0?"":i("no pokemon found")]}else if(s==="skill count"){if(r.tapFrequency==="none"||r.period<=fe)return[[],i("no skill")];const l={};t=t.filter(c=>xt(c.iv.pokemon.skill,n.mainSkill)),t.forEach(c=>{const d=new Fe(c.iv,{...r,maxSkillLevel:!0});l[c.id]=d.calculate().skillCount});const o=t.sort((c,d)=>l[d.id]!==l[c.id]?l[d.id]-l[c.id]:d.id-c.id);return[o,o.length>0?"":i("no pokemon found")]}}return[t,""]}class de{name;filterTypes;filterSpecialty;ingredientName;ingredientUnlockedOnly;mainSkillNames;subSkillNames;subSkillUnlockedOnly;subSkillAnd;neutralNature;upNature;downNature;constructor(n){this.name=n.name??"",this.filterTypes=n.filterTypes??[],this.filterSpecialty=n.filterSpecialty??[],this.ingredientName=n.ingredientName,this.ingredientUnlockedOnly=n.ingredientUnlockedOnly??!1,this.mainSkillNames=n.mainSkillNames??[],this.subSkillNames=n.subSkillNames??[],this.subSkillUnlockedOnly=n.subSkillUnlockedOnly??!0,this.subSkillAnd=n.subSkillAnd??!0,this.neutralNature=n.neutralNature??!1,this.upNature=n.upNature??"No effect",this.downNature=n.downNature??"No effect"}filter(n,r){let i=n;if(this.name!==""){const s=this.name.toLowerCase();i=i.filter(l=>l.nickname.toLowerCase().indexOf(this.name)!==-1||r(`pokemons.${l.iv.pokemonName}`).toLowerCase().indexOf(s)!==-1)}if(this.ingredientName!==void 0){const s=this.ingredientName,l=this.ingredientUnlockedOnly;i=i.filter(o=>o.iv.getIngredients(l).includes(s))}return this.filterTypes.length!==0&&(i=i.filter(s=>this.filterTypes.includes(s.iv.pokemon.type))),this.filterSpecialty.length>0&&(i=i.filter(s=>s.iv.pokemon.specialty==="All"||this.filterSpecialty.includes(s.iv.pokemon.specialty))),this.mainSkillNames.length!==0&&(i=i.filter(s=>this.mainSkillNames.some(l=>xt(s.iv.pokemon.skill,l)))),this.subSkillNames.length!==0&&(i=i.filter(s=>{const l=s.iv.subSkills.getActiveSubSkills(this.subSkillUnlockedOnly?s.iv.level:100).map(o=>o.name);return this.subSkillAnd?this.subSkillNames.every(o=>l.includes(o)):this.subSkillNames.some(o=>l.includes(o))})),this.neutralNature&&(i=i.filter(s=>s.iv.nature.isNeautral)),this.upNature!=="No effect"&&(i=i.filter(s=>s.iv.nature.upEffect===this.upNature)),this.downNature!=="No effect"&&(i=i.filter(s=>s.iv.nature.downEffect===this.downNature)),i}get defaultTabIndex(){return this.filterTypes.length>0||this.filterSpecialty.length>0?0:this.ingredientName!==void 0?1:this.mainSkillNames.length>0?2:this.subSkillNames.length>0?3:this.neutralNature||this.upNature!=="No effect"||this.downNature!=="No effect"?4:0}get isEmpty(){return this.name===""&&this.filterTypes.length===0&&this.filterSpecialty.length===0&&this.ingredientName===void 0&&this.mainSkillNames.length===0&&this.subSkillNames.length===0&&this.neutralNature===!1&&this.upNature==="No effect"&&this.downNature==="No effect"}}let Zn=new de({});function Fl(){const t={sort:"level",ingredient:"unknown",mainSkill:"Energy for Everyone S",descending:!0,warnItems:0,warnDate:""},n=localStorage.getItem("PstPokemonBoxParam");if(n===null)return t;const r=JSON.parse(n);return typeof r!="object"||r===null||(typeof r.sort=="string"&&["level","name","pokedexno","rp","berry","total strength","ingredient","skill count"].includes(r.sort)&&(t.sort=r.sort),typeof r.ingredient=="string"&&gn.includes(r.ingredient)&&(t.ingredient=r.ingredient),typeof r.mainSkill=="string"&&fn.includes(r.mainSkill)&&(t.mainSkill=r.mainSkill),typeof r.descending=="boolean"&&(t.descending=r.descending),typeof r.warnItems=="number"&&(t.warnItems=r.warnItems),typeof r.warnDate=="string"&&r.warnDate.match(/^\d{4}-\d{2}-\d{2}$/)&&(t.warnDate=r.warnDate)),t}const Al=a.memo(({item:t,selected:n,dispatch:r,onCandyClick:i})=>{const{t:s}=I(),[l,o]=a.useState(null),c=!!l,d=Rl(()=>{g("select"),g("edit")},500),u=a.useCallback(()=>{r({type:"select",payload:{id:t.id}})},[r,t.id]),h=a.useCallback(x=>{o(x.currentTarget)},[o]),m=a.useCallback(()=>{o(null)},[o]),g=a.useCallback(x=>{r({type:x,payload:{id:t.id}}),o(null)},[t,r,o]),p=a.useCallback(()=>{o(null),rr(t.iv,r,s)},[r,t.iv,s]),y=a.useCallback(()=>{o(null),i(t)},[t,i]);return e.jsxs(Ll,{children:[e.jsxs(Fn,{onClick:u,className:n?"selected":"",ref:d,children:[e.jsxs("header",{children:[e.jsx("span",{className:"lv",children:"Lv."}),t.iv.level]}),e.jsx(zn,{idForm:t.iv.idForm,size:32}),e.jsx("footer",{children:t.filledNickname(s)})]}),n&&e.jsx(re,{onClick:h,children:e.jsx(ct,{})}),e.jsx(un,{anchorEl:l,open:c,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:e.jsxs(_e,{children:[e.jsxs(f,{onClick:()=>g("edit"),children:[e.jsx(te,{children:e.jsx(ls,{})}),s("edit")]}),e.jsxs(f,{onClick:y,children:[e.jsx(te,{sx:{minWidth:"24px"},children:e.jsx(vt,{sx:{color:"#888"}})}),s("candy")]}),e.jsxs(f,{onClick:p,children:[e.jsx(te,{children:e.jsx(dt,{})}),s("share")]}),e.jsxs(f,{onClick:()=>g("dup"),children:[e.jsx(te,{children:e.jsx(os,{})}),s("duplicate")]}),e.jsxs(f,{onClick:()=>g("remove"),children:[e.jsx(te,{sx:{minWidth:"24px"},children:e.jsx(as,{})}),s("delete")]})]})})]})}),Ll=B("div")({position:"relative","& > button:first-of-type":{fontFamily:'"M PLUS 1p"',display:"block",textAlign:"center",width:"80px",padding:"0.2rem 0",border:"1px solid transparent","& > header":{fontSize:"0.7rem",fontWeight:"bold","& > span.lv":{color:"#62d540",fontSize:"0.6rem",paddingRight:"0.2rem"}},"& > div":{margin:"0.1rem auto 0.1rem"},"& > footer":{fontSize:"0.8rem",color:"#666666",overflowWrap:"anywhere"},"&.selected":{background:"#d3e9f7",borderRadius:"0.5rem",border:"1px solid #5e7da0"}},"& > button.MuiIconButton-root":{position:"absolute",right:"-5px",top:"-2px","& > svg":{width:"0.8rem",height:"0.8rem"}}});function Rl(t,n){const r=a.useRef(null),i=a.useRef(null),s=a.useCallback(()=>{r.current=setTimeout(t,n)},[t,n]),l=a.useCallback(()=>{r.current&&clearTimeout(r.current),r.current=null},[]),o=a.useCallback(()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",o),r.current&&clearTimeout(r.current),r.current=null},[]),c=a.useCallback(()=>{r.current===null&&(r.current=setTimeout(t,n),document.addEventListener("mousemove",o),document.addEventListener("mouseup",o))},[t,n,o]);return a.useEffect(()=>{if(i.current===null)return()=>{};const d=i.current;return d.addEventListener("touchstart",s),d.addEventListener("mousedown",c),d.addEventListener("touchmove",l),d.addEventListener("touchend",l),()=>{d.removeEventListener("touchstart",s),d.removeEventListener("mousedown",c),d.removeEventListener("touchmove",l),d.removeEventListener("touchend",l)}},[c,s,l]),i}const zl=30,Pl=10,Dl=a.memo(({count:t,config:n,dispatch:r,onChange:i})=>{const{t:s}=I(),l=a.useCallback(()=>{i({...n,warnDate:new Date().toLocaleDateString("sv-SE"),warnItems:t})},[n,t,i]),o=a.useCallback(()=>{r({type:"export"}),l()},[r,l]),c=n.warnDate!==""?new Date(n.warnDate).getTime():new Date().getTime(),u=new Date().getTime()-c>zl*24*60*60*1e3;return!(Math.abs(t-n.warnItems)>=Pl)&&!u?e.jsx(e.Fragment,{}):e.jsxs(Wl,{children:[e.jsx(Qe,{}),e.jsxs("div",{children:[s("export notice"),e.jsxs(F,{onClick:o,children:["[",s("export"),"]"]})]}),e.jsx(re,{onClick:l,children:e.jsx(An,{})})]})}),Wl=B("div")({background:"#e5f6fd",borderTop:"1px solid #d9e9e9",paddingTop:"0.2rem",color:"#014343",display:"grid",gridTemplateColumns:"26px 1fr 40px","& > svg":{color:"#0288d1",width:"18px",height:"18px",padding:"4px"},"& > div":{fontSize:"0.8rem",color:"#014480","& > button":{padding:"0 0 0 0.3rem",minWidth:0,fontSize:"0.8rem"}}}),Hl=a.memo(({open:t,value:n,onChange:r,onClose:i})=>{const{t:s}=I(),[l,o]=yt(),[c,d]=a.useState(n.tabIndex),u=a.useCallback((g,p)=>{d(p)},[]),h=w.useCallback(()=>{r(new Se({}))},[r]),m=w.useCallback(()=>{i()},[i]);return e.jsxs(Ol,{open:t,onClose:i,children:[e.jsxs($l,{variant:"scrollable",scrollButtons:!0,ref:o,value:c,onChange:u,children:[e.jsx(Gn,{label:s("type"),value:0}),e.jsx(Gn,{label:s("ingredient"),value:1}),e.jsx(Gn,{label:s("main skill"),value:2})]}),e.jsxs(ur,{index:c,width:l,onChange:d,children:[e.jsx("div",{className:"tabChild",children:e.jsx(_l,{value:n,onChange:r})}),e.jsx("div",{className:"tabChild",children:e.jsx(Vl,{value:n,onChange:r})}),e.jsx("div",{className:"tabChild",children:e.jsx(Ul,{value:n,onChange:r})})]}),e.jsxs(V,{children:[e.jsx(F,{onClick:h,children:s("clear")}),e.jsx(F,{onClick:m,children:s("close")})]})]})}),Ol=B(U)({"div.MuiPaper-root":{padding:"0 .5rem 0 .5rem","& div.tabChild":{"& > section":{margin:"0 0.8rem",fontSize:".9rem",display:"flex",flex:"0 auto",alignItems:"center",maxWidth:"40rem","&:first-of-type":{marginTop:"0.3rem"},"& > label":{marginRight:"auto"}}}}}),$l=B(Mn)({minHeight:"36px",marginBottom:"clamp(.3rem, 0.6vh, .7rem)"}),Gn=B(En)({minHeight:"36px",minWidth:"0",textTransform:"none"}),_l=a.memo(({value:t,onChange:n})=>{const{t:r}=I(),i=w.useCallback(d=>{n(new Se({...t,filterType:t.filterType===d?null:d}))},[t,n]),s=w.useCallback(d=>{n(new Se({...t,filterSpecialty:t.filterSpecialty.includes(d)?[]:[d]}))},[t,n]),l=w.useCallback((d,u)=>{u===null||t.filterEvolve===u||n(new Se({...t,filterEvolve:u}))},[t,n]),o=Ee.map(d=>e.jsx(Oe,{type:d,onClick:i,checked:d===t.filterType},d)),c=lt.map(d=>e.jsx(Re,{specialty:d,onClick:s,checked:t.filterSpecialty.includes(d)},d));return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:o}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"1rem 0 0.5rem"},children:r("specialty")}),c]}),e.jsxs("div",{children:[e.jsx("h4",{style:{margin:"1rem 0 0.5rem"},children:r("evolve")}),e.jsxs(ql,{value:t.filterEvolve,exclusive:!0,onChange:l,children:[e.jsx(R,{value:"all",children:r("all")}),e.jsx(R,{value:"non",children:r("non-evolve")}),e.jsx(R,{value:"final",children:r("final-evoltion")})]})]})]})}),Vl=a.memo(({value:t,onChange:n})=>{const{t:r}=I(),i=w.useCallback(d=>{const u=t.ingredientName===d?"unknown":d;n(new Se({...t,ingredientName:u}))},[t,n]),s=w.useCallback(d=>{n(new Se({...t,ingredientA:d.target.checked}))},[t,n]),l=w.useCallback(d=>{n(new Se({...t,ingredientB:d.target.checked}))},[t,n]),o=w.useCallback(d=>{n(new Se({...t,ingredientC:d.target.checked}))},[t,n]),c=gn.map(d=>e.jsx(or,{ingredient:d,onClick:i,checked:t.ingredientName===d},d));return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:"1rem"},children:c}),e.jsxs("section",{children:[e.jsxs("label",{children:[r("ing-a"),":"]}),e.jsx(oe,{checked:t.ingredientA,size:"small",onChange:s})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[r("ing-b"),":"]}),e.jsx(oe,{checked:t.ingredientB,size:"small",onChange:l})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[r("ing-c"),":"]}),e.jsx(oe,{checked:t.ingredientC,size:"small",onChange:o})]})]})}),Ul=a.memo(({value:t,onChange:n})=>{const r=w.useCallback(s=>{const l=t.mainSkillNames.includes(s)?t.mainSkillNames.filter(o=>o!==s):[...t.mainSkillNames,s];n(new Se({...t,mainSkillNames:l}))},[t,n]),i=fn.map(s=>e.jsx(ar,{mainSkill:s,onClick:r,checked:t.mainSkillNames.includes(s)},s));return e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:i})}),ql=B(K)({"& > button":{textTransform:"none",lineHeight:1},"& > button:first-of-type":{borderRadius:"1rem 0 0 1rem"},"& > button:last-of-type":{borderRadius:"0 1rem 1rem 0"}}),fr="2023-07-17",Zl=B(U)({"& > div.MuiDialog-container > div.MuiPaper-root":{width:"100%",margin:"20px"}});function Gl(t){const{disablePortal:n,anchorEl:r,open:i,...s}=t;return e.jsx(Kl,{...s})}const Kl=B("div")({[`& .${cs.paper}`]:{boxShadow:"none",margin:0,width:"100%",color:"inherit",fontSize:13,"& > ul.MuiAutocomplete-listbox":{paddingTop:0,maxHeight:"60vh",minHeight:"60vh","& > li > ul":{userSelect:"none",display:"flex",flexWrap:"wrap",justifyContent:"left",margin:"0 0 .5rem 0",padding:0,"& > li":{width:"76px",height:"80px",padding:0,margin:"0 0 6px 0",position:"relative",display:"block","& > div":{margin:"4px auto 0 auto"},"& > img":{margin:"4px auto 0 auto",display:"block"},"& > footer":{display:"inline-block",width:"100%",fontSize:"12px",textAlign:"center",textWrap:"wrap",lineHeight:1.1,verticalAlign:"middle","& > small":{display:"block",fontSize:"9px"}}}}}}}),Xl=B(ds)(()=>({width:"calc(100% - 8px)",padding:4,margin:4,borderRadius:4,border:"1px solid #cccccc","& input":{fontSize:14}})),Jl=B("div")({position:"sticky",top:"-1px",padding:"4px 10px",fontWeight:"bold",zIndex:9,backgroundColor:"#66aaff",borderRadius:"5px",margin:"0 4px 4px 4px",color:"#fff","&.dozing":{backgroundColor:"#fdec6e",color:"#862"},"&.snoozing":{backgroundColor:"#85fbff",color:"#226"},"&.slumbering":{backgroundColor:"#5592fc"},"&.normal":{backgroundColor:"#939393"},"&.fire":{backgroundColor:"#e8554d"},"&.water":{backgroundColor:"#579bf3"},"&.electric":{backgroundColor:"#f1c525"},"&.grass":{backgroundColor:"#57a747"},"&.ice":{backgroundColor:"#68c5df"},"&.fighting":{backgroundColor:"#e8a33b"},"&.poison":{backgroundColor:"#ab7aca"},"&.ground":{backgroundColor:"#c8a841"},"&.flying":{backgroundColor:"#add5ea"},"&.psychic":{backgroundColor:"#ed6c94"},"&.bug":{backgroundColor:"#a5ab39"},"&.rock":{backgroundColor:"#b2b194"},"&.ghost":{backgroundColor:"#8d658e"},"&.dragon":{backgroundColor:"#7482e9"},"&.dark":{backgroundColor:"#706261"},"&.steel":{backgroundColor:"#94b1c2"},"&.fairy":{backgroundColor:"#e48fe3"}});class Se{filterType;filterSpecialty;filterEvolve;ingredientName;ingredientA;ingredientB;ingredientC;mainSkillNames;constructor(n){this.filterType=n.filterType??null,this.filterSpecialty=n.filterSpecialty??[],this.filterEvolve=n.filterEvolve??"all",this.ingredientName=n.ingredientName??"unknown",this.ingredientA=n.ingredientA??!0,this.ingredientB=n.ingredientB??!0,this.ingredientC=n.ingredientC??!0,this.mainSkillNames=n.mainSkillNames??[]}load(n){if(!(typeof n!="object"||n===null)){if(typeof n.filterType=="string"){const r=n.filterType;Ee.includes(r)&&(this.filterType=r)}if(Array.isArray(n.filterSpecialty)){const r=n.filterSpecialty;r.every(i=>lt.includes(i))&&(this.filterSpecialty=r)}if(typeof n.filterEvolve=="string"){const r=n.filterEvolve;["all","non","final"].includes(r)&&(this.filterEvolve=r)}if(typeof n.ingredientName=="string"){const r=n.ingredientName;gn.includes(r)&&(this.ingredientName=r)}if(typeof n.ingredientA=="boolean"&&(this.ingredientA=n.ingredientA),typeof n.ingredientB=="boolean"&&(this.ingredientB=n.ingredientB),typeof n.ingredientC=="boolean"&&(this.ingredientC=n.ingredientC),Array.isArray(n.mainSkillNames)){const r=n.mainSkillNames;r.every(i=>fn.includes(i))&&(this.mainSkillNames=r)}}}get isFiltered(){return this.filterEvolve!=="all"||this.filterSpecialty.length>0||this.filterType!==null||this.ingredientName!=="unknown"||this.mainSkillNames.length>0}get tabIndex(){return this.filterEvolve!=="all"||this.filterSpecialty.length>0?0:this.ingredientName!=="unknown"?1:this.mainSkillNames.length>0?2:0}filter(n,r){const i=o=>o.toLowerCase().trim().replace(/[ぁ-ん]/g,c=>String.fromCharCode(c.charCodeAt(0)+96)),s=i(r);let l=n.filter(o=>i(o.localName).includes(s));return this.filterType!==null&&(l=l.filter(o=>this.filterType===o.type)),this.filterSpecialty.length>0&&(l=l.filter(o=>o.specialty==="All"||this.filterSpecialty.includes(o.specialty))),this.filterEvolve==="final"?l=l.filter(o=>o.isFullyEvolved):this.filterEvolve==="non"&&(l=l.filter(o=>o.isNonEvolving)),this.ingredientName!=="unknown"&&(l=l.filter(o=>this.ingredientA&&this.ingredientName===o.ing1Name||this.ingredientB&&this.ingredientName===o.ing2Name||this.ingredientC&&this.ingredientName===o.ing3Name)),this.mainSkillNames.length>0&&(l=l.filter(o=>this.mainSkillNames.some(c=>xt(o.skill,c)))),l.length===0&&l.push({...Ae[0],id:-1,idForm:-1,name:"",localName:"",arrival:fr,specialty:"Berries",sleepType:"dozing",type:"normal",skill:"Charge Energy S",ancestor:null,isFullyEvolved:!1,isNonEvolving:!1,ing1Name:"unknown",ing2Name:"unknown",ing3Name:void 0}),l}}const Ql=a.memo(({open:t,pokemonOptions:n,selectedValue:r,onClose:i,onChange:s})=>{const{t:l}=I(),[o,c]=a.useState(!1),[d,u]=a.useState(null),h=d===null?Yl():d,m=h.sort,g=h.descending,p=w.useCallback(()=>{i()},[i]),y=w.useCallback((E,M)=>h.filter.filter(E,M.inputValue),[h.filter]),x=w.useCallback((E,M)=>{if(M===null)return;let N;if(typeof M=="string"){if(N=n.find(D=>D.localName===M),N===void 0)return}else{const D=M;if(D.id<0)return;N=D}s(N),p()},[s,p,n]),k=w.useCallback((E,M)=>{M==="selectOption"&&p(),M==="escape"&&p()},[p]),j=w.useCallback(E=>{if(E.id<0)return"";switch(m){case"sleeptype":return E.sleepType;case"name":return E.localName.charAt(0).normalize("NFD")[0];case"pokedexno":return E.id<=151?"Kanto":E.id<=251?"Johto":E.id<=386?"Hoenn":E.id<=494?"Sinnoh":E.id<=649?"Unova":E.id<=721?"Kalos":E.id<=809?"Alola":E.id<=905?"Galar":"Paldea";case"type":return E.type;case"arrival":return E.arrival===fr?"initial pokemon":E.arrival.substring(0,4);default:return""}},[m]),C=w.useCallback(E=>{let M=E.group;return M===""?e.jsx(e.Fragment,{}):(m==="sleeptype"?M=l(E.group):m==="type"?M=l(`types.${E.group}`):m==="pokedexno"?M=l(`generation.${E.group}`):m==="arrival"&&E.group==="initial pokemon"&&(M=l("initial pokemon")),e.jsxs("li",{children:[e.jsx(Jl,{className:E.group,children:M}),e.jsx("ul",{style:{padding:0},children:E.children})]},E.group))},[m,l]),b=w.useCallback(()=>{c(!0)},[]),S=w.useCallback(()=>{c(!1)},[]),v=w.useCallback(E=>{const M={...h,filter:E};u(M),localStorage.setItem("PstPokemonSelectParam",JSON.stringify(M))},[h]),A=w.useCallback(E=>{const M={...h,descending:E.descending,sort:E.sort};u(M),localStorage.setItem("PstPokemonSelectParam",JSON.stringify(M))},[h]);let P=[];switch(m){case"sleeptype":P=n.sort((E,M)=>{const N=zt[E.sleepType],D=zt[M.sleepType];return N===D?E.id-M.id:N-D});break;case"name":P=n.sort((E,M)=>E.localName>M.localName?1:E.localName<M.localName?-1:0);break;case"pokedexno":P=n.sort((E,M)=>E.id-M.id);break;case"type":P=n.sort((E,M)=>{const N=Pt[E.type],D=Pt[M.type];return N===D?E.id-M.id:N-D});break;case"arrival":P=n.sort((E,M)=>E.arrival!==M.arrival?E.arrival>M.arrival?1:-1:(E.id-M.id)*(g?-1:1));break;default:throw new Error("invalid sort type")}return g&&(P=P.reverse()),e.jsxs(Zl,{open:t,onClose:p,children:[e.jsx(ht,{options:P,fullWidth:!0,open:!0,freeSolo:!0,value:P.find(E=>E.name===r.name),slots:{popper:Gl},filterOptions:y,getOptionLabel:E=>typeof E=="string"?E:E.localName,groupBy:j,renderGroup:C,renderOption:(E,M)=>{const{key:N,...D}=E;return e.jsxs(f,{...D,children:[e.jsx(zn,{idForm:M.idForm,size:48}),e.jsxs("footer",{children:[M.localName.replace(/\(.+/,""),M.localName.endsWith(")")&&e.jsx("small",{children:M.localName.replace(/^[^(]+/,"")})]})]},N)},renderInput:E=>e.jsx(Xl,{ref:E.InputProps.ref,inputProps:{autoComplete:"false",...E.inputProps},startAdornment:e.jsx(dn,{position:"start",children:e.jsx(Nn,{})})}),onClose:k,onChange:x}),e.jsx(sr,{sortTypes:["pokedexno","name","sleeptype","type","arrival"],value:{isFiltered:h.filter.isFiltered,sort:h.sort,descending:h.descending},onChange:A,onFilterButtonClick:b}),e.jsx(Hl,{open:o,onClose:S,value:h.filter,onChange:v})]})}),zt={dozing:0,snoozing:1,slumbering:2},Pt={normal:0,fire:1,water:2,electric:3,grass:4,ice:5,fighting:6,poison:7,ground:8,flying:9,psychic:10,bug:11,rock:12,ghost:13,dragon:14,dark:15,steel:16,fairy:17};function Yl(){const t={filter:new Se({}),sort:"pokedexno",descending:!1},n=localStorage.getItem("PstPokemonSelectParam");if(n===null)return t;const r=JSON.parse(n);return typeof r!="object"||r===null||(r.filter===void 0&&(r.filter={filterType:r.filterType,filterEvolve:r.filterEvolve}),t.filter.load(r.filter),typeof r.sort=="string"&&["sleeptype","name","pokedexno","type","arrival"].includes(r.sort)&&(t.sort=r.sort),typeof r.descending=="boolean"&&(t.descending=r.descending)),t}const eo=a.memo(({iv:t,fixMode:n,onChange:r,onCandyClick:i})=>{const s=t.pokemon.name,{t:l}=I(),[o,c]=a.useState(!1),d=a.useMemo(()=>Ae.map(y=>({...y,idForm:new le(y.name).idForm,localName:l(`pokemons.${y.name}`),isNonEvolving:y.evolutionCount===-1,isFullyEvolved:y.isFullyEvolved,ing1Name:y.ing1.name,ing2Name:y.ing2.name,ing3Name:y.ing3?.name})),[l]),u=d.find(y=>y.name===s);if(u===void 0)throw new Error(`value ${s} is invalid`);const h=u,m=w.useCallback(()=>{c(!0)},[c]),g=w.useCallback(y=>{r(y.name)},[r]),p=w.useCallback(()=>{c(!1)},[c]);return e.jsxs("div",{children:[n?e.jsx(e.Fragment,{children:h.localName}):e.jsxs($e,{onClick:m,style:{width:"10.2rem",fontSize:"0.9rem"},className:o?"focused":"",children:[h.localName.replace(/\(.+/,""),h.localName.endsWith(")")&&e.jsx("small",{children:h.localName.replace(/^[^(]+/,"")})]}),e.jsx(no,{iv:t,onChange:r}),e.jsx(ro,{onClick:i}),e.jsx(Ql,{open:o,onClose:p,onChange:g,pokemonOptions:d,selectedValue:h})]})}),no=a.memo(({iv:t,onChange:n})=>{const{t:r}=I(),[i,s]=a.useState(null),l=t.pokemon.ancestor!==null,o=a.useCallback(g=>{const p=g.currentTarget.getAttribute("value");p!==null&&(n(p),s(null))},[n,s]),c=[],d=t.allDecendants;for(const g of d)c.push(e.jsxs(f,{value:g.name,onClick:o,children:[e.jsx(te,{children:g.name===t.pokemon.name?e.jsx(Te,{}):e.jsx(Qn,{})}),r(`pokemons.${g.name}`)]},g.name));const u=w.useCallback(g=>{s(g.currentTarget)},[s]),h=w.useCallback(()=>{s(null)},[s]),m=!!i;return e.jsxs(e.Fragment,{children:[e.jsx(to,{size:"small",onClick:u,disabled:!l,children:e.jsx(us,{fontSize:"inherit"})}),e.jsx(un,{open:m,anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:h,children:c})]})}),to=B(re)({color:"#6c9",fontSize:"0.9rem",boxShadow:"0 1px 3px 1px rgba(128, 128, 128, 0.2)",marginLeft:".4rem",border:"1px solid #ccc","&:disabled":{color:"#999"}}),ro=a.memo(({onClick:t})=>e.jsx(so,{size:"small",onClick:t,children:e.jsx(vt,{sx:{color:"#e7ba67"}})})),so=B(re)({fontSize:"0.9rem",boxShadow:"0 1px 3px 1px rgba(128, 128, 128, 0.2)",marginLeft:".2rem","@media (min-width: 390px)":{marginLeft:".5rem"},border:"1px solid #ccc","& > svg":{width:"14px",height:"14px"}}),io=B(Zt)(()=>({marginRight:".8rem",width:26,height:26,"& .MuiBadge-badge":{top:23,right:4,border:"1px solid #ccbb88",fontSize:"0.5rem",height:"0.7rem",width:"0.8rem",color:"#000",backgroundColor:"#ffffff",boxShadow:"0 1px 2px 1px rgba(128, 128, 128, 0.4)",zIndex:0},"& > svg":{width:"20px",height:"20px"}})),Ie=a.memo(({name:t,count:n})=>t==="unknown"?e.jsx("span",{style:{padding:"0 0.7rem 0 0.2rem"},children:e.jsx(we,{name:t})}):e.jsx(io,{badgeContent:"×"+n,children:e.jsx(we,{name:t})})),lo=B(f)({borderTop:"1px dashed #ddd",padding:".3rem .5rem","&:first-of-type":{borderTop:0}}),oo=a.memo(({iv:t,onChange:n})=>{const r=w.useCallback(o=>{const c=t.clone();c.ingredient=o.target.value,n(c)},[t,n]),i=w.useCallback(o=>{const c=t.clone();c.mythIng1=o,n(c)},[t,n]),s=w.useCallback(o=>{const c=t.clone();c.mythIng2=o,n(c)},[t,n]),l=w.useCallback(o=>{const c=t.clone();c.mythIng3=o,n(c)},[t,n]);return t.isMythical?uo(t,i,s,l):ao(t,r)});function ao(t,n){const r=[],i=["AAA","AAB","ABA","ABB"];t.pokemon.ing3!==void 0&&(i.splice(2,0,"AAC"),i.push("ABC"));for(const s of i)r.push(e.jsx(lo,{value:s,dense:!0,children:e.jsx(co,{pokemon:t.pokemon,value:s})},s));return e.jsx(ae,{variant:"standard",size:"small",select:!0,value:t.ingredient,slotProps:{select:{MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}}},onChange:n,children:r})}const co=a.memo(({pokemon:t,value:n})=>{const r=e.jsx(Ie,{count:t.ing1.c1,name:t.ing1.name}),s=n.charAt(1)==="A"?t.ing1:t.ing2,l=e.jsx(Ie,{count:s.c2,name:s.name}),o=n.charAt(2),c=o==="C"&&t.ing3!==void 0?t.ing3:o==="A"?t.ing1:t.ing2,d=e.jsx(Ie,{count:c.c3,name:c.name});return e.jsxs(e.Fragment,{children:[r,l,d]})});function uo(t,n,r,i){if(t.pokemon.mythIng===void 0)return e.jsx(e.Fragment,{});const s=[],l=[],o=[];for(const c of t.pokemon.mythIng)s.push(e.jsx(f,{value:c.name,children:e.jsx(Ie,{count:c.c1,name:c.name})},c.name)),l.push(e.jsx(f,{value:c.name,children:e.jsx(Ie,{count:c.c2,name:c.name})},c.name)),o.push(e.jsx(f,{value:c.name,children:e.jsx(Ie,{count:c.c3,name:c.name})},c.name));return l.push(e.jsx(f,{value:"unknown",children:e.jsx(Ie,{count:0,name:"unknown"})},"unknown")),o.push(e.jsx(f,{value:"unknown",children:e.jsx(Ie,{count:0,name:"unknown"})},"unknown")),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx(me,{value:t.mythIng1,sx:{paddingBottom:"0.4rem"},menuSx:{display:"grid",gridTemplateColumns:"1fr 1fr"},onChange:n,children:s}),e.jsx(me,{value:t.mythIng2,sx:{paddingBottom:"0.4rem"},menuSx:{display:"grid",gridTemplateColumns:"1fr 1fr"},onChange:r,children:l}),e.jsx(me,{value:t.mythIng3,sx:{paddingBottom:"0.4rem"},menuSx:{display:"grid",gridTemplateColumns:"1fr 1fr"},onChange:i,children:o})]})}const ho=a.memo(({pokemon:t,value:n,onChange:r})=>{const{t:i}=I(),s=Pe(t.skill),l=[];for(let c=1;c<=s;c++)l.push(e.jsxs(f,{value:c,dense:!0,children:["Lv ",c]},c));const o=a.useCallback(c=>{r(parseInt(c.target.value,10))},[r]);return e.jsxs(mo,{children:[e.jsx("span",{style:{marginRight:"1rem"},children:i(`skills.${t.skill}`)}),e.jsx(ae,{variant:"standard",size:"small",select:!0,value:n,slotProps:{select:{MenuProps:{sx:{height:"400px"},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}}}},onChange:o,children:l})]})}),mo=B("div")({"& .MuiSelect-select":{paddingTop:"1px",paddingBottom:"1px",fontSize:"0.9rem"}}),go=B(re)({"&":{padding:0,marginLeft:"6px","& > svg":{width:"20px",height:"20px",color:"#bbb","&.error":{color:"#ed6c02",animation:"redglow 0.6s ease-out infinite normal"}}},"@keyframes redglow":{"0%":{transform:"scale(0.9)"},"100%":{transform:"scale(1.1)"}}}),ne=a.memo(({isError:t,onClick:n})=>e.jsxs(go,{onClick:n,children:[!t&&e.jsx(Qe,{}),t&&e.jsx(hs,{className:"error"})]})),po=a.memo(({value:t,onChange:n})=>{const{t:r}=I(),i=a.useCallback(s=>{n(parseInt(s,10))},[n]);return e.jsxs(me,{value:t,onChange:i,children:[e.jsx(f,{value:0,children:r("200 hours-")}),e.jsx(f,{value:1,children:r("200 hours+")}),e.jsx(f,{value:2,children:r("500 hours+")}),e.jsx(f,{value:3,children:r("1000 hours+")}),e.jsx(f,{value:4,children:r("2000 hours+")})]})}),Ze=a.memo(({energy:t})=>t>80?e.jsx(ms,{sx:{color:"#62d540"}}):t>60?e.jsx(gs,{sx:{color:"#66dcd8"}}):t>40?e.jsx(ps,{sx:{color:"#4aacfd"}}):t>20?e.jsx(xs,{sx:{color:"#d4b5fd"}}):e.jsx(fs,{sx:{color:"#a5a3a6"}})),xo=B("div")({margin:"0 0.3rem 0 0.3rem",fontSize:".9rem","& > div.table":{width:"100%",display:"grid",gap:"clamp(.3rem, 0.7vh, .5rem) .8rem",gridTemplateColumns:"fit-content(200px) 1fr"},"& > h3":{margin:"clamp(0.7rem, 1.8vh, 1rem) 0 .3rem -.3rem",fontSize:".8rem",padding:".1rem .5rem",background:"#557799",borderRadius:"0.4rem",color:"white"}}),jr=a.memo(({pokemonIv:t,fixMode:n,onChange:r})=>{const{t:i}=I(),s=a.useCallback(b=>{r(t.clone(b))},[t,r]),l=a.useCallback(b=>{const S=t.changeLevel(b);r(S)},[t,r]),o=a.useCallback(b=>{const S=t.clone();S.skillLevel=b,r(S)},[t,r]),c=a.useCallback(b=>{const S=t.changeSubSkills(b.value);r(S)},[t,r]),d=a.useCallback(b=>{const S=t.clone();S.nature=b,r(S)},[t,r]),u=a.useCallback(b=>{const S=t.clone();S.ribbon=b,r(S)},[t,r]),[h,m]=a.useState(!1),g=a.useCallback(()=>{m(!0)},[m]),p=a.useCallback(()=>{m(!1)},[m]),[y,x]=a.useState(!1),k=a.useCallback(()=>{x(!0)},[]),j=a.useCallback(()=>{x(!1)},[]),C=new ie(t);return e.jsxs(xo,{children:[e.jsxs("div",{className:"table",children:[e.jsxs("div",{children:[i("pokemon"),":"]}),e.jsx(eo,{iv:t,fixMode:n,onChange:s,onCandyClick:k}),e.jsxs("div",{children:[i("level"),":"]}),e.jsx(pr,{max:100,value:t.level,onChange:l}),e.jsxs("div",{children:[i("ingredient"),":"]}),e.jsx(oo,{iv:t,onChange:r}),e.jsxs("div",{children:[i("frequency"),":"]}),e.jsxs("div",{children:[kr(C.frequency,i),C.frequency>0&&e.jsx(ne,{onClick:g}),e.jsx(jo,{rp:C,iv:t,open:h,onClose:p})]}),e.jsxs("div",{children:[i("carry limit"),":"]}),t.carryLimit]}),e.jsx("h3",{children:i("Main Skill & Sub Skills")}),e.jsx(ho,{pokemon:C.pokemon,value:t.skillLevel,onChange:o}),e.jsx(vi,{value:t.subSkills,onChange:c}),e.jsx("h3",{className:"nature",children:i("additional stats")}),e.jsx(qi,{iv:t,onChange:d}),e.jsxs("div",{style:{marginTop:".7rem"},children:[e.jsxs("span",{style:{paddingRight:"0.7rem"},children:[i("sleeping time shared"),":"]}),e.jsx(po,{value:t.ribbon,onChange:u})]}),e.jsx(xr,{iv:t,open:y,onChange:r,onClose:j})]})}),fo=B(U)({"& div.MuiPaper-root":{margin:"20px"},"& article":{margin:"1rem",display:"grid",gridTemplateColumns:"max-content 1fr",gridGap:"1rem",rowGap:"0.5rem",fontSize:"0.9rem",alignItems:"start","& > span.energy":{display:"flex",alignItems:"center"}},"& section":{margin:"0.5rem 1rem 0 1rem","& div.line":{fontSize:".9rem",paddingBottom:2,display:"flex",flex:"0 auto",alignItems:"center","& > label":{"&.indent":{paddingLeft:"1rem"},marginRight:"auto"},"& > div":{paddingLeft:".5rem","& > button":{padding:"2px 7px"}}},"& button.MuiToggleButton-root":{lineHeight:1.3,textTransform:"none"}}}),jo=a.memo(({rp:t,iv:n,open:r,onClose:i})=>{const{t:s}=I(),[l,o]=a.useState(0),[c,d]=a.useState(!1),[u,h]=a.useState(0),[m,g]=a.useState(0),[p,y]=a.useState(!1),[x,k]=a.useState(2),[j,C]=a.useState(0),[b,S]=a.useState("frequency"),v=a.useCallback((G,J)=>{J!==null&&o(parseInt(J,10))},[]),A=a.useCallback(G=>{d(G.target.checked)},[]),P=a.useCallback((G,J)=>{J!==null&&h(parseInt(J,10))},[]),E=a.useCallback((G,J)=>{J!==null&&g(parseInt(J,10))},[]),M=a.useCallback(G=>{y(G.target.checked)},[]),N=a.useCallback((G,J)=>{J!==null&&k(parseInt(J,10))},[]),D=a.useCallback((G,J)=>{J!==null&&C(parseInt(J,10))},[]),Q=a.useCallback((G,J)=>{J!==null&&S(J)},[]);if(!r)return e.jsx(e.Fragment,{});const H=t.getBaseFrequency(l,c,p&&x===0,p&&x===2),L=G=>{switch(b){case"frequency":return kr(Math.floor(H*G),s);case"count":return s("help count per hour",{n:(3600/H/G).toFixed(2)});case"full":{const en=Math.ceil(n.carryLimit*(c?1.2:1))/t.getBagUsagePerHelp(u,m,p&&x!==2&&j===1)*H*G/60;return new xn(en).toString(s)}}return""},T=L(1),O=L(.66),$=L(.58),Z=L(.52),ce=L(.45);return e.jsxs(fo,{open:r,onClose:i,children:[e.jsxs("article",{children:[e.jsxs("span",{className:"energy",children:[e.jsx(Ze,{energy:100}),"81",s("range separator"),"150"]}),e.jsx("span",{children:ce}),e.jsxs("span",{className:"energy",children:[e.jsx(Ze,{energy:80}),"61",s("range separator"),"80"]}),e.jsx("span",{children:Z}),e.jsxs("span",{className:"energy",children:[e.jsx(Ze,{energy:60}),"41",s("range separator"),"60"]}),e.jsx("span",{children:$}),e.jsxs("span",{className:"energy",children:[e.jsx(Ze,{energy:40}),"1",s("range separator"),"40"]}),e.jsx("span",{children:O}),e.jsxs("span",{className:"energy",children:[e.jsx(Ze,{energy:20}),"0"]}),e.jsx("span",{children:T})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"line",children:[e.jsxs("label",{children:[s("helping bonus"),":"]}),e.jsxs(K,{size:"small",exclusive:!0,value:l,onChange:v,children:[e.jsx(R,{value:0,children:"0"}),e.jsx(R,{value:1,children:"1"}),e.jsx(R,{value:2,children:"2"}),e.jsx(R,{value:3,children:"3"}),e.jsx(R,{value:4,children:"4"}),e.jsx(R,{value:5,children:"5"})]})]}),e.jsxs("div",{className:"line",children:[e.jsxs("label",{children:[s("good camp ticket"),":"]}),e.jsx(oe,{checked:c,onChange:A})]}),e.jsxs(ue,{in:b==="full",children:[e.jsxs("div",{className:"line",children:[e.jsxs("label",{children:[s("berry bonus from event"),":"]}),e.jsxs(K,{size:"small",exclusive:!0,value:u,onChange:P,children:[e.jsx(R,{value:0,children:s("none")}),e.jsx(R,{value:1,children:"+1"})]})]}),e.jsxs("div",{className:"line",children:[e.jsxs("label",{children:[s("ingredient bonus from event"),":"]}),e.jsxs(K,{size:"small",exclusive:!0,value:m,onChange:E,children:[e.jsx(R,{value:0,children:s("none")}),e.jsx(R,{value:1,children:"+1"})]})]})]}),e.jsxs("div",{className:"line",children:[e.jsxs("label",{children:[s("expert mode"),":"]}),e.jsx(oe,{checked:p,onChange:M})]}),e.jsx(ue,{in:p,children:e.jsxs("div",{className:"line",children:[e.jsxs("label",{className:"indent",children:[s("berry"),":"]}),e.jsxs(K,{size:"small",exclusive:!0,value:x,onChange:N,children:[e.jsx(R,{value:0,children:s("main")}),e.jsx(R,{value:1,children:s("sub")}),e.jsx(R,{value:2,children:s("others")})]})]})}),e.jsx(ue,{in:p&&x!==2&&b==="full",children:e.jsxs("div",{className:"line",children:[e.jsxs("label",{className:"indent",children:[s("expert effect"),":"]}),e.jsxs(K,{size:"small",exclusive:!0,value:j,onChange:D,children:[e.jsx(R,{value:1,children:s("expert ing effect")}),e.jsx(R,{value:0,children:s("others")})]})]})}),e.jsx("div",{className:"line",children:e.jsxs("label",{children:[s("value"),":"]})}),e.jsx("div",{className:"value",children:e.jsxs(K,{exclusive:!0,size:"small",value:b,onChange:Q,children:[e.jsx(R,{value:"frequency",children:s("frequency")}),e.jsx(R,{value:"count",children:s("help count")}),e.jsx(R,{value:"full",children:s("time to full inventory")})]})})]}),e.jsx(V,{children:e.jsx(F,{onClick:i,children:s("close")})})]})});function kr(t,n){const r=Math.floor(t/3600),i=Math.floor(t/60%60),s=Math.floor(t%60);return n("freq hhmmss",{h:r,m:i,s})}const yr=a.memo(({value:t,dispatch:n})=>{const{t:r}=I(),i=a.useCallback(s=>{n({type:"changeParameter",payload:{parameter:{...t,period:parseInt(s,10)}}})},[n,t]);return e.jsxs(me,{onChange:i,value:t.period,menuSx:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[e.jsx(f,{value:1,dense:!0,children:r("1hour")}),e.jsx(f,{value:3,dense:!0,children:r("3hours")}),e.jsx(f,{value:8,dense:!0,children:r("8hours")}),e.jsx(f,{value:16,dense:!0,children:r("16hours")}),e.jsx(f,{value:24,dense:!0,children:r("1day")}),e.jsx(f,{value:168,dense:!0,children:r("1week")}),e.jsx(pn,{style:{gridColumn:"1 / -1"}}),e.jsx(f,{value:-10,dense:!0,children:r("help x10")}),e.jsx(f,{value:-30,dense:!0,children:r("help x30")}),e.jsx(f,{value:-100,dense:!0,children:r("help x100")}),e.jsx(f,{value:fe,dense:!0,children:r("whistle")})]})}),br=a.memo(({open:t,value:n,onClose:r,onChange:i})=>{const{t:s}=I(),[l,o]=a.useState(n.customEventBonus?.target?.type??["normal"]),[c,d]=a.useState(n.customEventBonus?.target?.specialty??"Berries"),u=a.useCallback(M=>{const N=M.target.value,D=Jn.getBonusByName(N);if(D===void 0){i({...n,event:"custom",customEventBonus:{target:{},effects:zr({})}});return}Array.isArray(D.target.type)&&o(D.target.type),typeof D.target.specialty<"u"&&d(D.target.specialty),i({...n,event:D.name,customEventBonus:{target:D.target,effects:D.effects}})},[n,i]),h=a.useCallback((M,N)=>{if(N===null)return;const D={};switch(N){case"type":D.type=l;break;case"specialty":D.specialty=c;break}i({...n,event:"custom",customEventBonus:{...n.customEventBonus,target:D}})},[l,c,n,i]),m=a.useCallback(M=>{o(M),i({...n,event:"custom",customEventBonus:{...n.customEventBonus,target:{type:M}}})},[n,i]),g=a.useCallback(M=>{d(M),i({...n,event:"custom",customEventBonus:{...n.customEventBonus,target:{specialty:M}}})},[n,i]),p=a.useCallback((M,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,skillTrigger:N}}})},[n,i]),y=a.useCallback((M,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,skillLevel:N}}})},[n,i]),x=a.useCallback((M,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,berry:N}}})},[n,i]),k=a.useCallback((M,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,ingredient:N}}})},[n,i]),j=a.useCallback((M,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,dreamShard:N}}})},[n,i]),C=a.useCallback((M,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,ingredientMagnet:N}}})},[n,i]),b=a.useCallback((M,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,ingredientDraw:N}}})},[n,i]),S=a.useCallback((M,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,berryBurst:N}}})},[n,i]),v=a.useCallback((M,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,dish:N}}})},[n,i]),A=a.useCallback((M,N)=>{N!==null&&i({...n,event:"custom",customEventBonus:{...n.customEventBonus,effects:{...n.customEventBonus.effects,energyFromDish:N}}})},[n,i]);if(!t)return e.jsx(e.Fragment,{});const P=Jn.bonus.map(M=>e.jsx(f,{value:M.name,children:s("events."+M.name)},M.name));P.unshift(e.jsx(f,{value:"custom",children:s("events.custom")},"custom"));const E=typeof n.customEventBonus.target.type<"u"?"type":typeof n.customEventBonus.target.specialty<"u"?"specialty":"all";return e.jsxs(ko,{open:t,onClose:r,children:[e.jsx("header",{children:e.jsxs("section",{children:[e.jsxs("label",{children:[s("event"),":"]}),e.jsx(ae,{value:n.event,onChange:u,slotProps:{select:{MenuProps:{PaperProps:{sx:{"& .MuiMenuItem-root":{minHeight:"32px",fontSize:"0.875rem",py:.5}}}}}},select:!0,size:"small",variant:"standard",children:P})]})}),e.jsxs("article",{children:[e.jsxs("section",{children:[e.jsxs("label",{children:[s("target"),":"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:E,onChange:h,children:[e.jsx(R,{value:"all",children:s("all")}),e.jsx(R,{value:"type",children:s("type")}),e.jsx(R,{value:"specialty",children:s("specialty")})]})})]}),e.jsx(ue,{in:typeof n.customEventBonus.target.type<"u",sx:{textAlign:"right"},children:e.jsx(yo,{onChange:m,value:l})}),e.jsxs(ue,{in:typeof n.customEventBonus.target.specialty<"u",sx:{textAlign:"right"},children:[e.jsx(Re,{specialty:"Berries",onClick:g,checked:c==="Berries"}),e.jsx(Re,{specialty:"Ingredients",onClick:g,checked:c==="Ingredients"}),e.jsx(Re,{specialty:"Skills",onClick:g,checked:c==="Skills"})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("berry"),":"]}),e.jsx("div",{children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.berry,onChange:x,children:[e.jsx(R,{value:0,children:s("none")}),e.jsx(R,{value:1,children:"+1"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("ingredient"),":"]}),e.jsx("div",{children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.ingredient,onChange:k,children:[e.jsx(R,{value:0,children:s("none")}),e.jsx(R,{value:1,children:"+1"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("skill rate"),":"]}),e.jsx("div",{children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.skillTrigger,onChange:p,children:[e.jsx(R,{value:1,children:"×1"}),e.jsx(R,{value:1.25,children:"×1.25"}),e.jsx(R,{value:1.5,children:"×1.5"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("skill level"),":"]}),e.jsx("div",{children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.skillLevel,onChange:y,children:[e.jsx(R,{value:0,children:s("none")}),e.jsx(R,{value:1,children:"+1"}),e.jsx(R,{value:3,children:"+3"}),e.jsx(R,{value:5,children:"+5"})]})})]})]}),e.jsxs("article",{className:"transparent",children:[e.jsxs("section",{children:[e.jsxs("label",{children:[s("skills.Dream Shard Magnet S"),":"]}),e.jsx("div",{children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.dreamShard,onChange:j,children:[e.jsx(R,{value:1,children:s("none")}),e.jsx(R,{value:1.5,children:"×1.5"}),e.jsx(R,{value:2,children:"×2"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("skills.Ingredient Magnet S"),":"]}),e.jsx("div",{children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.ingredientMagnet,onChange:C,children:[e.jsx(R,{value:1,children:s("none")}),e.jsx(R,{value:1.5,children:"×1.5"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("skills.Ingredient Draw S"),":"]}),e.jsx("div",{children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.ingredientDraw,onChange:b,children:[e.jsx(R,{value:1,children:s("none")}),e.jsx(R,{value:1.5,children:"×1.5"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("skills.Berry Burst"),":"]}),e.jsx("div",{children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.berryBurst,onChange:S,children:[e.jsx(R,{value:1,children:s("none")}),e.jsx(R,{value:1.4,children:"×1.4"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("dish"),":"]}),e.jsx("div",{children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.dish,onChange:v,children:[e.jsx(R,{value:1,children:s("none")}),e.jsx(R,{value:1.1,children:"×1.1"}),e.jsx(R,{value:1.25,children:"×1.25"}),e.jsx(R,{value:1.5,children:"×1.5"})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[s("energy from dish"),":"]}),e.jsx("div",{children:e.jsxs(K,{size:"small",exclusive:!0,style:{textTransform:"none"},value:n.customEventBonus.effects.energyFromDish,onChange:A,children:[e.jsx(R,{value:0,children:s("none")}),e.jsx(R,{value:5,children:"+5"})]})})]})]}),e.jsx(V,{children:e.jsx(F,{onClick:r,children:s("close")})})]})}),ko=B(U)({"& > div.MuiDialog-container > div.MuiPaper-root":{width:"100%",margin:"20px",maxHeight:"calc(100% - 20px)"},"& .MuiPaper-root":{width:"100%","& > header, & > article":{margin:"0.8rem 0.8rem 0 0.8rem","& > section":{display:"flex",flex:"0 auto",fontSize:".85rem",marginTop:"0.5rem","&:first-of-type":{marginTop:0},"& > label":{marginRight:"auto",marginTop:0},"& > div":{}}},"& .MuiSelect-select":{fontSize:"0.8rem"},"& > article":{background:"#f0f0f0",padding:"0.5rem",borderRadius:"0.9rem","& button.MuiToggleButtonGroup-grouped":{padding:"0.2rem 0.4rem",background:"transparent"},"& button.MuiToggleButtonGroup-grouped.Mui-selected":{background:"rgba(0, 0, 0, 0.08)"}},"& > article.transparent":{marginTop:0,background:"transparent"}}}),yo=a.memo(({value:t,onChange:n})=>{const r=a.useCallback((o,c)=>{const d=[...t];d[o]=c,n(d)},[t,n]),i=a.useCallback(o=>{const c=[...t];c.splice(o,1),n(c)},[t,n]),s=a.useCallback(()=>{const o=[...t];o.push(Ee.find(c=>!t.includes(c))??"normal"),n(o)},[t,n]),l=t.map((o,c)=>e.jsx(Ke,{type:o,size:"small",deletable:t.length>1,onChange:d=>r(c,d),onDelete:()=>i(c)},c));return e.jsxs(e.Fragment,{children:[l,l.length<3&&e.jsx(re,{size:"small",onClick:s,children:e.jsx(qt,{fontSize:"small"})})]})}),bo=B("div")({padding:"0 1rem",marginBottom:"10rem","& section":{margin:"0.2rem 0",fontSize:".9rem",display:"flex",flex:"0 auto","&.mt":{marginTop:"1rem"},"& > label":{marginRight:"auto",marginTop:0,textWrap:"nowrap"},"& > span > button":{marginRight:0},"& > .MuiInput-underline":{fontSize:"0.9rem"},"& div.MuiToggleButtonGroup-root > button":{fontSize:"0.75rem",padding:"0.5rem 0.2rem",lineHeight:1.1,maxWidth:"7rem"}},"& > button":{marginLeft:"-.4rem"}}),vo=a.memo(({dispatch:t,value:n,hasHelpingBonus:r})=>{const{t:i}=I(),[s,l]=a.useState(!1),[o,c]=a.useState(!1),[d,u]=a.useState(!1),h=a.useCallback(()=>{l(!0)},[]),m=a.useCallback(()=>{l(!1)},[]),g=a.useCallback(T=>{t({type:"changeParameter",payload:{parameter:T}})},[t]),p=a.useCallback(T=>{g({...n,helpBonusCount:parseInt(T.target.value,10)})},[g,n]),y=a.useCallback(T=>{g({...n,evolved:T.target.checked})},[g,n]),x=a.useCallback(T=>{g({...n,maxSkillLevel:T.target.checked})},[g,n]),k=a.useCallback((T,O)=>{O!==null&&(O==="advanced"&&(O="custom"),g({...n,event:O}))},[g,n]),j=a.useCallback(()=>{c(!0)},[]),C=a.useCallback(()=>{c(!1)},[]),b=a.useCallback(T=>{g({...n,tapFrequency:T.target.value})},[g,n]),S=a.useCallback(T=>{g({...n,tapFrequencyAsleep:T.target.value})},[g,n]),v=a.useCallback(()=>{t({type:"openEnergyDialog"})},[t]),A=a.useCallback(T=>{g({...n,recipeBonus:parseInt(T.target.value)})},[g,n]),P=a.useCallback(T=>{g({...n,recipeLevel:parseInt(T.target.value)})},[g,n]),E=a.useCallback(()=>{u(!0)},[]),M=a.useCallback(()=>{u(!1)},[]),N=Vt(new Date).map(T=>T.name).reverse();let D="";const Q=["none",...N,"advanced"].map(T=>{let O=i(`events.${T}`);return D.replace(/\(.*/,"")===O.replace(/\(.*/,"")&&(O=O.replace(/.*\(/,"").replace(")","")),D=O,e.jsx(R,{value:T,style:{textTransform:"none"},children:O},T)}),H=["none",...N].includes(n.event)?n.event:"advanced",L=n.period!==fe;return e.jsxs(bo,{children:[e.jsxs("section",{children:[e.jsxs("label",{children:[i("period"),":"]}),e.jsx(yr,{dispatch:t,value:n})]}),e.jsx(hr,{value:n,onChange:g}),e.jsxs("section",{className:"mt",children:[e.jsxs("label",{children:[i("event"),":"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[e.jsx(K,{size:"small",exclusive:!0,value:H,onChange:k,children:Q}),e.jsx(ue,{in:H==="advanced",children:e.jsx(F,{onClick:j,children:i("configure event details")})})]})]}),e.jsxs("section",{className:"mt",children:[e.jsxs("label",{children:[i("level"),":"]}),e.jsx(bt,{dispatch:t,value:n})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[i("calc with evolved"),":"]}),e.jsx(oe,{checked:n.evolved,onChange:y})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[i("calc with max skill level"),":"]}),e.jsx(oe,{checked:n.maxSkillLevel,onChange:x})]}),e.jsxs("section",{className:"mt",children:[e.jsxs("label",{children:[i("helping bonus"),":"]}),e.jsxs(se,{variant:"standard",value:n.helpBonusCount.toString(),onChange:p,children:[e.jsx(f,{value:0,children:r?"×1":i("none")}),e.jsx(f,{value:1,children:r?"×2":"×1"}),e.jsx(f,{value:2,children:r?"×3":"×2"}),e.jsx(f,{value:3,children:r?"×4":"×3"}),e.jsx(f,{value:4,children:r?"×5":"×4"})]})]}),e.jsxs(ue,{in:L,children:[e.jsxs("section",{children:[e.jsxs("label",{children:[i("tap frequency")," (",i("awake"),"):"]}),e.jsxs(se,{variant:"standard",value:n.tapFrequency,onChange:b,children:[e.jsx(f,{value:"always",children:i("every minute")}),e.jsx(f,{value:"none",children:i("none")})]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[i("tap frequency")," (",i("asleep"),"):"]}),n.tapFrequency==="none"?e.jsx("span",{style:{fontSize:"0.9rem"},children:i("none")}):e.jsxs(se,{variant:"standard",value:n.tapFrequencyAsleep,onChange:S,children:[e.jsx(f,{value:"always",children:i("every minute")}),e.jsx(f,{value:"none",children:i("none")})]})]}),e.jsxs("section",{className:"mt",children:[e.jsxs("label",{children:[i("energy"),":"]}),e.jsx(F,{onClick:v,children:i("edit")})]})]}),e.jsxs("section",{className:"mt",children:[e.jsxs("label",{children:[i("recipe bonus"),":",e.jsx(ne,{onClick:h})]}),e.jsx(mt,{size:"small",children:e.jsxs(se,{variant:"standard",value:n.recipeBonus.toString(),onChange:A,children:[e.jsxs(f,{value:0,children:["0% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(",i("mixed recipe"),")"]})]}),e.jsxs(f,{value:19,children:["19% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(7",i("range separator"),"16 ",i("ingredients unit"),")"]})]}),e.jsxs(f,{value:20,children:["20% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(20",i("range separator"),"22 ",i("ingredients unit"),")"]})]}),e.jsxs(f,{value:21,children:["21% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(23",i("range separator"),"26 ",i("ingredients unit"),")"]})]}),e.jsxs(f,{value:25,children:["25% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(17",i("range separator"),"35 ",i("ingredients unit"),")"]})]}),e.jsxs(f,{value:35,children:["35% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(35",i("range separator"),"56 ",i("ingredients unit"),")"]})]}),e.jsxs(f,{value:48,children:["48% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(49",i("range separator"),"77 ",i("ingredients unit"),")"]})]}),e.jsxs(f,{value:61,children:["61% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(87",i("range separator"),"102 ",i("ingredients unit"),")"]})]})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[i("average recipe level"),":"]}),e.jsxs(se,{variant:"standard",value:n.recipeLevel.toString(),onChange:P,children:[e.jsx(f,{value:1,children:"1"}),e.jsx(f,{value:10,children:"10"}),e.jsx(f,{value:20,children:"20"}),e.jsx(f,{value:30,children:"30"}),e.jsx(f,{value:40,children:"40"}),e.jsx(f,{value:50,children:"50"}),e.jsx(f,{value:55,children:"55"}),e.jsx(f,{value:60,children:"60"}),e.jsx(f,{value:65,children:"65"})]})]}),e.jsx("section",{className:"mt",children:e.jsx(F,{onClick:E,variant:"outlined",children:i("initialize all parameters")})}),e.jsx(Co,{open:d,onClose:M,dispatch:t}),e.jsx(So,{open:s,onClose:m}),e.jsx(br,{open:o,onClose:C,value:n,onChange:g})]})}),So=a.memo(({open:t,onClose:n})=>{const{t:r}=I();return e.jsxs(U,{open:t,onClose:n,children:[e.jsxs(Y,{children:[e.jsx(Ce,{sx:{marginBottom:"16px"},children:e.jsx(ee,{i18nKey:"recipe bonus help",components:{raenonx:e.jsx("a",{href:r("recipe bonus list"),children:"raenonx"})}})}),e.jsx(Ce,{variant:"body2",children:r("recipe strength help")})]}),e.jsx(V,{children:e.jsx(F,{onClick:n,children:r("close")})})]})}),Co=a.memo(({dispatch:t,open:n,onClose:r})=>{const[i,s]=a.useState(!1),{t:l}=I(),o=a.useCallback(()=>{t({type:"changeParameter",payload:{parameter:jt({})}}),s(!0),r()},[t,r]),c=a.useCallback(()=>{s(!1)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(U,{open:n,onClose:r,children:[e.jsx(pe,{children:l("initialize all parameters")}),e.jsx(Y,{children:e.jsx("p",{style:{fontSize:"0.9rem",margin:0},children:l("initialize all parameters message")})}),e.jsxs(V,{children:[e.jsx(F,{onClick:o,color:"error",children:l("reset")}),e.jsx(F,{onClick:r,children:l("cancel")})]})]}),e.jsx(ze,{open:i,autoHideDuration:2e3,onClose:c,message:l("initialized all parameters")})]})}),wo=B("div")({display:"grid",gridTemplateColumns:"4.8rem 1fr",marginLeft:"0.8rem",marginBottom:".4rem","& header":{marginTop:".7rem","&:first-of-type":{marginTop:0},gridColumn:"1 / -1",fontSize:"1rem","& > span":{display:"inline-block",width:"4rem",fontSize:".6rem",padding:".1rem 0",textAlign:"center",color:"white",borderRadius:".6rem",verticalAlign:"20%"},"& > div":{width:"4.5rem",textAlign:"right",fontWeight:800,display:"inline-block",color:"#555","& > span":{fontSize:"0.7rem",paddingLeft:".2rem"}},"& > button":{padding:0,marginLeft:"6px","& > svg":{width:"20px",height:"20px",color:"#bbb"}}},"& footer":{fontSize:"0.7rem",color:"#666","& > svg":{verticalAlign:"baseline",paddingLeft:".5rem","&:first-of-type":{paddingLeft:0},"&.MuiSvgIcon-root":{width:"1rem",height:"1rem",verticalAlign:"top",paddingRight:0}},"&.ings > svg.MuiSvgIcon-root":{width:".8rem",height:".8rem",paddingRight:"0.2rem"}}}),vr=a.memo(t=>{const{t:n}=I();return e.jsxs(wo,{children:[e.jsxs("header",{children:[e.jsx("span",{style:{background:"#24d76a"},children:n("berry")}),e.jsx("div",{children:t.berryValue}),t.onBerryInfoClick!==void 0&&e.jsx(ne,{onClick:t.onBerryInfoClick})]}),e.jsxs("footer",{children:[n("probability"),": ",t.berryProb,"%"]}),e.jsx("footer",{children:t.berrySubValue}),e.jsxs("header",{children:[e.jsx("span",{style:{background:"#fab855"},children:n("ingredient")}),e.jsx("div",{children:t.ingredientValue}),t.onIngredientInfoClick!==void 0&&e.jsx(ne,{onClick:t.onIngredientInfoClick})]}),e.jsxs("footer",{children:[n("probability"),": ",t.ingredientProb,"%"]}),e.jsx("footer",{className:"ings",children:t.ingredientSubValue}),e.jsxs("header",{children:[e.jsx("span",{style:{background:"#44a2fd"},children:n("skill")}),e.jsx("div",{children:t.skillValue}),t.onSkillInfoClick!==void 0&&e.jsx(ne,{onClick:t.onSkillInfoClick})]}),e.jsxs("footer",{children:[n("probability"),": ",t.skillProb,"%"]}),e.jsx("footer",{children:t.skillSubValue})]})}),Sr=a.memo(({berry:t,ingredient:n,skill:r,width:i,height:s,specialty:l})=>{const u=Math.min(300,i-15-69.28),h=l==="Berries"?"#24d76a":l==="Ingredients"?"#fab855":l==="Skills"?"#44a2fd":"#e28197";return e.jsx("svg",{width:i,height:s,viewBox:`0 0 ${i} ${s}`,style:{position:"absolute",top:"-45px",left:"-0.5rem",pointerEvents:"none"},children:e.jsxs("g",{transform:`translate(${u}, 210)`,children:[e.jsx(Bo,{r:80}),e.jsx(Io,{r:80,berry:t,ingredient:n,skill:r,color:h})]})})}),Bo=a.memo(({r:t})=>{const{t:n}=I(),r=0,i=-t,s=-t*1.732/2,l=t/2,o=-s,c=l,d=1/4,u=1/2,h=3/4;return e.jsxs(e.Fragment,{children:[e.jsxs("g",{fill:"#666",fontSize:"70%",children:[e.jsx("text",{textAnchor:"middle",x:r,y:i-10,children:n("berry")}),e.jsx("text",{textAnchor:"end",dominantBaseline:"hanging",x:s+15,y:l+5,children:n("skill")}),e.jsx("text",{textAnchor:"end",dominantBaseline:"hanging",x:o+5,y:c+5,children:n("ingredient")})]}),e.jsxs("g",{stroke:"#ccc",fill:"none",children:[e.jsx("polygon",{points:`${r*u},${i*u},${s*u},${l*u},${o*u},${c*u}`}),e.jsx("polygon",{points:`${r},${i},${s},${l},${o},${c}`})]}),e.jsxs("g",{stroke:"#eee",fill:"none",children:[e.jsx("polygon",{points:`${r*d},${i*d},${s*d},${l*d},${o*d},${c*d}`}),e.jsx("polygon",{points:`${r*h},${i*h},${s*h},${l*h},${o*h},${c*h}`})]}),e.jsxs("g",{stroke:"#999",children:[e.jsx("line",{x1:"0",y1:"0",x2:r,y2:i}),e.jsx("line",{x1:"0",y1:"0",x2:s,y2:l}),e.jsx("line",{x1:"0",y1:"0",x2:o,y2:c})]})]})}),Io=a.memo(({r:t,berry:n,ingredient:r,skill:i,color:s})=>{n=n*t,r=r*t,i=i*t;const l=0,o=-n,c=-1.732/2*i,d=i/2,u=1.732/2*r,h=r/2;return e.jsx(e.Fragment,{children:e.jsx("g",{stroke:s,strokeWidth:2,fill:s,fillOpacity:"0.3",children:e.jsx("polygon",{points:`${l},${o},${c},${d},${u},${h}`})})})}),Cr=a.memo(({rp:t,iv:n,showIcon:r,isError:i,onClick:s})=>{const{t:l}=I(),o=n.level>ye,c=a.useCallback(()=>{s!==void 0&&s()},[s]);return e.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"},children:[e.jsx("span",{style:{color:"#fd775d",fontWeight:"bold",paddingRight:".4rem",fontSize:".8rem",display:"inline-block",transform:"scale(1, 0.9)"},children:l("rp")}),e.jsx("span",{style:{fontSize:"1.5rem",fontWeight:"bold",display:"inline-block",transform:"scale(1, 0.9)"},children:l("num",{n:t})}),o&&e.jsx("span",{style:{border:"1px solid red",background:"#ffeeee",color:"red",fontSize:"0.7rem",borderRadius:"0.5rem",marginLeft:".5rem",padding:"0 0.3rem"},children:l("estimated value")}),r&&e.jsx(ne,{onClick:c,isError:i})]})}),Mo=a.memo(({state:t,width:n})=>{const{t:r}=I(),[i,s]=a.useState(!1),[l,o]=a.useState(!1),[c,d]=a.useState("berry"),u=a.useCallback(()=>{s(!0)},[]),h=a.useCallback(()=>{s(!1)},[]),m=a.useCallback(()=>{o(!0),d("berry")},[o]),g=a.useCallback(()=>{o(!0),d("ingredient")},[o]),p=a.useCallback(()=>{o(!0),d("skill")},[o]),y=a.useCallback(()=>{o(!1)},[o]),x=t.pokemonIv,k=new ie(x),j=k.calculate(),C=jt({helpBonusCount:x.hasHelpingBonusInActiveSubSkills?1:0}),b=new Fe(x,C).calculate(),S=k.pokemon,v=400,A=t.lowerTabIndex===1&&t.selectedItemId>=0&&(t.parameter.level>0||t.parameter.fieldIndex>=0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(Cr,{rp:j.rp,iv:x,showIcon:!0,isError:A,onClick:u}),e.jsx(vr,{berryValue:z(j.berryRp),berryProb:z(k.berryRatio*100),berrySubValue:e.jsxs(e.Fragment,{children:[e.jsx(ge,{sx:{color:"#ff944b",width:"1rem",height:"1rem"}}),_(Math.round(b.berryTotalStrength))]}),onBerryInfoClick:m,ingredientValue:z(j.ingredientRp),ingredientProb:z(k.ingredientRatio*100),ingredientSubValue:e.jsx(e.Fragment,{children:b.ingredients.map(P=>e.jsxs(a.Fragment,{children:[e.jsx(we,{name:P.name}),z(P.count)]},P.name))}),onIngredientInfoClick:g,skillValue:z(j.skillRp),skillProb:z(k.skillRatio*100),skillSubValue:b.skillCount.toFixed(2)+r("times unit"),onSkillInfoClick:p}),e.jsx(Eo,{isError:A,open:i,onClose:h}),e.jsx(No,{open:l,onClose:y,rp:k,rpResult:j,rpType:c})]}),e.jsx(Sr,{width:n,height:v,specialty:S.specialty,berry:j.berryRp/2e3,ingredient:j.ingredientRp/2e3,skill:j.skillRp/2e3})]})}),Eo=a.memo(({isError:t,open:n,onClose:r})=>{const{t:i}=I();return n?t?e.jsxs(Dt,{open:n,onClose:r,children:[e.jsx("article",{children:i("go to strength tab to show the current condition values")}),e.jsx(V,{children:e.jsx(F,{onClick:r,children:i("close")})})]}):e.jsxs(Dt,{open:n,onClose:r,children:[e.jsxs("article",{children:[e.jsx("h2",{children:i("rp")}),e.jsx("p",{children:e.jsx(ee,{i18nKey:"rp formula",components:{link:e.jsx("a",{href:i("rp formula doc url"),children:i("rp formula doc title")})}})}),e.jsx("p",{children:i("estimated beyond level",{level:ye})}),e.jsx("h2",{children:i("strength, ingredients, skill count")}),e.jsx("p",{children:i("the amount under the following condition")}),e.jsxs("ul",{children:[e.jsxs("li",{children:[i("period"),": ",i("1day")]}),e.jsxs("li",{children:[i("favorite berry"),": ",i("none")]}),e.jsxs("li",{children:[i("good camp ticket"),": ",i("none")]}),e.jsxs("li",{children:[i("area bonus"),": 0%"]}),e.jsxs("li",{children:[i("helping bonus other pokemon"),": ",i("none")]}),e.jsxs("li",{children:[i("skills.Energy for Everyone S"),": 18 × 3"]}),e.jsxs("li",{children:[i("sleep score"),": 100"]}),e.jsxs("li",{children:[i("tap frequency")," (",i("awake"),"): ",i("every minute")]}),e.jsxs("li",{children:[i("tap frequency")," (",i("asleep"),"): ",i("none")]})]}),e.jsx("p",{children:i("use strength tab if you want to change these condition")}),e.jsx("p",{children:i("estimated beyond level",{level:ye})})]}),e.jsx(V,{children:e.jsx(F,{onClick:r,children:i("close")})})]}):e.jsx(e.Fragment,{})}),Dt=B(U)({"& article":{margin:"1rem 1rem 0 1rem","& > h2":{fontSize:"1rem",margin:"0.8rem 0 0 0",lineHeight:1.2,"&:first-of-type":{margin:0}},"& > p":{fontSize:"0.8rem",margin:"0.3rem 0"},"& > ul":{margin:"0.5rem 0",padding:"0 0 0 1.5rem","& > li":{margin:"0.2rem 0",fontSize:"0.8rem"}}}}),To=B(U)({"& header":{margin:"1rem","& > h1":{fontSize:"1.5rem",margin:0,"& > span":{fontWeight:400,display:"inline-block",width:"4rem",fontSize:".6rem",padding:".1rem 0",textAlign:"center",color:"white",borderRadius:".6rem",verticalAlign:"50%"},"& > strong":{paddingLeft:"0.5rem"}},"& > h2":{display:"inline-block",fontWeight:"normal",fontSize:"0.9rem",margin:"0.3rem 0 0 0.5rem",lineHeight:"1.9"}},"& article":{margin:"1rem .5rem 0 .5rem",display:"grid",gridGap:".5rem",rowGap:".8rem",gridTemplateColumns:"max-content 1fr",fontSize:"0.9rem","& > div":{textAlign:"right"}},"& footer":{margin:"1rem 1rem 0 1rem",fontSize:"0.8rem","& > p":{margin:".5rem 0 0 0"}},"& span.box":{borderRadius:".3rem",padding:".1rem .4rem",margin:"0",color:"white",textAlign:"center"},"& span.box1":{background:"#1ebee1"},"& span.box2":{background:"#27c18e"},"& span.box3":{background:"#e7c300"},"& span.box4":{background:"#ce5052"},"& span.box5":{background:"#ce3fa3"}}),No=a.memo(({open:t,onClose:n,rp:r,rpResult:i,rpType:s})=>{const{t:l}=I();if(!t)return e.jsx(e.Fragment,{});let o="",c="";const d=l(s),u=he(r.helpCountPer5Hour),h=l("helps per 5 hours");let m="",g="",p="",y="",x="",k="";const C=r.bonus.toString();return s==="berry"?(o="#24d76a",c=z(i.berryRp),m=z(r.berryRatio*100)+"%",g=l("berry rate"),p=r.berryStrength.toString(),y=l("berry strength"),x=r.berryCount.toString(),k=l("berry count")):s==="ingredient"?(o="#fab855",c=z(i.ingredientRp),m=z(r.ingredientRatio*100)+"%",g=l("ingredient rate"),p=z(r.ingredientEnergy),y=l("ingredient strength"),x=jl(r.ingredientG),k=l("ingredient factor")):(o="#44a2fd",c=z(i.skillRp),m=z(r.skillRatio*100)+"%",g=l("skill rate"),p=_(r.skillValue),y=l("skill strength")),e.jsxs(To,{open:t,onClose:n,children:[e.jsxs("header",{children:[e.jsxs("h1",{children:[e.jsx("span",{style:{background:o},children:d}),e.jsx("strong",{children:c})]}),e.jsxs("h2",{children:[e.jsx("span",{className:"box box1",children:u}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:m}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box3",children:p}),e.jsx(e.Fragment,{children:" × "}),x!==""&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"box box4",children:x}),e.jsx(e.Fragment,{children:" × "})]}),e.jsx("span",{className:"box box5",children:C})]})]}),e.jsxs("article",{children:[e.jsx("div",{children:e.jsx("span",{className:"box box1",children:u})}),e.jsx("span",{children:h}),e.jsx("div",{children:e.jsx("span",{className:"box box2",children:m})}),e.jsx("span",{children:g}),e.jsx("div",{children:e.jsx("span",{className:"box box3",children:p})}),e.jsx("span",{children:y}),x!==""&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("span",{className:"box box4",children:x})}),e.jsx("span",{children:k})]}),e.jsx("div",{children:e.jsx("span",{className:"box box5",children:C})}),e.jsx("span",{children:e.jsx(ee,{i18nKey:"bonus factor",components:{nature:e.jsx(e.Fragment,{children:he(r.energyBonus)}),subskill:e.jsx(e.Fragment,{children:he(r.subSkillBonus)})}})})]}),e.jsxs("footer",{children:[e.jsx("p",{children:e.jsx(ee,{i18nKey:"rp formula",components:{link:e.jsx("a",{href:l("rp formula doc url"),children:l("rp formula doc title")})}})}),e.jsx("p",{children:l("estimated beyond level",{level:ye})})]}),e.jsx(V,{children:e.jsx(F,{onClick:n,children:l("close")})})]})}),wr=a.memo(({open:t,onClose:n,iv:r,fieldBonus:i,berryBonus:s})=>{const{t:l}=I();if(!t)return e.jsx(e.Fragment,{});const o=new ie(r).berryStrength,c=Math.ceil(Math.ceil(o*(1+i/100))*s);return e.jsxs(Pn,{open:t,onClose:n,PaperProps:{style:{maxWidth:"20rem"}},children:[e.jsxs(pe,{children:[e.jsxs("article",{children:[e.jsx(ge,{sx:{color:"#ff944b"}}),_(c)]}),e.jsxs("footer",{children:[e.jsx("span",{className:"box box3",children:o}),e.jsx(e.Fragment,{children:" × "}),"(1 + ",e.jsxs("span",{className:"box box4",children:[i,"%"]}),")",e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box5",children:s})]})]}),e.jsx(Y,{children:e.jsxs("article",{children:[e.jsx("div",{children:e.jsx("span",{className:"box box3",children:o})}),e.jsx("span",{children:l("berry strength")}),e.jsx("div",{children:e.jsxs("span",{className:"box box4",children:[i,"%"]})}),e.jsx("span",{children:l("area bonus")}),e.jsx("div",{children:e.jsx("span",{className:"box box5",children:s})}),e.jsx("span",{children:l("favorite berry")})]})}),e.jsx(V,{children:e.jsx(F,{onClick:n,children:l("close")})})]})}),Fo=a.memo(({open:t,onClose:n,strength:r,result:i})=>{const{t:s}=I(),[l,o]=a.useState(!1),c=a.useCallback(()=>{o(!0)},[]),d=a.useCallback(()=>{o(!1)},[]);if(!t)return e.jsx(e.Fragment,{});const u=r.parameter,h=Math.ceil(i.berryStrength*r.berryStrengthBonus),m=i.bonus.berry>0,g=i.berryCount+i.bonus.berry,p=z(m?i.notFullHelpCount*i.berryRatio:i.berryHelpCount);return e.jsxs(Pn,{open:t,onClose:n,children:[e.jsxs(pe,{children:[e.jsxs("article",{children:[e.jsx(ge,{sx:{color:"#ff944b"}}),_(Math.round(i.berryTotalStrength))]}),e.jsxs("footer",{children:[e.jsx("span",{className:"box box1",children:h}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:g}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box3",children:p}),m&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(e.Fragment,{children:" + "}),e.jsx("span",{className:"box box1",children:h}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:i.berryCount}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box3",children:z(i.fullHelpCount)})]})]})]}),e.jsx(Y,{children:e.jsxs("article",{children:[e.jsx("div",{children:e.jsx("span",{className:"box box1",children:h})}),e.jsxs("span",{children:[s("actual berry strength"),e.jsx(ne,{onClick:c})]}),e.jsx("div",{children:e.jsx("span",{className:"box box2",children:g})}),e.jsx("span",{children:s("berry count")}),e.jsx("div",{children:e.jsx("span",{className:"box box3",children:p})}),e.jsxs("span",{children:[s("berry help count"),e.jsxs("ul",{className:"detail",children:[e.jsxs("li",{children:[e.jsx("strong",{children:z(i.notFullHelpCount*i.berryRatio)}),s("times unit"),": ",s("berry picking count"),e.jsxs("footer",{children:[z(i.notFullHelpCount),e.jsxs("small",{children:[" (",s("normal help count"),")"]}),e.jsx(e.Fragment,{children:" × "}),z(i.berryRatio*100),"%",e.jsxs("small",{children:[" (",s("berry rate"),")"]})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:z(i.fullHelpCount)}),s("times unit"),": ",s("sneaky snacking")]})]})]})]})}),e.jsx(V,{children:e.jsx(F,{onClick:n,children:s("close")})}),e.jsx(wr,{open:l,onClose:d,iv:r.pokemonIv,fieldBonus:u.fieldBonus,berryBonus:r.berryStrengthBonus})]})}),Ao=a.memo(({open:t,iv:n,energy:r,parameter:i,onClose:s,dispatch:l})=>{const{t:o}=I(),[c,d]=yt(),[u,h]=a.useState(!1),m=a.useCallback(v=>{l({type:"changeParameter",payload:{parameter:{...i,e4eEnergy:parseInt(v.target.value,10)}}})},[l,i]),g=a.useCallback(v=>{l({type:"changeParameter",payload:{parameter:{...i,e4eCount:parseInt(v.target.value,10)}}})},[l,i]),p=a.useCallback(v=>{l({type:"changeParameter",payload:{parameter:{...i,recoveryBonusCount:parseInt(v.target.value,10)}}})},[l,i]),y=a.useCallback(v=>{h(v.target.value==="");let A=parseInt(v.target.value,10);isNaN(A)&&(A=0),A=Math.min(100,Math.max(0,A)),l({type:"changeParameter",payload:{parameter:{...i,sleepScore:A}}})},[l,i]),x=a.useCallback(v=>{l({type:"changeParameter",payload:{parameter:{...i,isEnergyAlwaysFull:v.target.checked}}})},[l,i]),k=a.useCallback(v=>{l({type:"changeParameter",payload:{parameter:{...i,isGoodCampTicketSet:v.target.checked}}})},[l,i]),j=a.useCallback(v=>{l({type:"changeParameter",payload:{parameter:{...i,tapFrequency:v.target.value}}})},[l,i]),C=a.useCallback(v=>{l({type:"changeParameter",payload:{parameter:{...i,tapFrequencyAsleep:v.target.value}}})},[l,i]);if(!t)return e.jsx(e.Fragment,{});const b=n.hasEnergyRecoveryBonusInActiveSubSkills,S=r.carryLimit;return e.jsxs(Lo,{open:t,onClose:s,children:[e.jsx(Ro,{width:c,period:i.period,result:r}),e.jsx(ue,{in:!i.isEnergyAlwaysFull,children:e.jsxs("section",{children:[e.jsxs("div",{children:[e.jsxs("label",{children:[o("skills.Energy for Everyone S"),":"]}),e.jsxs("div",{children:[e.jsxs(se,{variant:"standard",value:i.e4eEnergy.toString(),onChange:m,children:[e.jsx(f,{value:5,children:"5"}),e.jsx(f,{value:7,children:"7"}),e.jsx(f,{value:9,children:"9"}),e.jsx(f,{value:11,children:"11"}),e.jsx(f,{value:15,children:"15"}),e.jsx(f,{value:18,children:"18"})]}),e.jsx("span",{style:{margin:"0 0.5rem"},children:"×"}),e.jsxs(se,{variant:"standard",value:i.e4eCount.toString(),onChange:g,children:[e.jsx(f,{value:0,children:"0"}),e.jsx(f,{value:1,children:"1"}),e.jsx(f,{value:2,children:"2"}),e.jsx(f,{value:3,children:"3"}),e.jsx(f,{value:4,children:"4"}),e.jsx(f,{value:5,children:"5"}),e.jsx(f,{value:6,children:"6"}),e.jsx(f,{value:7,children:"7"}),e.jsx(f,{value:8,children:"8"}),e.jsx(f,{value:9,children:"9"}),e.jsx(f,{value:10,children:"10"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{children:[o("subskill.Energy Recovery Bonus"),":"]}),e.jsxs(se,{variant:"standard",value:i.recoveryBonusCount.toString(),onChange:p,children:[e.jsx(f,{value:0,children:b?"×1":o("none")}),e.jsx(f,{value:1,children:b?"×2":"×1"}),e.jsx(f,{value:2,children:b?"×3":"×2"}),e.jsx(f,{value:3,children:b?"×4":"×3"}),e.jsx(f,{value:4,children:b?"×5":"×4"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{children:[o("sleep score"),":"]}),e.jsx("div",{children:e.jsx(ae,{variant:"standard",type:"number",size:"small",value:u?"":i.sleepScore,onChange:y,slotProps:{htmlInput:{min:0,max:100}}})})]})]})}),e.jsx("section",{ref:d,children:e.jsxs("div",{children:[e.jsxs("label",{children:[o("always 81%+"),":"]}),e.jsx("div",{children:e.jsx(oe,{size:"small",checked:i.isEnergyAlwaysFull,onChange:x})})]})}),e.jsx("section",{children:e.jsxs("div",{children:[e.jsxs("label",{children:[o("good camp ticket"),":"]}),e.jsx("div",{children:e.jsx(oe,{size:"small",checked:i.isGoodCampTicketSet,onChange:k})})]})}),e.jsxs("section",{children:[e.jsxs("div",{children:[e.jsxs("label",{children:[o("tap frequency")," (",o("awake"),"):"]}),e.jsxs(se,{variant:"standard",value:i.tapFrequency,onChange:j,children:[e.jsx(f,{value:"always",children:o("every minute")}),e.jsx(f,{value:"none",children:o("none")})]})]}),e.jsxs("div",{children:[e.jsxs("label",{children:[o("tap frequency")," (",o("asleep"),"):"]}),i.tapFrequency==="none"?e.jsx("span",{style:{fontSize:"0.9rem"},children:o("none")}):e.jsxs(se,{variant:"standard",value:i.tapFrequencyAsleep,onChange:C,children:[e.jsx(f,{value:"always",children:o("every minute")}),e.jsx(f,{value:"none",children:o("none")})]})]})]}),e.jsxs("footer",{children:[e.jsxs("section",{className:"first",children:[e.jsxs("label",{children:[o("average help efficiency"),":"]}),e.jsx("div",{children:r.averageEfficiency.total}),i.period>=24&&e.jsxs("footer",{children:[e.jsxs("span",{children:[o("awake"),": ",r.averageEfficiency.awake]}),e.jsxs("span",{children:[o("asleep"),": ",r.averageEfficiency.asleep]})]})]}),e.jsxs(ue,{in:r.canBeFullInventory&&i.period>=24,children:[e.jsxs("section",{children:[e.jsxs("label",{children:[o("full inventory while sleeping"),":"]}),e.jsx("div",{children:r.timeToFullInventory<0?o("none"):new xn(r.timeToFullInventory).toString(o)}),e.jsxs("footer",{children:[e.jsxs("span",{children:[o("carry limit"),": ",S]}),e.jsxs("span",{children:[o("sneaky snacking"),": ",r.timeToFullInventory<0?o("none"):r.helpCount.asleepFull.toFixed(1)+" "+o("times unit")]})]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[o("skill trigger after wake up"),":"]}),e.jsx("div",{children:n.pokemon.specialty!=="Skills"?e.jsxs(e.Fragment,{children:[(r.skillProbabilityAfterWakeup.once*100).toFixed(1),"%"]}):e.jsxs(e.Fragment,{children:["❶",(r.skillProbabilityAfterWakeup.once*100).toFixed(1),"%",e.jsx(e.Fragment,{children:" "}),"❷",(r.skillProbabilityAfterWakeup.twice*100).toFixed(1),"%"]})}),e.jsx("footer",{children:e.jsxs("span",{children:[o("lottery count"),": ",r.helpCount.asleepNotFull.toFixed(2)]})})]})]})]}),n.pokemon.skill==="Charge Energy S"&&e.jsx("div",{className:"warning",children:o("charge energy not implemented")}),e.jsx(V,{disableSpacing:!0,children:e.jsx(F,{onClick:s,children:o("close")})})]})}),Lo=B(U)({"& > div.MuiDialog-container > div.MuiPaper-root":{width:"100%",margin:"20px",maxHeight:"calc(100% - 20px)"},"& .MuiPaper-root":{width:"100%","& > svg":{padding:"0.5rem 0 1rem",width:"100%",userSelect:"none"},"& section":{padding:"0 1rem","& > div":{display:"flex",flex:"0 auto",flexWrap:"wrap",alignItems:"center","& > label":{marginRight:"auto",fontSize:"0.9rem","&.indent":{marginLeft:"1rem"}},"& .MuiSelect-select":{paddingTop:"1px",paddingBottom:"1px",fontSize:"0.9rem"},"& input.MuiInput-input":{fontSize:"0.9rem",paddingBottom:0}}},"& > footer":{margin:"0.5rem 1rem 0 1rem",fontSize:"0.9rem",background:"#eee",borderRadius:"0.9rem",padding:"0.5rem 0.7rem","& section":{display:"grid",gridTemplateColumns:"1fr fit-content(200px)",marginTop:"0.4rem","&.first":{marginTop:0},padding:0,"& > div":{textAlign:"right"},"& > footer":{gridColumn:"1 / -1",color:"#666",fontSize:"0.7rem",marginLeft:"0.8rem","& > span":{marginRight:"1rem"}}}},"& > div.warning":{fontSize:"0.8rem",color:"#666",padding:"0.4rem 1rem 0 1rem",marginLeft:"1.2rem"}}}),Ro=a.memo(({width:t,period:n,result:r})=>{const i=a.useRef(null),s=Ho(i);return e.jsx("svg",{width:t,height:"200",viewBox:`0 0 ${t} 200`,ref:i,children:e.jsxs("g",{transform:"translate(25,3)",children:[e.jsx(zo,{width:t-50,height:180,period:n,sleepTime:r.sleepTime}),e.jsx(Po,{width:t-50,height:180,result:r}),s!==null&&e.jsx(Do,{width:t-50,height:180,x:s.svgX-25,gx:s.x,gy:s.y,result:r})]})})}),zo=a.memo(({width:t,height:n,period:r,sleepTime:i})=>{const s=Be(100,n),l=Be(80,n),o=Be(60,n),c=Be(40,n),d=Be(20,n),u=Be(0,n),h=cn(2,n),m=cn(1.5,n),g=cn(1,n),p=P=>P/1440*t,y=p(120),x=p(300),k=p(480),j=p(660),C=p(840),b=p(1020),S=p(1200),v=p(1380),A=n+5;return e.jsxs(e.Fragment,{children:[e.jsxs("g",{stroke:"#ddd",children:[e.jsx("line",{x1:"0",y1:s,x2:t,y2:s}),e.jsx("line",{x1:"0",y1:l,x2:t,y2:l}),e.jsx("line",{x1:"0",y1:o,x2:t,y2:o}),e.jsx("line",{x1:"0",y1:c,x2:t,y2:c}),e.jsx("line",{x1:"0",y1:d,x2:t,y2:d}),e.jsx("line",{x1:"0",y1:u,x2:t,y2:u})]}),e.jsxs("g",{stroke:"#bbb",children:[e.jsx("line",{x1:v,y1:n,x2:v,y2:A}),e.jsx("line",{x1:y,y1:n,x2:y,y2:A}),e.jsx("line",{x1:x,y1:n,x2:x,y2:A}),e.jsx("line",{x1:k,y1:n,x2:k,y2:A}),e.jsx("line",{x1:j,y1:n,x2:j,y2:A}),e.jsx("line",{x1:C,y1:n,x2:C,y2:A}),e.jsx("line",{x1:b,y1:n,x2:b,y2:A}),e.jsx("line",{x1:S,y1:n,x2:S,y2:A})]}),e.jsxs("g",{fontSize:"60%",fill:"#999",textAnchor:"end",children:[e.jsx("text",{alignmentBaseline:"central",x:"-5",y:s,children:"100"}),e.jsx("text",{alignmentBaseline:"central",x:"-5",y:l,children:"80"}),e.jsx("text",{alignmentBaseline:"central",x:"-5",y:o,children:"60"}),e.jsx("text",{alignmentBaseline:"central",x:"-5",y:c,children:"40"}),e.jsx("text",{alignmentBaseline:"central",x:"-5",y:d,children:"20"}),e.jsx("text",{alignmentBaseline:"central",x:"-5",y:u,children:"0"})]}),e.jsxs("g",{transform:`translate(${t+2},0)`,fontSize:"60%",fill:"#999",textAnchor:"start",children:[e.jsx("text",{alignmentBaseline:"central",x:"0",y:h,children:"2.0"}),e.jsx("text",{alignmentBaseline:"central",x:"0",y:m,children:"1.5"}),e.jsx("text",{alignmentBaseline:"central",x:"0",y:g,children:"1.0"})]}),e.jsxs("g",{transform:`translate(0,${A+3})`,fontSize:"60%",fill:"#999",textAnchor:"middle",children:[e.jsx("text",{alignmentBaseline:"hanging",x:y,y:"0",children:"9:00"}),e.jsx("text",{alignmentBaseline:"hanging",x,y:"0",children:"12:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:k,y:"0",children:"15:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:j,y:"0",children:"18:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:C,y:"0",children:"21:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:b,y:"0",children:"24:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:S,y:"0",children:"3:00"}),e.jsx("text",{alignmentBaseline:"hanging",x:v,y:"0",children:"6:00"})]}),e.jsx("rect",{x:t*i/1440,y:"0",width:t*(1440-i)/1440,height:n,fill:"#000080",fillOpacity:"0.08"}),r<24&&e.jsx("rect",{x:t*r*60/1440,y:"0",width:t*(1440-r*60)/1440,height:n,fill:"#6666tt",fillOpacity:"0.15"})]})}),Po=a.memo(({width:t,height:n,result:r})=>{const i=m=>m/1440*t,s=[],l=[];let o=r.events[0].isSnacking,c=o?i(0).toFixed(2):t.toString();for(let m=0;m<r.events.length;m++){const g=Be(r.events[m].energyBefore,n).toFixed(2),p=Be(r.events[m].energyAfter,n).toFixed(2),y=i(r.events[m].minutes).toFixed(2),x=o?l:s;x.push(`${y},${g}`),m<r.events.length-1&&x.push(`${y},${p}`),!o&&r.events[m].isSnacking&&(o=!0,l.push(`${y},${p}`),c=y)}const d=[...s];d.push(`${c},${n} 0,${n}`);const u=[...l];u.length>0&&u.push(`${t},${n} ${c},${n}`);const h=[];for(const m of r.efficiencies){const g=i(m.start),p=i(m.end),y=cn(m.efficiency,n);h.push(`${g},${y} ${p},${y}`)}return e.jsxs(e.Fragment,{children:[e.jsx("polygon",{points:d.join(" "),stroke:"none",fill:"#1976d2",fillOpacity:.2}),e.jsx("polyline",{points:s.join(" "),stroke:"#1976d2",fill:"none"}),u.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("polyline",{points:l.join(" "),stroke:"#000000",fill:"none"}),e.jsx("polygon",{points:u.join(" "),stroke:"none",fill:"#000000",fillOpacity:.2})]}),e.jsx("polyline",{points:h.join(" "),stroke:"#ff0000",fill:"none",strokeWidth:"1.2"})]})}),Do=a.memo(({width:t,height:n,x:r,gx:i,gy:s,result:l})=>{const{t:o}=I(),c=20;if(r<-c||r>t+c)return e.jsx(e.Fragment,{});r=Math.max(0,Math.min(t,r));const d=Math.round(r/t*1440/10)*10;r=d/1440*t;const u=l.events.findIndex(x=>d<x.minutes);let h;if(u<=0)h=l.events[l.events.length-1].energyBefore;else{const x=l.events[u-1],k=l.events[u],j=(d-x.minutes)/(k.minutes-x.minutes);h=x.energyAfter+(k.energyBefore-x.energyAfter)*j}let m=l.efficiencies.find(x=>x.start<=d&&d<x.end);m===void 0&&(m=l.efficiencies[l.efficiencies.length-1]);let g="";const p=m.isSnacking;m.isAwake?g=o(p?"asleep (full inventory)":"awake"):g=o(p?"asleep (full inventory)":"asleep");const y={getBoundingClientRect:()=>new DOMRect(i-window.scrollX,s-window.scrollY,0,0)};return e.jsxs(e.Fragment,{children:[e.jsx("line",{stroke:"#999",x1:r,y1:0,x2:r,y2:n}),e.jsx("circle",{fill:p?"#000":"#1976d2",cx:r,cy:Be(h,n),r:"3"}),e.jsx("circle",{fill:"#ff0000",cx:r,cy:cn(m.efficiency,n),r:"3"}),e.jsx(Wo,{open:!0,anchorEl:y,placement:"right-end",children:e.jsxs("div",{children:[e.jsx("h3",{children:g}),e.jsxs("h2",{children:[e.jsx(Ze,{energy:h}),Math.floor((d+420)/60)%24,":",Math.floor(d%60).toString().padStart(2,"0")]}),e.jsxs("dl",{children:[e.jsxs("dt",{children:[o("help efficiency"),":"]}),e.jsx("dd",{children:m.efficiency}),e.jsxs("dt",{children:[o("energy"),":"]}),e.jsx("dd",{children:Math.ceil(h)})]})]})})]})}),Wo=B(Tn)({pointerEvents:"none",padding:"1rem","& > div":{padding:".5rem",background:"rgba(246, 246, 246, 0.8)",borderRadius:"0.8rem",boxShadow:"4px 2px 5px 3px rgba(128, 128, 128, 0.2)","& > h2":{fontSize:"0.9rem",color:"#666",margin:0,display:"flex",alignItems:"center","& > svg":{marginRight:"0.1rem"}},"& > h3":{fontSize:"0.6rem",color:"#889",fontWeight:"normal",margin:0},"& > dl":{fontSize:"0.8rem",display:"grid",gridTemplateColumns:"auto auto",margin:"0.3rem 0 0 0","& > dt":{margin:"0 0.4rem 0 0",color:"#333"},"& > dd":{margin:0,textAlign:"right"}}}}),Be=(t,n)=>(150-t)/150*n,cn=(t,n)=>(210-80*t)/150*n;function Ho(t){const[n,r]=a.useState(null),i=a.useCallback((d,u)=>{if(t.current===null)return;const h=t.current,m=h.createSVGPoint();m.x=d,m.y=u;const g=h.getScreenCTM();if(!g)return;const p=m.matrixTransform(g.inverse());r({x:d,y:u,svgX:p.x})},[t]),s=a.useCallback(d=>{i(d.touches[0].pageX,d.touches[0].pageY)},[i]),l=a.useCallback(()=>{r(null)},[]),o=a.useCallback(d=>{"ontouchstart"in window||i(d.pageX,d.pageY)},[i]),c=a.useCallback(()=>{r(null)},[]);return a.useEffect(()=>{if(t.current===null)return;const d=t.current;return d.addEventListener("touchstart",s),d.addEventListener("touchmove",s),d.addEventListener("touchend",l),d.addEventListener("mousemove",o),d.addEventListener("mouseleave",c),()=>{d.removeEventListener("touchstart",s),d.removeEventListener("touchmove",s),d.removeEventListener("touchend",l),d.removeEventListener("mousemove",o),d.removeEventListener("mouseleave",c)}},[t,s,l,o,c]),n}const Oo=a.memo(({open:t,strength:n,result:r,dispatch:i,onClose:s})=>{const{t:l}=I(),[o,c]=a.useState(!1),d=a.useCallback(b=>{i({type:"changeParameter",payload:{parameter:b}})},[i]),u=a.useCallback(b=>{d({...n.parameter,recipeBonus:parseInt(b.target.value)})},[d,n.parameter]),h=a.useCallback(b=>{d({...n.parameter,recipeLevel:parseInt(b.target.value)})},[d,n.parameter]),m=a.useCallback(()=>{c(!0)},[]),g=a.useCallback(()=>{c(!1)},[]);if(!t)return e.jsx(e.Fragment,{});const p=n.parameter;if(p.tapFrequency==="none")return e.jsxs(U,{open:t,onClose:s,children:[e.jsx(Y,{style:{fontSize:"0.95rem",whiteSpace:"pre-wrap"},children:l("no ingredient")}),e.jsx(V,{children:e.jsx(F,{onClick:s,children:l("close")})})]});const y=n.pokemonIv.level<30?1:n.pokemonIv.level<60?2:3,x=[[r.ing1]];y>1&&(r.ing2.name==="unknown"||(x[0][0].name===r.ing2.name?x[0].push(r.ing2):x.push([r.ing2]))),y>2&&r.ing3!==void 0&&(r.ing3.name==="unknown"||(x[0][0].name===r.ing3.name?x[0].push(r.ing3):x.length>1&&x[1][0].name===r.ing3.name?x[1].push(r.ing3):x.push([r.ing3])));const j=(p.recipeBonus===0?1:(1+p.recipeBonus/100)*(1+et[p.recipeLevel]/100))*.8+.2,C=We(p.event,p.customEventBonus)?.dish??1;return e.jsxs(Pn,{open:t,onClose:s,children:[e.jsx(pe,{children:e.jsxs("article",{children:[e.jsx(ge,{sx:{color:"#ff944b"}}),_(Math.round(r.ingStrength))]})}),e.jsxs(Y,{children:[e.jsxs("div",{className:`inggrid ings${x.length}`,children:[Kn(n,r,j,y,x[0],l),x.length>1&&Kn(n,r,j,y,x[1],l),x.length>2&&Kn(n,r,j,y,x[2],l)]}),e.jsxs("article",{children:[e.jsx("div",{children:e.jsx("span",{className:"box box3",children:he(r.ingHelpCount)})}),e.jsx("span",{children:l("ing help count")}),e.jsxs("footer",{children:[z(r.notFullHelpCount),e.jsxs("small",{children:[" (",l("normal help count"),")"]}),e.jsx(e.Fragment,{children:" × "}),z(r.ingRatio*100),"%",e.jsxs("small",{children:[" (",l("ingredient rate"),")"]})]}),e.jsx("div",{children:e.jsx("span",{className:"box box1",children:z(x[0].reduce((b,S)=>b+S.count,0))})}),e.jsx("span",{children:l("ing count")}),e.jsx("div",{children:e.jsx("span",{className:"box box2",children:ve[x[0][0].name]})}),e.jsx("span",{children:l("strength per ing")}),e.jsx("div",{children:e.jsx("span",{className:"box box5",children:he(j)})}),e.jsxs("span",{children:[l("recipe multiplier"),e.jsx(ne,{onClick:m})]}),e.jsxs("footer",{children:[e.jsx(e.Fragment,{children:"("}),he(p.recipeBonus===0?1:1+p.recipeBonus/100),e.jsxs("small",{children:[" (",l("recipe bonus"),")"]}),e.jsx(e.Fragment,{children:" × "}),he(1+et[p.recipeLevel]/100),e.jsxs("small",{children:["(",l("average recipe level"),")"]}),e.jsx(e.Fragment,{children:") × 0.8 + 0.2"})]}),e.jsx("div",{children:e.jsxs("span",{className:"box box4",children:[p.fieldBonus,"%"]})}),e.jsx("span",{children:l("area bonus")}),C!==1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("span",{className:"box box6",children:C})}),e.jsx("span",{children:l("event bonus")})]})]}),e.jsxs("section",{style:{marginTop:"1.8rem"},children:[e.jsxs("label",{children:[l("recipe bonus"),":"]}),e.jsx(mt,{size:"small",children:e.jsxs(se,{variant:"standard",value:n.parameter.recipeBonus.toString(),onChange:u,children:[e.jsxs(f,{value:0,children:["0% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(",l("mixed recipe"),")"]})]}),e.jsxs(f,{value:19,children:["19% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(7",l("range separator"),"16 ",l("ingredients unit"),")"]})]}),e.jsxs(f,{value:20,children:["20% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(20",l("range separator"),"22 ",l("ingredients unit"),")"]})]}),e.jsxs(f,{value:21,children:["21% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(23",l("range separator"),"26 ",l("ingredients unit"),")"]})]}),e.jsxs(f,{value:25,children:["25% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(17",l("range separator"),"35 ",l("ingredients unit"),")"]})]}),e.jsxs(f,{value:35,children:["35% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(35",l("range separator"),"56 ",l("ingredients unit"),")"]})]}),e.jsxs(f,{value:48,children:["48% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(49",l("range separator"),"77 ",l("ingredients unit"),")"]})]}),e.jsxs(f,{value:61,children:["61% ",e.jsxs("small",{style:{paddingLeft:"0.3rem"},children:["(87",l("range separator"),"102 ",l("ingredients unit"),")"]})]})]})})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[l("average recipe level"),":"]}),e.jsxs(se,{variant:"standard",value:n.parameter.recipeLevel.toString(),onChange:h,children:[e.jsx(f,{value:1,children:"1"}),e.jsx(f,{value:10,children:"10"}),e.jsx(f,{value:20,children:"20"}),e.jsx(f,{value:30,children:"30"}),e.jsx(f,{value:40,children:"40"}),e.jsx(f,{value:50,children:"50"}),e.jsx(f,{value:55,children:"55"}),e.jsx(f,{value:60,children:"60"}),e.jsx(f,{value:65,children:"65"})]})]})]}),e.jsx(V,{children:e.jsx(F,{onClick:s,children:l("close")})}),e.jsx($o,{open:o,onClose:g})]})});function Kn(t,n,r,i,s,l){if(t.parameter.tapFrequency==="none")return e.jsx("article",{children:"ー"});const o=s.reduce((h,m)=>h+m.count,0),c=s[0].name,d=t.parameter,u=We(d.event,d.customEventBonus)?.dish??1;return e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:[e.jsx(we,{name:s[0].name}),z(o)]}),e.jsxs("div",{children:[e.jsx("span",{className:"box box3",children:he(n.ingHelpCount)}),e.jsx(e.Fragment,{children:" × "}),s.length>1?"(":"",s.map((h,m)=>e.jsxs("span",{children:[m===0?"":" + ",e.jsx(Ie,{count:h.helpCount,name:c})]},m)),s.length>1?")":"",e.jsx(e.Fragment,{children:i>1?` / ${i}`:""})]}),e.jsxs("span",{style:{marginTop:"-0.5rem"},children:[e.jsx(ge,{sx:{color:"#ff944b"},className:"strength"}),Je(s.reduce((h,m)=>h+m.strength,0),l)]}),e.jsxs("div",{style:{marginTop:"-0.5rem"},children:[e.jsx("span",{className:"box box1",children:z(o)}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:ve[c]}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box5",children:he(r)}),e.jsx(e.Fragment,{children:" × "}),e.jsxs("span",{children:[e.jsx(e.Fragment,{children:"(1+"}),e.jsxs("span",{className:"box box4",children:[d.fieldBonus,"%"]}),e.jsx(e.Fragment,{children:")"})]}),u!==1&&e.jsxs(e.Fragment,{children:[e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box6",children:u})]})]})]})}const $o=a.memo(({open:t,onClose:n})=>{const{t:r}=I();return e.jsxs(U,{open:t,onClose:n,children:[e.jsxs(Y,{children:[e.jsx(Ce,{sx:{marginBottom:"16px"},children:e.jsx(ee,{i18nKey:"recipe bonus help",components:{raenonx:e.jsx("a",{href:r("recipe bonus list"),children:"raenonx"})}})}),e.jsx(Ce,{variant:"body2",children:r("recipe strength help")})]}),e.jsx(V,{children:e.jsx(F,{onClick:n,children:r("close")})})]})}),_o=a.memo(({open:t,dispatch:n,onClose:r,strength:i,result:s})=>{const{t:l}=I(),[o,c]=a.useState(!1),[d,u]=a.useState(i.pokemonIv),[h,m]=a.useState(1),g=a.useCallback((T,O)=>{c(!0);const $=new le(Ae.find(Z=>Z.type===T)?.name??"Bulbasaur");$.level=O,u($),m(new Fe($,i.parameter).berryStrengthBonus)},[i.parameter]),p=a.useCallback(()=>{c(!1)},[]),y=a.useCallback((T,O)=>{if(O===null)return;const $=i.pokemonIv.clone();$.skillLevel=parseInt(O,10),n({type:"updateIv",payload:{iv:$}})},[n,i.pokemonIv]),x=i.parameter;if(x.period<=fe||x.tapFrequency==="none")return e.jsxs(U,{open:t,onClose:r,children:[e.jsx(Y,{style:{fontSize:"0.95rem",whiteSpace:"pre-wrap"},children:l("strength skill info.not triggered")}),e.jsx(V,{children:e.jsx(F,{onClick:r,children:l("close")})})]});const k=i.pokemonIv,j=k.pokemon.skill.replace(" (Random)",""),C=l(`strength skill info.${j}`),b=k.pokemon.skill,S=b==="Metronome"||b.startsWith("Skill Copy"),v=Pe(k.pokemon.skill),A=Array.from({length:v},(T,O)=>e.jsx(R,{value:O+1,children:O+1},O+1)),P=i.getSkillLevel(),E=i.bonusEffects,[M,N]=Vo(i,P,l),[D,Q]=Uo(i,P,l);let H=0;const L=Math.ceil(x.period/24);return b==="Berry Burst (Disguise)"&&(H=1-Math.pow(1-.18,s.skillCount/L)),e.jsxs(Pn,{open:t,onClose:r,children:[e.jsxs(pe,{children:[e.jsxs("article",{children:[e.jsx(Ue,{mainSkill:b}),Je(s.skillValue,l)]}),!S&&e.jsxs("footer",{children:[e.jsx("span",{className:"box box1",children:_(s.skillValuePerTrigger)}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:z(s.notFullHelpCount)}),e.jsx(e.Fragment,{children:" × "}),e.jsxs("span",{className:"box box3",children:[z(s.skillRatio*100),"%"]}),b==="Ingredient Draw S (Hyper Cutter)"&&e.jsxs(e.Fragment,{children:[e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box4",children:he(1+wn)})]}),b==="Ingredient Draw S (Super Luck)"&&e.jsxs(e.Fragment,{children:[e.jsx(e.Fragment,{children:" × "}),e.jsxs("span",{className:"box box5",children:[Cn*100,"%"]})]}),b==="Berry Burst (Disguise)"&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx(e.Fragment,{children:" + "}),e.jsx("span",{className:"box box1",children:_(s.skillValuePerTrigger)}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box4",children:2*L}),e.jsx(e.Fragment,{children:" × "}),e.jsxs("span",{className:"box box5",children:[z(H*100),"%"]})]})]})]}),e.jsxs(Y,{children:[e.jsxs("article",{children:[!S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("span",{className:"box box1",children:_(s.skillValuePerTrigger)})}),e.jsx("span",{children:M}),N!==null&&e.jsx("footer",{children:N})]}),e.jsx("div",{children:e.jsx("span",{className:"box box2",children:z(s.notFullHelpCount)})}),e.jsx("span",{children:l("normal help count")}),e.jsx("div",{children:e.jsxs("span",{className:"box box3",children:[z(s.skillRatio*100),"%"]})}),e.jsx("span",{children:l("skill rate")}),b==="Ingredient Draw S (Hyper Cutter)"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("span",{className:"box box4",children:he(1+wn)})}),e.jsx("span",{children:l("additional ingredient rate")})]}),b==="Ingredient Draw S (Super Luck)"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs("span",{className:"box box5",children:[Cn*100,"%"]})}),e.jsx("span",{children:l("ingredient obtain rate")})]}),b==="Berry Burst (Disguise)"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("span",{className:"box box4",children:2*L})}),e.jsx("span",{children:l("great success increasment")}),e.jsx("div",{children:e.jsxs("span",{className:"box box5",children:[z(H*100),"%"]})}),e.jsx("span",{children:l("great success rate")})]})]}),s.skillValue2!==0&&e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"second-skill",style:{marginTop:"1.2rem"},children:[e.jsxs("article",{children:[b==="Ingredient Magnet S (Plus)"?e.jsx(we,{name:k.pokemon.ing1.name}):e.jsx(Ue,{mainSkill:b,second:!0}),Je(s.skillValue2,l)]}),e.jsxs("footer",{children:[e.jsx("span",{className:"box box4",children:_(s.skillValuePerTrigger2)}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box2",children:z(s.notFullHelpCount)}),e.jsx(e.Fragment,{children:" × "}),e.jsxs("span",{className:"box box3",children:[z(s.skillRatio*100),"%"]})]})]}),e.jsxs("article",{children:[e.jsx("div",{children:e.jsx("span",{className:"box box4",children:_(s.skillValuePerTrigger2)})}),e.jsx("span",{children:D}),Q!==null&&e.jsx("footer",{children:Q})]})]}),!S&&e.jsxs("section",{style:{marginTop:"1.8rem"},children:[e.jsxs("label",{children:[l("skill level"),":"]}),e.jsx(mt,{size:"small",children:e.jsx(K,{exclusive:!0,value:k.skillLevel,onChange:y,children:A})})]}),e.jsx(ue,{in:!S&&(E.skillLevel>0||x.maxSkillLevel)&&P!==k.skillLevel,children:e.jsx("div",{className:"skillLevelNotice",children:e.jsx(ee,{i18nKey:x.maxSkillLevel?"max skill level affected":"skill level bonus affected",components:{level:e.jsx("strong",{children:P}),bonus:e.jsx("strong",{children:E.skillLevelReason==="event+ex"?l("event bonus")+l("text separator")+l("expert mode"):E.skillLevelReason==="event"?l("event bonus"):l("expert mode")})}})})}),Jo(i,n,g,l),C!==""&&e.jsx("div",{className:"footnote",children:C})]}),e.jsx(V,{children:e.jsx(F,{onClick:r,children:l("close")})}),e.jsx(wr,{open:o,onClose:p,iv:d,fieldBonus:x.fieldBonus,berryBonus:h})]})});function Vo(t,n,r){const i=t.pokemonIv.pokemon.skill;if(i.startsWith("Charge Energy"))return qo(t,n,r);if(i.startsWith("Charge Strength"))return Zo(t,n,r);if(i.startsWith("Ingredient Magnet S")||i.startsWith("Ingredient Draw S"))return Go(t,n,r);if(i.startsWith("Dream Shard Magnet"))return Ko(t,n,r);if(i==="Energizing Cheer S"){const s=ke(i,n);return it(s,n,r,r("nature effect.Energy recovery"))}if(i.startsWith("Energy for Everyone S")){const s=ke(i,n);return it(s,n,r,r("e4e per pokemon"))}return i.startsWith("Cooking Power-Up S")?an(r,r("pot size power up")):i==="Tasty Chance S"?an(r,r("tasty chance increase")):i==="Extra Helpful S"?an(r,r("help count")):i==="Helper Boost"?an(r,r("help count per pokemon")):i.startsWith("Berry Burst")?Br(t,r,r("berry strength per berry burst")):[null,null]}function Uo(t,n,r){const i=t.pokemonIv.pokemon.skill;if(i==="Ingredient Draw S (Super Luck)")return Xo(n,r,r("expected dream shard"));if(i==="Ingredient Magnet S (Plus)")return an(r,r("additional ingredients"));if(i==="Cooking Power-Up S (Minus)"){const s=Ge(i,n);return it(s,n,r,r("nature effect.Energy recovery"))}return i==="Energy for Everyone S (Lunar Blessing)"?Br(t,r,r("berry strength per berry burst")):[null,null]}function qo(t,n,r){const i=t.pokemonIv,s=t.pokemonIv.pokemon.skill,l=r("value per skill",{value:r("nature effect.Energy recovery")}),o=ke(s,n);return[e.jsxs(e.Fragment,{children:[l,e.jsx("br",{}),e.jsx("span",{className:"box box4",children:o}),e.jsx(e.Fragment,{children:" × "}),e.jsx("span",{className:"box box5",children:i.nature.energyRecoveryFactor}),e.jsxs("ul",{className:"detail",children:[e.jsxs("li",{children:[e.jsx("span",{className:"box box4",children:o}),e.jsxs(e.Fragment,{children:[": ",r("base value",{value:r("nature effect.Energy recovery")})]})]}),e.jsxs("li",{children:[e.jsx("span",{className:"box box5",children:i.nature.energyRecoveryFactor}),e.jsxs(e.Fragment,{children:[": ",r("nature factor")]}),i.nature.energyRecoveryFactor>1&&e.jsxs("small",{children:[" (",e.jsx(Ye,{children:r("nature effect.Energy recovery")}),")"]}),i.nature.energyRecoveryFactor<1&&e.jsxs("small",{children:[" (",e.jsx(kn,{children:r("nature effect.Energy recovery")}),")"]})]})]})]}),null]}function Zo(t,n,r){const i=t.parameter,s=t.pokemonIv.pokemon.skill,l=r("value per skill",{value:r("strength2")});let o=null;if(s==="Charge Strength S (Random)"){const[d,u]=Yn(s,n);o=e.jsxs("small",{children:[" (",r("range average",{min:_(d),max:_(u)}),")"]})}else if(s==="Charge Strength S (Stockpile)"){const[d,u]=Yn(s,n);o=e.jsxs("small",{children:[" (",r("range expected",{min:_(d),max:_(u)}),")"]})}const c=ke(s,n);return[e.jsxs(e.Fragment,{children:[l,e.jsx("br",{}),e.jsx("span",{className:"box box4",children:c}),e.jsx(e.Fragment,{children:" × (1 + "}),e.jsxs("span",{className:"box box5",children:[i.fieldBonus,"%"]}),e.jsx(e.Fragment,{children:")"}),e.jsxs("ul",{className:"detail",children:[e.jsxs("li",{children:[e.jsx("span",{className:"box box4",children:c}),e.jsxs(e.Fragment,{children:[": ",r("base value",{value:r("strength2")})]}),o]}),e.jsxs("li",{children:[e.jsxs("span",{className:"box box5",children:[i.fieldBonus,"%"]}),e.jsxs(e.Fragment,{children:[": ",r("area bonus")]})]})]})]}),null]}function Go(t,n,r){const i=t.parameter,s=ke(t.pokemonIv.pokemon.skill,n),l=We(i.event,i.customEventBonus)?.ingredientMagnet??1,o=r("value per skill",{value:r("ing count")});return l===1?[o,null]:[o,e.jsxs(e.Fragment,{children:[s,e.jsxs("small",{children:[" (",r("base value",{value:r("ing count")}),")"]}),e.jsx(e.Fragment,{children:" × "}),l,e.jsxs("small",{children:[" (",r("event bonus"),")"]})]})]}function Ko(t,n,r){const i=t.parameter,s=t.pokemonIv.pokemon.skill,l=We(i.event,i.customEventBonus)?.dreamShard??1,o=r("value per skill",{value:r("dream shard")});if(s==="Dream Shard Magnet S"){if(l===1)return[o,null];{const c=ke(s,n);return[o,e.jsx(e.Fragment,{children:e.jsxs(e.Fragment,{children:[c,e.jsxs("small",{children:[" (",r("base value",{value:r("dream shard")}),")"]}),e.jsx(e.Fragment,{children:" × "}),l,e.jsxs("small",{children:[" (",r("event bonus"),")"]})]})})]}}else if(s==="Dream Shard Magnet S (Random)"){const[c,d]=Yn(s,n);if(l===1)return[o,e.jsx(e.Fragment,{children:r("range average",{min:c,max:d})})];{const u=ke(s,n);return[o,e.jsxs(e.Fragment,{children:[u,e.jsxs("small",{children:[" (",r("range average",{min:c,max:d}),")"]}),e.jsx(e.Fragment,{children:" × "}),l,e.jsxs("small",{children:[" (",r("event bonus"),")"]})]})]}}return[null,null]}function Xo(t,n,r){const i=n("value per skill",{value:r}),s=Ge("Ingredient Draw S (Super Luck)",t);return[e.jsxs(e.Fragment,{children:[i,e.jsx("br",{}),e.jsxs("ul",{className:"detail",children:[e.jsxs("li",{children:[e.jsx("strong",{children:_(s)}),": ",z(Kt*100),"%"]}),e.jsxs("li",{children:[e.jsx("strong",{children:_(s*5)}),": ",z(Xt*100),"%"]})]})]}),null]}function it(t,n,r,i){const s=r("value per skill",{value:i});return[e.jsxs(e.Fragment,{children:[s,e.jsx("br",{}),e.jsxs("ul",{className:"detail",children:[e.jsxs("li",{children:[e.jsx(Ye,{children:r("nature effect.Energy recovery")}),e.jsx(e.Fragment,{children:": "}),Math.floor(t*new W("Bold").energyRecoveryFactor)]}),e.jsxs("li",{children:[r("nature effect.Energy recovery"),e.jsx(e.Fragment,{children:" ーー: "}),t]}),e.jsxs("li",{children:[e.jsx(kn,{children:r("nature effect.Energy recovery")}),e.jsx(e.Fragment,{children:": "}),Math.floor(t*new W("Hasty").energyRecoveryFactor)]})]})]}),null]}function Br(t,n,r){const i=n("value per skill",{value:r}),s=t.parameter,l=We(s.event,s.customEventBonus)?.berryBurst??1,o=yn(t.pokemonIv,t.parameter,l,t.getSkillLevel());return[e.jsxs(e.Fragment,{children:[i,e.jsx("br",{}),e.jsxs("div",{className:"bbgrid",children:[e.jsxs("label",{children:[n(`pokemons.${t.pokemonIv.pokemon.name}`),":"]}),e.jsx("span",{children:_(o.members[0].total)}),e.jsxs("small",{children:["(",o.members[0].perBerry," × ",o.members[0].count,")"]}),e.jsxs("label",{children:[n("other team member")," 1:"]}),e.jsx("span",{children:_(o.members[1].total)}),e.jsxs("small",{children:["(",o.members[1].perBerry," × ",o.members[1].count,")"]}),e.jsxs("label",{children:[n("other team member")," 2:"]}),e.jsx("span",{children:_(o.members[2].total)}),e.jsxs("small",{children:["(",o.members[2].perBerry," × ",o.members[2].count,")"]}),e.jsxs("label",{children:[n("other team member")," 3:"]}),e.jsx("span",{children:_(o.members[3].total)}),e.jsxs("small",{children:["(",o.members[3].perBerry," × ",o.members[3].count,")"]}),e.jsxs("label",{children:[n("other team member")," 4:"]}),e.jsx("span",{children:_(o.members[4].total)}),e.jsxs("small",{children:["(",o.members[4].perBerry," × ",o.members[4].count,")"]})]})]}),null]}function an(t,n){return[t("value per skill",{value:n}),null]}function Jo(t,n,r,i){const s=t.parameter;if(!(t.pokemonIv.pokemon.skill.startsWith("Berry Burst")||t.pokemonIv.pokemon.skill==="Energy for Everyone S (Lunar Blessing)"))return e.jsx(e.Fragment,{});const o=t.pokemonIv,c=s.berryBurstTeam.auto,d=Yt(o,s),u=d.filter(x=>x.type===o.pokemon.type).length+1,h=c?u:s.berryBurstTeam.species,m=x=>{n({type:"changeParameter",payload:{parameter:{...s,berryBurstTeam:{...s.berryBurstTeam,auto:!x.target.checked}}}})},g=(x,k)=>{const j=[...s.berryBurstTeam.members];j[x].type=k,n({type:"changeParameter",payload:{parameter:{...s,berryBurstTeam:{...s.berryBurstTeam,members:j}}}})},p=(x,k)=>{const j=[...s.berryBurstTeam.members];j[x].level=k,n({type:"changeParameter",payload:{parameter:{...s,berryBurstTeam:{...s.berryBurstTeam,members:j}}}})},y=x=>{n({type:"changeParameter",payload:{parameter:{...s,berryBurstTeam:{...s.berryBurstTeam,species:parseInt(x,10)}}}})};return e.jsxs(e.Fragment,{children:[e.jsxs("section",{style:{marginTop:"0.5rem"},children:[e.jsxs("label",{children:[i("events.advanced"),":"]}),e.jsx(oe,{checked:!c,size:"small",onChange:m})]}),e.jsxs("section",{style:{paddingLeft:"1rem"},children:[e.jsxs("label",{children:[i(`pokemons.${t.pokemonIv.pokemon.name}`),":"]}),e.jsxs("span",{style:{color:"#999"},children:[e.jsx(Ke,{size:"small",disabled:!0,type:t.pokemonIv.pokemon.type,onChange:()=>{}}),e.jsx("span",{style:{padding:"0 0.2rem 0 0.6rem"},children:"Lv."}),t.pokemonIv.level,e.jsx(ne,{onClick:()=>r(o.pokemon.type,o.level)})]})]}),[0,1,2,3].map(x=>e.jsxs("section",{style:{paddingLeft:"1rem"},children:[e.jsxs("label",{children:[i("other team member")," ",x+1,":"]}),e.jsxs("span",{style:{color:c?"#999":"inherit"},children:[e.jsx(Ke,{size:"small",disabled:c,type:d[x].type,onChange:k=>g(x,k)}),e.jsx("span",{style:{padding:"0 0.2rem 0 0.6rem"},children:"Lv."}),c?d[x].level:e.jsx(st,{value:d[x].level,onChange:k=>p(x,k)}),e.jsx(ne,{onClick:()=>r(d[x].type,d[x].level)})]})]},x)),o.pokemon.name==="Cresselia"&&e.jsxs("section",{style:{paddingLeft:"1rem"},children:[e.jsxs("label",{children:[i("different species"),":"]}),e.jsx("span",{style:{color:"#999"},children:c?h:e.jsxs(me,{value:h.toString(),sx:{padding:"0 0.5rem"},onChange:y,children:[e.jsx(f,{dense:!0,value:"1",children:"1"}),u>1&&e.jsx(f,{dense:!0,value:"2",children:"2"}),u>2&&e.jsx(f,{dense:!0,value:"3",children:"3"}),u>3&&e.jsx(f,{dense:!0,value:"4",children:"4"}),u>4&&e.jsx(f,{dense:!0,value:"5",children:"5"})]})})]})]})}const Qo=a.memo(({open:t,onClose:n,parameter:r,strength:i,result:s,dispatch:l})=>{const{t:o}=I(),c=a.useCallback(u=>{l({type:"changeParameter",payload:{parameter:{...r,helperBoostLevel:parseInt(u,10)}}})},[l,r]),d=a.useCallback(u=>{l({type:"changeParameter",payload:{parameter:{...r,helperBoostSpecies:parseInt(u,10)}}})},[l,r]);return t?e.jsxs(Yo,{open:t,onClose:n,children:[e.jsxs("article",{children:[e.jsxs("section",{className:"first",children:[e.jsxs("h2",{children:[o("help yield"),":"]}),e.jsxs("span",{children:[z(er(r,i,s)),o("berry unit"),"/",Math.abs(r.period),o("help unit")]})]}),e.jsx("footer",{children:o("help yield description",{n:Math.abs(r.period)})}),e.jsxs("section",{children:[e.jsxs("h2",{children:[o("helps for cap"),":"]}),e.jsxs("span",{children:[z(nr(i,s)),o("help unit")]})]}),e.jsx("footer",{children:o("helps for cap description")}),e.jsxs("section",{children:[e.jsxs("h2",{children:[o("required helper boost"),":"]}),e.jsxs("span",{children:[z(tr(r,i,s)),o("times unit")]})]}),e.jsx("footer",{children:o("required helper boost description")})]}),e.jsxs("footer",{children:[e.jsxs("h3",{children:[e.jsx(Ue,{mainSkill:"Helper Boost"}),o("skills.Helper Boost")]}),e.jsxs("section",{className:"first",children:[e.jsxs("label",{children:[o("skill level"),":"]}),e.jsxs(me,{value:r.helperBoostLevel,onChange:c,children:[e.jsx(f,{dense:!0,value:1,children:"1"}),e.jsx(f,{dense:!0,value:2,children:"2"}),e.jsx(f,{dense:!0,value:3,children:"3"}),e.jsx(f,{dense:!0,value:4,children:"4"}),e.jsx(f,{dense:!0,value:5,children:"5"}),e.jsx(f,{dense:!0,value:6,children:"6"})]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[o("different species"),":"]}),e.jsxs(me,{value:r.helperBoostSpecies,onChange:d,children:[e.jsx(f,{dense:!0,value:1,children:"1"}),e.jsx(f,{dense:!0,value:2,children:"2"}),e.jsx(f,{dense:!0,value:3,children:"3"}),e.jsx(f,{dense:!0,value:4,children:"4"}),e.jsx(f,{dense:!0,value:5,children:"5"})]})]}),e.jsxs("section",{children:[e.jsxs("label",{children:[o("helps per skill"),":"]}),e.jsxs("span",{children:[ke("Helper Boost",r.helperBoostLevel,r.helperBoostSpecies),o("times unit")]})]})]}),e.jsx(V,{disableSpacing:!0,children:e.jsx(F,{onClick:n,children:o("close")})})]}):e.jsx(e.Fragment,{})}),Yo=B(U)({"& .MuiPaper-root":{"& > article":{padding:"0.8rem",maxWidth:"18rem","& > section":{display:"flex",flex:"0 auto",marginTop:"0.8rem","&.first":{marginTop:"0.2rem"},"& > h2":{padding:"0 0 .2rem 0",margin:0,fontSize:"0.9rem",marginRight:"auto"},"& > span":{fontSize:"0.8rem"}},"& > footer":{fontSize:"0.7rem",color:"#666",padding:"0.1rem 0 0 0.7rem"}},"& > footer":{margin:"0.2rem 0.7rem 0 0.7rem",fontSize:"0.8rem",background:"#eee",borderRadius:"0.9rem",padding:"0.5rem 0.7rem","& > h3":{display:"flex",alignItems:"center",fontSize:"0.9rem",fontWeight:"bold",color:"#66cc66",margin:0},"& > section":{display:"flex",flex:"0 auto",marginTop:"0.4rem","& > label":{padding:"0 0 .2rem 0",margin:0,marginRight:"auto"},"& > .MuiButtonBase-root":{fontSize:"0.8rem",textAlign:"center",padding:"0 0.5rem"}}}}}),ea=a.memo(({param:t,result:n,open:r,dispatch:i,onClose:s})=>{const{t:l}=I(),o=a.useCallback(d=>{const u=[...t.totalFlags];d<u.length&&(u[d]=!u[d]),i({type:"changeParameter",payload:{parameter:{...t,totalFlags:u}}})},[i,t]),c=a.useCallback(()=>{i({type:"changeParameter",payload:{parameter:{...t,addHelpingBonusEffect:!t.addHelpingBonusEffect}}})},[i,t]);return e.jsxs(na,{open:r,onClose:s,children:[e.jsxs("article",{children:[e.jsxs("h1",{children:[e.jsx(ge,{sx:{color:"#ff944b"}}),e.jsx("span",{style:{transform:"scale(1, 0.9)"},children:_(Math.round(n.totalStrength))})]}),e.jsxs("div",{className:"grid",children:[e.jsx(Re,{disabled:!0,specialty:"Berries"}),e.jsx("div",{className:t.totalFlags[0]?"":"disabled",children:_(Math.round(n.berryTotalStrength))}),e.jsx(re,{size:"small",onClick:()=>o(0),className:t.totalFlags[0]?"":"disabled",children:e.jsx(On,{fontSize:"small"})}),e.jsx(Re,{disabled:!0,specialty:"Ingredients"}),e.jsx("div",{className:t.totalFlags[1]?"":"disabled",children:_(Math.round(n.ingStrength))}),e.jsx(re,{size:"small",onClick:()=>o(1),className:t.totalFlags[1]?"":"disabled",children:e.jsx(On,{fontSize:"small"})}),e.jsx(Re,{disabled:!0,specialty:"Skills"}),e.jsx("div",{className:t.totalFlags[2]?"":"disabled",children:_(Math.round(n.skillStrength+n.skillStrength2))}),e.jsx(re,{size:"small",onClick:()=>o(2),className:t.totalFlags[2]?"":"disabled",children:e.jsx(On,{fontSize:"small"})})]}),e.jsx(rt,{show:n.helpingBonusStrength>0,children:e.jsxs("footer",{className:"helpingBonus",children:[e.jsxs("label",{children:[l("helping bonus addition"),": "]}),e.jsx("strong",{children:_(n.helpingBonusStrength)})]})}),e.jsx(ot,{control:e.jsx(Ut,{size:"small",checked:t.addHelpingBonusEffect,onChange:c}),label:l("helping bonus addition label")}),e.jsx(rt,{show:t.addHelpingBonusEffect,children:e.jsx("footer",{className:"helpingBonusNote",children:l("helping bonus addition note")})}),e.jsx("p",{children:l("strength detail1")}),e.jsx("p",{children:l("strength detail2")}),e.jsx("ul",{style:{paddingLeft:"1rem"},children:e.jsx("li",{children:l("strength restriction2")})})]}),e.jsx(V,{children:e.jsx(F,{onClick:s,children:l("close")})})]})}),na=B(U)({"& article":{margin:"0.8rem 0.8rem 0 0.8rem","& > h1":{fontSize:"1.4rem",margin:0,display:"flex",alignItems:"center"},"& > div.grid":{margin:"0.2rem 0 0.5rem 1rem",display:"grid",gridTemplateColumns:"min-content min-content min-content",gridGap:"0.2rem 0rem",alignItems:"center","& > div":{textAlign:"right",fontWeight:"bold",paddingLeft:"0.5rem","&.disabled":{color:"#ccc",textDecoration:"line-through #ff0000"}},"& > button":{"& > svg":{fill:"#ccc"},"&.disabled > svg":{fill:"#ff0000"}}},"& footer.helpingBonus":{padding:"0 0 0.5rem 1rem",fontSize:"0.9rem"},"& > label.MuiFormControlLabel-root":{alignItems:"start",marginRight:0,"& > span.MuiFormControlLabel-label":{paddingTop:"0.5rem",fontSize:"0.9rem"}},"& footer.helpingBonusNote":{padding:"0 0 0.5rem 1.8rem",fontSize:"0.8rem",color:"#999"},"& > p":{margin:"0.5rem 0",fontSize:"0.9rem"},"& > ul":{margin:0,fontSize:"0.9rem"}}}),ta=B("div")({display:"grid",gridTemplateColumns:"1fr 1fr 1fr",margin:"0 -0.5rem","& > h2":{gridColumn:"1 / -1",display:"flex",alignItems:"center",margin:"0 0.2rem",fontSize:"1.5rem","& > span.strength":{transform:"scale(1, 0.9)"},"& > span.evolved":{paddingLeft:"0.8rem",fontSize:"0.8rem"}},"& > section":{borderLeft:"2px dotted #ccc",position:"relative",padding:"0 0 2rem","&:first-of-type":{borderLeft:0},"& > h3":{width:"calc(100% - 1rem)",fontSize:".8rem",fontWeight:400,textAlign:"center",color:"white",borderRadius:".8rem",verticalAlign:"20%",margin:".3rem 0 .1rem 0.5rem","& > button":{position:"absolute",top:"0.45rem",right:"0.7rem","& > svg":{color:"#f0f0f0",width:"16px",height:"16px"}}},"& > article":{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",fontWeight:600,textAlign:"center",verticalAlign:"middle",fontSize:"1.1rem",margin:"auto 0",height:"3rem","& span":{verticalAlign:"middle"},"& svg":{verticalAlign:"middle"},"& span.unit":{display:"inline-block",paddingLeft:".1rem",fontSize:"0.6rem",verticalAlign:"bottom"},"&.ingc":{display:"grid",gridTemplateColumns:"auto auto","& > span.ing":{textAlign:"right","& > svg":{width:"0.6em",height:"0.6em",paddingRight:"0.1rem"},"& > span":{fontSize:"0.8em"}},"& > span.strength":{paddingLeft:"0.3rem",textAlign:"right","& > svg":{width:"0.6em",height:"0.6em"},"& > span":{fontSize:"0.6em"}}},"&.ing2":{lineHeight:"50%"},"&.ing3":{"& > span.ing > svg":{width:"0.4em",height:"0.4em"},fontSize:"0.8em",lineHeight:"50%"},"&.skill2":{lineHeight:"1.6",fontSize:"0.8rem","& > div > svg":{width:"16px",height:"16px"}}},"& > footer":{fontSize:"0.7rem",bottom:0,color:"#666",position:"absolute",right:"1rem","& > div":{textAlign:"right"}}},"& > footer":{gridColumn:"1 / -1",fontSize:"0.7rem",color:"#666",padding:".6rem .8rem 0","& > span":{paddingRight:"0.8rem","& > small":{fontSize:"0.6rem",padding:"0 0.1rem"}},"& > span:last-of-type":{paddingRight:0}}}),ra=a.memo(({pokemonIv:t,settings:n,energyDialogOpen:r,dispatch:i})=>{const{t:s}=I(),[l,o]=a.useState(!1),[c,d]=a.useState(0),[u,h]=a.useState(!1),[m,g]=a.useState(!1),[p,y]=a.useState(!1),[x,k]=a.useState(!1),j=new Fe(t,n,c),C=j.calculate();let b=[];t.pokemon.name!==j.pokemonIv.pokemon.name&&(b=t.decendants),t=j.pokemonIv;const S=a.useCallback(()=>{h(!0)},[]),v=a.useCallback(()=>{h(!1)},[]),A=a.useCallback(()=>{g(!0)},[]),P=a.useCallback(()=>{g(!1)},[]),E=a.useCallback(()=>{y(!0)},[]),M=a.useCallback(()=>{y(!1)},[]),N=a.useCallback(()=>{i({type:"openEnergyDialog"})},[i]),D=a.useCallback(()=>{k(!0)},[]),Q=a.useCallback(()=>{k(!1)},[]),H=a.useCallback(()=>{i({type:"closeEnergyDialog"})},[i]),L=_(Math.round(C.berryTotalStrength)),T=sa(C,n,s),O=ia(t,C,n,s),$=a.useCallback(()=>{o(!0)},[o]),Z=a.useCallback(()=>{o(!1)},[o]),ce=a.useCallback(G=>{d(parseInt(G.target.value,10))},[]);return e.jsxs(ta,{children:[e.jsxs("h2",{children:[e.jsx(ge,{sx:{color:"#ff944b"}}),e.jsx("span",{className:"strength",children:_(Math.round(C.totalStrength))}),e.jsx(ne,{onClick:$}),e.jsx(ea,{param:n,result:C,open:l,dispatch:i,onClose:Z}),b.length===1&&e.jsx("span",{className:"evolved",children:s("strength of x",{x:s(`pokemons.${t.pokemon.name}`)})}),b.length>1&&e.jsx("span",{className:"evolved",children:e.jsx(se,{variant:"standard",value:t.pokemon.id.toString(),onChange:ce,children:b.map(G=>e.jsx(f,{value:G.id,children:s("strength of x",{x:s(`pokemons.${G.name}`)})},G.id))})})]}),e.jsxs("section",{children:[e.jsxs("h3",{style:{background:"#24d76a"},children:[s("berry"),e.jsx(ne,{onClick:S})]}),e.jsx("article",{children:e.jsxs("div",{children:[e.jsx(ge,{sx:{color:"#ff944b"}}),e.jsx("span",{children:L})]})}),e.jsxs("footer",{children:[e.jsxs("div",{children:[z(C.berryRatio*100),"%"]}),e.jsxs("div",{children:[z(C.berryHelpCount),s("times unit")]})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{style:{background:"#fab855"},children:[s("ingredient"),e.jsx(ne,{onClick:A})]}),T,e.jsxs("footer",{children:[e.jsxs("div",{children:[z(C.ingRatio*100),"%"]}),e.jsxs("div",{children:[z(C.ingHelpCount),s("times unit")]})]})]}),e.jsxs("section",{children:[e.jsxs("h3",{style:{background:"#44a2fd"},children:[s("skill"),e.jsx(ne,{onClick:E})]}),O,e.jsxs("footer",{children:[e.jsxs("div",{children:[z(C.skillRatio*100),"%"]}),e.jsxs("div",{children:[he(C.skillCount),s("times unit")]})]})]}),n.period>fe&&e.jsxs("footer",{children:[C.energy.canBeFullInventory&&n.period>=24?e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:[s("full inventory while sleeping (short)"),": ",C.energy.timeToFullInventory<0?s("none"):new xn(C.energy.timeToFullInventory).toString(s)]}),e.jsxs("span",{children:[s("skill trigger after wake up (short)"),e.jsx(e.Fragment,{children:": "}),t.pokemon.specialty!=="Skills"&&t.pokemon.specialty!=="All"?z(C.energy.skillProbabilityAfterWakeup.once*100)+"%":e.jsxs(e.Fragment,{children:["❶",z(C.energy.skillProbabilityAfterWakeup.once*100),"%",e.jsx(e.Fragment,{children:" "}),"❷",z(C.energy.skillProbabilityAfterWakeup.twice*100),"%"]})]})]}):e.jsx(e.Fragment,{children:e.jsxs("span",{children:[s("help efficiency"),": ",C.energy.averageEfficiency.total,n.period>=24&&e.jsxs(e.Fragment,{children:[" (",s("awake"),": ",C.energy.averageEfficiency.awake,", ",s("asleep"),": ",C.energy.averageEfficiency.asleep,")"]})]})}),e.jsx(ne,{onClick:N})]}),n.period<0&&e.jsxs("footer",{children:[e.jsxs("span",{children:[s("help yield"),": ",z(er(n,j,C)),s("berry unit"),"/",Math.abs(n.period),s("help unit")]}),e.jsxs("span",{children:[s("required helper boost"),": ",z(tr(n,j,C))]}),e.jsx(ne,{onClick:D})]}),e.jsx(Fo,{open:u,onClose:v,strength:j,result:C}),e.jsx(Oo,{open:m,onClose:P,dispatch:i,strength:j,result:C}),e.jsx(_o,{open:p,onClose:M,dispatch:i,strength:j,result:C}),e.jsx(Ao,{open:r,onClose:H,iv:t,energy:C.energy,parameter:n,dispatch:i}),e.jsx(Qo,{open:x,onClose:Q,parameter:n,strength:j,result:C,dispatch:i})]})});function sa(t,n,r){if(n.period!==fe&&n.tapFrequency==="none")return e.jsx("article",{children:"ー"});const i=e.jsx(e.Fragment,{children:t.ingredients.map(s=>e.jsxs(a.Fragment,{children:[e.jsxs("span",{className:"ing",children:[e.jsx(we,{name:s.name}),e.jsx("span",{children:z(s.count)})]}),e.jsxs("span",{className:"strength",children:[e.jsx(ge,{sx:{color:"#ff944b"}}),e.jsx("span",{children:Je(Math.floor(s.strength),r)})]})]},s.name))});return e.jsx("article",{className:`ingc ing${t.ingredients.length}`,children:i})}function ia(t,n,r,i){if(r.period<=fe||r.tapFrequency==="none")return e.jsx("article",{children:"ー"});const s=t.pokemon.skill,l=Je(n.skillValue,i),o=n.skillValue2===0?"":Je(n.skillValue2,i),c=e.jsxs(e.Fragment,{children:[e.jsx(Ue,{mainSkill:s}),e.jsx("span",{style:{paddingLeft:"0.2rem"},children:l})]});let d=e.jsx(e.Fragment,{});return o!==""&&(d=e.jsxs(e.Fragment,{children:[e.jsx("br",{}),s==="Ingredient Magnet S (Plus)"?e.jsx(we,{name:t.pokemon.ing1.name}):e.jsx(Ue,{mainSkill:s,second:!0}),e.jsx("span",{style:{paddingLeft:"0.2rem"},children:o})]})),e.jsx("article",{className:o!==""?"skill2":"",children:e.jsxs("div",{children:[c,d]})})}const Pn=B(U)({"& > div.MuiDialog-container > div.MuiPaper-root":{width:"100%",margin:"20px",maxHeight:"calc(100% - 90px)"},"& .MuiPaper-root":{"& > h2.MuiDialogTitle-root, & > div.MuiDialogContent-root > header.second-skill":{margin:"0.5rem 0.5rem 0 0.5rem",padding:0,display:"grid",gridTemplateColumns:"auto 1fr",gridGap:".4rem",alignItems:"start","& > article":{fontSize:"1.4rem",margin:0,display:"flex",alignItems:"center"},"& > footer":{display:"inline-block",fontWeight:"normal",fontSize:"0.9rem",margin:"0.3rem 0 0 0.5rem",lineHeight:"1.8"}},"& > ul":{margin:0,marginTop:"-0.2rem",paddingLeft:"1.5rem",gridColumn:"span 2","& > li > footer":{fontSize:"0.8rem"}},"& > .MuiDialogContent-root":{padding:0,"& > div.inggrid":{margin:"0 0 1rem 1.5rem",display:"grid",gridTemplateColumns:"auto 1fr",gridGap:"0.7rem 0.5rem",alignItems:"start","& > span":{display:"flex",alignItems:"center",fontWeight:"bold","& > svg":{width:"15px",height:"15px",paddingRight:"4px"},"& > svg.strength":{width:"18px",height:"18px",paddingRight:0}},"& > div":{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"0.1rem","& > span.box":{padding:"0.1rem 0.2rem"},"& > span > span.MuiBadge-root":{marginRight:0,"& > svg":{paddingTop:"3px",width:"15px",height:"15px"},"& > .MuiBadge-badge":{top:"18px",right:"10px"}}},"&.ings1, &.ings2":{fontSize:"0.9rem","& > div":{fontSize:"0.8rem"}},"&.ings3":{fontSize:"0.8rem","& > div":{fontSize:"0.7rem"}}},"& > article":{margin:"0.5rem .5rem 0 .5rem",display:"grid",gridGap:".5rem",rowGap:".8rem",gridTemplateColumns:"max-content 1fr",fontSize:"0.9rem","& > div":{textAlign:"right"},"& > span > ul.detail":{margin:"0.2rem 0 0 1rem",padding:0,fontSize:"0.8rem","& span.box":{padding:"0 0.3rem"}},"& > span > div.bbgrid":{display:"grid",fontSize:"0.8rem",gridTemplateColumns:"auto auto 1fr",alignItems:"center",gap:"0 0.1rem",background:"#f0f0f0",borderRadius:"0.3rem",padding:"0.1rem 0.5rem","& > label":{fontWeight:"bold",color:"#666"},"& > span":{paddingLeft:"0.8rem",textAlign:"right"},"& > small":{paddingLeft:"0.4rem"}},"& > ul":{margin:0,marginTop:"-0.2rem",paddingLeft:"1.5rem",gridColumn:"span 2","& > li > footer":{fontSize:"0.8rem"}},"& > footer":{margin:"-0.3rem 0 0 1.5rem",fontSize:"0.8rem",gridColumn:"span 2"},"& > span > footer":{margin:"0.2rem 0 0 -1.5rem",fontSize:"0.8rem"}},"& > div.footnote":{margin:"1rem 1rem 0 1rem",fontSize:"0.7rem",whiteSpace:"pre-wrap",color:"#999"},"& > section":{margin:"0.2rem 0.5rem",fontSize:".9rem",display:"flex",flex:"0 auto","&.mt":{marginTop:"1rem"},"& > label":{marginRight:"auto",marginTop:0,textWrap:"nowrap"},"& > span":{display:"flex",alignItems:"center"},"& > div > div > button.MuiToggleButton-root":{margin:0,padding:"0 0.5rem"}},"& div.skillLevelNotice":{fontSize:"0.7rem",color:"#999",margin:"0.2rem 0.5rem 0 2rem"}}},"& span.box":{borderRadius:".3rem",padding:".1rem .4rem",margin:"0",color:"white",textAlign:"center"},"& span.box1":{background:"#1ebee1"},"& span.box2":{background:"#27c18e"},"& span.box3":{background:"#e7c300"},"& span.box4":{background:"#ce5052"},"& span.box5":{background:"#ce3fa3"},"& span.box6":{background:"#ff8822"}}),la=a.memo(({state:t,dispatch:n})=>{const{t:r}=I(),[i,s]=a.useState(!1),[l,o]=a.useState(!1),c=t.parameter,d=a.useCallback(()=>{n({type:"changeLowerTab",payload:{index:2}})},[n]),u=a.useCallback(()=>{s(!0)},[]),h=a.useCallback(()=>{s(!1)},[]),m=a.useCallback(A=>{n({type:"changeParameter",payload:{parameter:A}})},[n]),g=a.useCallback(()=>{n({type:"changeParameter",payload:{parameter:{...c,maxSkillLevel:!1}}})},[n,c]),p=a.useCallback(()=>{n({type:"changeParameter",payload:{parameter:{...c,isGoodCampTicketSet:!c.isGoodCampTicketSet}}})},[n,c]),y=a.useCallback(A=>{A==="advanced"&&(A="custom"),n({type:"changeParameter",payload:{parameter:{...c,event:A}}})},[n,c]),x=a.useCallback(()=>{o(!0)},[]),k=a.useCallback(()=>{o(!1)},[]);let j;c.fieldIndex===hn?j=r("favorite berry")+": "+r("all"):c.fieldIndex===mn?j=r("favorite berry")+": "+r("none"):c.fieldIndex===0?j=c.favoriteType.map(A=>r(`types.${A}`)).join(r("text separator")):Xe(c.fieldIndex)?j=e.jsxs(e.Fragment,{children:[r(`types.${c.favoriteType[0]}`),e.jsxs("small",{children:[" (",r("main"),")"]}),r("text separator"),r(`types.${c.favoriteType[1]}`),r("text separator"),r(`types.${c.favoriteType[2]}`)]}):j=r(`area.${c.fieldIndex}`);const C=e.jsxs("small",{children:[" (",c.fieldBonus,"%)"]}),b=Vt(new Date).map(A=>A.name).reverse();c.event!=="none"&&c.event!=="custom"&&b.indexOf(c.event)<0&&b.unshift(c.event);const S=b.length>0,v=["none",...b,"custom"].map(A=>{const P=A==="none"?r("no event"):A==="custom"?r("event")+": "+r("events.advanced"):r(`events.${A}`);return e.jsx(f,{value:A,dense:!0,style:{textTransform:"none"},children:P},A)});return e.jsxs(oa,{children:[e.jsx("span",{className:"edit",children:e.jsx(F,{onClick:d,size:"small",children:r("details")})}),e.jsx("span",{children:e.jsxs($e,{onClick:u,children:[j,C]})}),e.jsx("span",{children:e.jsx(yr,{dispatch:n,value:c})}),c.level!==0&&e.jsx("span",{className:"level",children:e.jsx(bt,{value:c,dispatch:n})}),c.maxSkillLevel&&e.jsx("span",{children:e.jsx($e,{onClick:g,children:e.jsx("strong",{children:r("calc with max skill level (short)")})})}),c.period!==fe&&e.jsxs("span",{children:[e.jsxs(e.Fragment,{children:[r("good camp ticket (short)"),": "]}),e.jsx($e,{onClick:p,style:{width:"2rem"},children:r(c.isGoodCampTicketSet?"on":"off")})]}),S&&e.jsxs("span",{children:[e.jsx(me,{value:c.event,onChange:y,children:v}),c.event==="custom"&&e.jsx(re,{size:"small",style:{padding:"2px"},onClick:x,children:e.jsx(Gt,{})})]}),e.jsx(mr,{open:i,onClose:h,value:t.parameter,onChange:m}),e.jsx(br,{open:l,onClose:k,value:t.parameter,onChange:m})]})}),oa=B("div")({marginTop:"0.2rem",padding:".4rem .6rem",border:"1px solid #ccc",borderRadius:"1rem",background:"#f3f5f0",fontSize:"0.8rem",lineHeight:1.8,"& > span":{float:"left",textWrap:"none",paddingRight:"1rem","&:last-child":{paddingRight:0},"& > button.MuiButtonBase-root":{"&::before":{borderBottomColor:"rgba(0, 0, 0, 0.25)"},marginTop:"-2px",fontSize:"0.8rem",lineHeight:1.5,"& > svg":{fontSize:"1rem"}},"&.level > button":{fontWeight:"bold"},"&.edit":{float:"right",padding:0,"& > button":{textTransform:"none",minWidth:0,textWrap:"nowrap"}}},"&::after":{content:"''",display:"table",clear:"both"}}),aa=a.memo(({state:t,dispatch:n})=>{const r=t.pokemonIv,i=t.parameter,s=t.lowerTabIndex;return e.jsxs("div",{children:[e.jsx(ra,{pokemonIv:r,settings:i,energyDialogOpen:t.energyDialogOpen,dispatch:n}),e.jsx(ue,{in:s!==2,children:e.jsx(la,{state:t,dispatch:n})})]})});class ca{pokemonName;pokemon;iv;rp;constructor(n){this.pokemonName=n.pokemonName,this.pokemon=n.pokemon,this.iv=n,this.rp=new ie(n)}calculate(){if(this.pokemon.frequency===0)return{berryScore:0,berryMax:0,berryCur:0,berryRatio:0,ingScore:0,ingMax:0,ingCur:0,ingRatio:0,skillScore:0,skillMax:0,skillCur:0,skillRatio:0};const n=new ie(this.iv);n.subSkills=new Le([new q("Berry Finding S"),new q("Helping Bonus"),new q("Helping Speed M"),new q("Helping Speed S"),null]),n.nature=new W("Adamant");const r=new ie(this.iv);r.subSkills=new Le([new q("Ingredient Finder M"),new q("Ingredient Finder S"),new q("Helping Speed M"),new q("Helping Speed S"),new q("Helping Bonus")]),r.nature=new W("Quiet");const i=new ie(this.iv);i.subSkills=new Le([new q("Skill Trigger M"),new q("Skill Trigger S"),new q("Helping Speed M"),new q("Helping Speed S"),new q("Helping Bonus")]),i.nature=new W("Sassy");const s=b=>{let S=3600/b.frequencyWithHelpingBonus(0)*b.berryRatio*b.berryCount;return b.hasHelpingBonusInActiveSubSkills&&(S+=S/b.berryCount*6*.0526),S},l=s(n),o=s(this.rp),c=o/l*100,d=this.rp.berryRatio,u=b=>3600/b.frequencyWithHelpingBonus(0)*b.ingredientRatio,h=u(r),m=u(this.rp),g=m/h*100,p=this.rp.ingredientRatio,y=b=>3600/b.frequencyWithHelpingBonus(0)*b.skillRatio,x=y(i),k=y(this.rp),j=k/x*100,C=this.rp.skillRatio;return{berryScore:c,berryMax:l,berryCur:o,berryRatio:d,ingScore:g,ingMax:h,ingCur:m,ingRatio:p,skillScore:j,skillMax:x,skillCur:k,skillRatio:C}}}const da=a.memo(({pokemonIv:t,width:n})=>{const{t:r}=I(),[i,s]=a.useState(!1),l=a.useCallback(()=>{s(!0)},[s]),o=a.useCallback(()=>{s(!1)},[s]),d=new ca(t).calculate(),u=400,h=m=>(m=Math.round(m*10)/10,r("num",{n:Math.floor(m)})+"."+m*10%10);return e.jsxs("div",{children:[e.jsxs("p",{style:{margin:"0"},children:[r("rate subskill and nature"),e.jsx(ne,{onClick:l})]}),e.jsx(vr,{berryValue:e.jsxs(e.Fragment,{children:[h(d.berryScore),e.jsx("span",{children:"pt"})]}),berryProb:h(d.berryRatio*100),berrySubValue:"",ingredientValue:e.jsxs(e.Fragment,{children:[h(d.ingScore),e.jsx("span",{children:"pt"})]}),ingredientProb:h(d.ingRatio*100),ingredientSubValue:"",skillValue:e.jsxs(e.Fragment,{children:[h(d.skillScore),e.jsx("span",{children:"pt"})]}),skillProb:h(d.skillRatio*100),skillSubValue:""}),e.jsx(Sr,{width:n,height:u,specialty:t.pokemon.specialty,berry:d.berryScore/100,ingredient:d.ingScore/100,skill:d.skillScore/100}),e.jsx(ua,{open:i,onClose:o})]})}),ua=a.memo(({open:t,onClose:n})=>{const{t:r}=I();return e.jsxs(U,{open:t,onClose:n,children:[e.jsx(pe,{children:r("rating")}),e.jsxs(Y,{dividers:!0,style:{fontSize:"0.95rem"},children:[e.jsx("p",{style:{marginTop:0},children:r("rating detail1")}),e.jsx("p",{children:r("rating detail2")})]}),e.jsx(V,{children:e.jsx(F,{onClick:n,children:r("close")})})]})}),ha=a.forwardRef(function(n,r){return e.jsx(js,{direction:"up",ref:r,...n})}),ma=a.memo(({open:t,boxItem:n,isEdit:r,onClose:i,onChange:s})=>(r||(n=new Me(new le("Venusaur"),void 0,-1)),n===null?e.jsx(e.Fragment,{}):e.jsx(pa,{open:t,onClose:i,fullScreen:!0,slots:{transition:ha},children:e.jsx(ga,{originalBoxItem:n,isEdit:r,onClose:i,onChange:s})}))),ga=a.memo(({originalBoxItem:t,isEdit:n,onChange:r,onClose:i})=>{const{t:s}=I(),[l,o]=a.useState(t),[c,d]=a.useState(t.nickname),[u,h]=a.useState(new ie(l.iv).calculate().rp),[m,g]=a.useState(!1),p=s(`pokemons.${l.iv.pokemonName}`),y=a.useCallback(v=>{o(new Me(v,l.nickname,l.id)),h(new ie(v).calculate().rp),c===p&&d("")},[o,l,h,p,c]),x=a.useCallback(v=>{d(v.target.value)},[d]),k=a.useCallback(()=>{g(!0),c===""&&d(p)},[g,d,c,p]),j=a.useCallback(()=>{g(!1),c===p&&d("")},[d,g,c,p]),C=a.useCallback(()=>{n&&r(new Me(l.iv,c,l.id)),i()},[n,r,i,l,c]),b=a.useCallback(()=>{n||r(new Me(l.iv,c,l.id)),i()},[n,r,i,l,c]);let S=c;return!m&&c===""&&(S=s(`pokemons.${l.iv.pokemonName}`)),e.jsxs(e.Fragment,{children:[e.jsxs("article",{children:[e.jsx(Cr,{rp:u,iv:l.iv}),e.jsx("div",{className:"icon",children:e.jsx(zn,{idForm:l.iv.idForm,size:80})}),e.jsx("div",{className:"nickname",children:e.jsx(ae,{variant:"standard",size:"small",value:S,onChange:x,onFocus:k,onBlur:j})}),e.jsx(jr,{pokemonIv:l.iv,fixMode:n,onChange:y})]}),e.jsxs(V,{children:[e.jsx(F,{onClick:C,children:s("close")}),!n&&e.jsx(F,{onClick:b,children:s("add")})]})]})}),pa=B(U)({"& div.MuiDialog-paper":{"& > article":{padding:".5rem .5rem 4rem .5rem","& > div.icon":{margin:".2rem auto",width:"82px"},"& > div.nickname":{margin:"0 auto 1.2rem auto",width:"10rem","& input":{fontSize:"1.2rem",fontWeight:"bold",textAlign:"center"}}},"& > div.MuiDialogActions-root":{position:"fixed",padding:"0 0.5rem 1rem 0.5rem",margin:0,background:"rgba(255, 255, 255, 0.8)",width:"calc(100% - 1rem)",bottom:0}}}),xa=a.memo(({box:t,open:n,onClose:r})=>{const[i,s]=a.useState(!1),{t:l}=I(),o=t.items.map(u=>u.serialize()).join(`
`),c=a.useCallback(()=>{kt(o).then(()=>{s(!0)}).catch(()=>{})},[s,o]),d=a.useCallback(()=>{s(!1)},[s]);return e.jsxs(U,{open:n,onClose:r,children:[e.jsx(pe,{children:l("export")}),e.jsxs(Y,{children:[e.jsx("p",{style:{fontSize:"0.9rem",margin:0},children:l("export message1")}),e.jsx("p",{style:{fontSize:"0.9rem",margin:"0.5rem 0 1rem 0"},children:l("export message2")}),e.jsx(ae,{label:l("box data"),multiline:!0,fullWidth:!0,rows:6,defaultValue:o})]}),e.jsxs(V,{children:[e.jsx(F,{onClick:c,children:l("copy to clipboard")}),e.jsx(F,{onClick:r,children:l("close")})]}),e.jsx(ze,{open:i,autoHideDuration:2e3,onClose:d,message:l("copied to clipboard")})]})}),fa=a.memo(({box:t,open:n,onClose:r})=>{const[i,s]=a.useState(""),[l,o]=a.useState(""),{t:c}=I(),d=a.useCallback(p=>{s(p.target.value)},[s]),u=a.useCallback(()=>{s(""),r()},[s,r]),h=a.useCallback(()=>{const p=i.split(/\n/g);let y=0;for(const x of p){if(!t.canAdd)break;const k=t.deserializeItem(x);k!==null&&(t.add(k.iv,k.nickname),y++)}y===0?o(c("failed to import")):(t.save(),o(c("imported N pokemon",{n:y})),u())},[t,o,c,u,i]),m=a.useCallback(()=>{o("")},[o]),g=l!=="";return e.jsxs(e.Fragment,{children:[e.jsxs(U,{open:n,onClose:u,children:[e.jsx(pe,{children:c("import")}),e.jsxs(Y,{children:[e.jsx("p",{style:{fontSize:"0.9rem",margin:"0 0 1rem 0"},children:c("import message")}),e.jsx(ae,{label:c("box data"),multiline:!0,fullWidth:!0,rows:6,value:i,onChange:d})]}),e.jsxs(V,{children:[e.jsx(F,{onClick:h,children:c("import")}),e.jsx(F,{onClick:u,children:c("close")})]})]}),e.jsx(ze,{open:g,autoHideDuration:2e3,onClose:m,message:l})]})}),ja=a.memo(({box:t,open:n,onClose:r})=>{const[i,s]=a.useState(!1),{t:l}=I(),o=a.useCallback(()=>{t.removeAll(),s(!0),r()},[t,r]),c=a.useCallback(()=>{s(!1)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(U,{open:n,onClose:r,children:[e.jsx(pe,{children:l("delete all")}),e.jsx(Y,{children:e.jsx("p",{style:{fontSize:"0.9rem",margin:0},children:l("delete all message")})}),e.jsxs(V,{children:[e.jsx(F,{onClick:o,color:"error",children:l("delete")}),e.jsx(F,{onClick:r,children:l("cancel")})]})]}),e.jsx(ze,{open:i,autoHideDuration:2e3,onClose:c,message:l("deleted all pokemon")})]})}),ka=B(Mn)({minHeight:"36px",marginBottom:"clamp(.3rem, 0.6vh, .7rem)"}),Xn=B(En)({minHeight:"36px",padding:"6px 16px"}),ya=ii(),ba=a.memo(()=>{const[t,n]=a.useReducer(oi,ya),{t:r}=I(),i=va(),s=t.box.getById(t.selectedItemId),l=a.useCallback(k=>{n({type:"updateIv",payload:{iv:k}})},[]),o=a.useCallback((k,j)=>{n({type:"changeUpperTab",payload:{index:j}})},[]),c=a.useCallback(()=>{n({type:"restoreItem"})},[]),d=a.useCallback(()=>{n({type:"saveItem"})},[]),u=a.useCallback(()=>{n({type:"closeAlert"})},[]),h=a.useCallback(()=>{n({type:"editDialogClose"})},[]),m=a.useCallback(k=>{n({type:"addOrEditDone",payload:{item:k}})},[]),g=s!==null&&!s.iv.isEqual(t.pokemonIv),p=a.useCallback(()=>{n({type:"exportClose"})},[]),y=a.useCallback(()=>{n({type:"importClose"})},[]),x=a.useCallback(()=>{n({type:"deleteAllClose"})},[]);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{padding:"0 .5rem",position:"sticky",top:0,zIndex:1,background:"#f9f9f9"},children:[e.jsxs(ka,{value:t.tabIndex,onChange:o,children:[e.jsx(Xn,{label:r("rp")}),e.jsx(Xn,{label:r("strength2")}),e.jsx(Xn,{label:r("rating")})]}),t.tabIndex===0&&e.jsx(Mo,{state:t,width:i}),t.tabIndex===1&&e.jsx(aa,{state:t,dispatch:n}),t.tabIndex===2&&e.jsx(da,{pokemonIv:t.pokemonIv,width:i}),t.pokemonIv.pokemon.ratioNotFixed&&e.jsx("div",{style:{border:"1px solid red",background:"#ffeeee",color:"red",fontSize:"0.9rem",borderRadius:"0.5rem",marginTop:"3px",padding:"0 0.3rem"},children:r("ratio is not fixed")}),e.jsx(ai,{state:t,dispatch:n,isBoxEmpty:t.box.items.length===0})]}),t.lowerTabIndex===0&&e.jsx("div",{style:{margin:"0 0.5rem 10rem 0.5rem"},children:e.jsx(jr,{pokemonIv:t.pokemonIv,onChange:l})}),t.lowerTabIndex===1&&e.jsx(Tl,{items:t.box.items,iv:t.pokemonIv,selectedId:t.selectedItemId,dispatch:n,parameter:t.parameter}),t.lowerTabIndex===2&&e.jsx(vo,{value:t.parameter,hasHelpingBonus:t.pokemonIv.hasHelpingBonusInActiveSubSkills,dispatch:n}),e.jsx(ma,{open:t.boxItemDialogOpen,boxItem:s,isEdit:t.boxItemDialogIsEdit,onClose:h,onChange:m},t.boxItemDialogKey),e.jsx(xa,{box:t.box,open:t.boxExportDialogOpen,onClose:p}),e.jsx(fa,{box:t.box,open:t.boxImportDialogOpen,onClose:y}),e.jsx(ja,{box:t.box,open:t.boxDeleteAllDialogOpen,onClose:x}),e.jsx(ze,{open:t.alertMessage!=="",message:r(t.alertMessage),autoHideDuration:2e3,onClose:u}),e.jsx(ze,{open:g,message:r("pokemon in the box is edited"),action:e.jsxs(e.Fragment,{children:[e.jsx(F,{onClick:c,children:r("reset")}),e.jsx(F,{onClick:d,children:r("save")})]})})]})});function va(){const[t,n]=a.useState(0);return a.useEffect(()=>{const r=()=>{n(document.documentElement.clientWidth)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),t}function Sa({open:t,onClose:n}){const{t:r}=I();return e.jsxs(U,{open:t,onClose:n,children:[e.jsx(pe,{children:r("about")}),e.jsxs(Y,{dividers:!0,children:[e.jsx(Ce,{sx:{marginBottom:"16px"},children:e.jsx(ee,{i18nKey:"about1",components:{profile:e.jsx("a",{href:r("profile"),children:"profile"})}})}),e.jsx(Ce,{sx:{marginBottom:"16px"},children:e.jsx(ee,{i18nKey:"about2",components:{x:e.jsxs("a",{href:`https://twitter.com/${r("x username")}`,children:["@",r("x username")]}),github:e.jsx("a",{href:"https://github.com/nitoyon/pokesleep-tool/discussions",children:"GitHub"})}})}),e.jsxs(Ce,{sx:{marginBottom:"16px"},children:[e.jsx(ee,{i18nKey:"about3",components:{wiki:e.jsx("a",{href:"https://wikiwiki.jp/poke_sleep/",children:"wiki"}),rp:e.jsx("a",{href:"https://docs.google.com/spreadsheets/d/1kBrPl0pdAO8gjOf_NrTgAPseFtqQA27fdfEbMBBeAhs/#gid=1673887151",children:"RP collection project"}),raenonx:e.jsx("a",{href:"https://pks.raenonx.cc/",children:"RaenonX"})}}),e.jsx(ee,{i18nKey:"about4"})]})]}),e.jsx(V,{children:e.jsx(F,{onClick:n,children:r("close")})})]})}function Ca({app:t,open:n,onClose:r}){const{t:i}=I();return e.jsxs(U,{open:n,onClose:r,children:[e.jsx(pe,{children:i("how to use")}),e.jsxs(Y,{dividers:!0,children:[e.jsx(Ce,{sx:{marginBottom:"16px"},children:i(`${t}.description`)}),e.jsx(Ce,{sx:{marginBottom:"16px"},children:i(`${t}.notice detail1`)}),e.jsx(Ce,{sx:{marginBottom:"16px"},children:i(`${t}.notice detail2`)})]}),e.jsx(V,{children:e.jsx(F,{onClick:r,children:i("close")})})]})}const wa=a.memo(({message:t,open:n,onClose:r})=>{const{t:i}=I();return n?e.jsxs(U,{open:n,onClose:r,children:[e.jsx(Y,{children:t}),e.jsx(V,{children:e.jsx(F,{onClick:r,autoFocus:!0,children:i("close")})})]}):e.jsx(e.Fragment,{})});function Ba({open:t,app:n,onAppConfigChange:r,onClose:i}){const s=a.useContext(Rn),[l,o]=a.useState(s.iconUrl??""),[c,d]=a.useState(!1),{t:u,i18n:h}=I(),m=h.language,g=(S,v)=>{h.changeLanguage(v)},p=[],y=h.options.resources;for(const S in y){const v=h.getResource(S,"translation","langname");p.push(e.jsx(R,{value:S,"aria-label":S,children:v},S))}let x=!1,k="";l!==""&&(l.match(/^https?:\/\//)?l.match(/@ID[1-4]@/)||(x=!0,k=u("custom icon id not found")):(x=!0,k=u("custom icon invalid url")));const j=a.useCallback(S=>{o(S.target.value)},[o]),C=a.useCallback(()=>{if(x){d(!0);return}r({...s,language:m,iconUrl:l!==""?l:null}),i()},[r,i,s,x,l,m]),b=a.useCallback(()=>{d(!1)},[d]);return e.jsxs(e.Fragment,{children:[e.jsxs(U,{open:t,onClose:C,fullWidth:!0,children:[e.jsxs(Y,{children:[e.jsx("h3",{style:{margin:"0 0 .3rem 0"},children:u("change language")}),e.jsx(K,{value:m,orientation:"vertical",exclusive:!0,onChange:g,children:p}),n==="IvCalc"&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{style:{margin:"1rem 0 0 0"},children:u("custom icon")}),e.jsx("p",{style:{margin:"0.3rem 0",fontSize:"0.9rem"},children:u("custom icon summary")}),e.jsx(ae,{variant:"standard",fullWidth:!0,value:l,placeholder:u("custom icon placeholder"),error:x,helperText:k,onChange:j}),e.jsxs("p",{style:{margin:"0.5rem 0 0 0",color:"#888",lineHeight:1.1,fontSize:"0.8rem"},children:[u("custom icon details"),e.jsx("br",{}),u("custom icon details japanese only")]})]})]}),e.jsx(V,{children:e.jsx(F,{onClick:C,children:u("close")})})]}),e.jsx(wa,{open:c,onClose:b,message:u("custom icon invalid message")})]})}function Ia({app:t,onAppChange:n,onAppConfigChange:r}){const{t:i}=I(),[s,l]=w.useState(null),o=!!s,c=()=>{n("ResearchCalc"),l(null)},d=()=>{n("IvCalc"),l(null)},u=P=>{l(P.currentTarget)},h=()=>{l(null)},[m,g]=w.useState(!1),p=()=>{g(!0),l(null)},y=()=>{g(!1)},[x,k]=w.useState(!1),j=()=>{k(!0),l(null)},C=()=>{k(!1)},[b,S]=w.useState(!1),v=()=>{S(!0),l(null)},A=()=>{S(!1)};return e.jsxs(Ma,{children:[e.jsx("div",{className:"title",children:i(`${t}.title`)}),e.jsx(re,{"aria-label":"actions",color:"inherit",onClick:u,children:e.jsx(ct,{})}),e.jsxs(un,{anchorEl:s,open:o,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:[e.jsxs(f,{onClick:c,children:[e.jsx(te,{children:t==="ResearchCalc"?e.jsx(Te,{}):e.jsx(Qn,{})}),i("ResearchCalc.short title")]}),e.jsxs(f,{onClick:d,children:[e.jsx(te,{children:t==="IvCalc"?e.jsx(Te,{}):e.jsx(Qn,{})}),i("IvCalc.short title")]}),e.jsx(pn,{}),e.jsxs(f,{onClick:p,children:[e.jsx(te,{children:e.jsx(ks,{})}),i("how to use")]}),e.jsxs(f,{onClick:j,children:[e.jsx(te,{children:e.jsx(Qe,{})}),i("about")]}),e.jsxs(f,{onClick:v,children:[e.jsx(te,{children:e.jsx(ys,{})}),i("settings")]})]}),e.jsx(Sa,{open:x,onClose:C}),e.jsx(Ca,{app:t,open:m,onClose:y}),e.jsx(Ba,{open:b,app:t,onAppConfigChange:r,onClose:A})]})}const Ma=B("div")({background:"#665500",color:"white",padding:".2rem .5rem",fontSize:"1rem",display:"flex",alignItems:"center","@media all and (display-mode: standalone)":{background:"#002244"},"& > div.title":{flexGrow:1}}),Ea=a.memo(({appType:t,onAppConfigChange:n})=>{const{t:r}=I(),i=a.useContext(Rn),s=a.useCallback(()=>{c(!0)},[]),l=a.useCallback(()=>{c(!1)},[]),[o,c]=a.useState(!1),d=Pr.getArticles(t);if(d.length===0)return e.jsx(e.Fragment,{});const u=d[0],h=i.news[t];if(u.id===h)return e.jsx(e.Fragment,{});const m=()=>{const g={...i,news:{...i.news}};g.news[t]=u.id,n(g)};return e.jsxs(Ta,{children:[e.jsx(Qe,{}),e.jsxs("div",{children:[e.jsx("span",{children:r(`${t}.news.${u.id}.headline`)}),e.jsxs(F,{onClick:s,children:["[",r("details"),"]"]})]}),e.jsx(re,{onClick:m,children:e.jsx(An,{})}),e.jsx(Na,{open:o,onClose:l,appType:t,article:u})]})}),Ta=B("div")({margin:"0.2rem .2rem",background:"#e5f6fd",border:"1px solid #d9e9e9",color:"#014343",borderRadius:"0.5rem",display:"grid",gridTemplateColumns:"26px 1fr 40px","& > svg":{color:"#0288d1",width:"18px",height:"18px",padding:"4px"},"& > div":{fontSize:"0.8rem",padding:"0.2rem 0",color:"#014480","& > span":{marginRight:".3rem"},"& > button":{padding:0,minWidth:0,fontSize:"0.8rem"}},"& > button":{width:"40px",height:"40px"}}),Na=a.memo(({appType:t,article:n,open:r,onClose:i})=>{const{t:s,i18n:l}=I();if(!r)return e.jsx(e.Fragment,{});const o=s(`${t}.news.${n.id}.detail`).split(/\n/g),c=s(`${t}.news.${n.id}.headline`);let d="";if(Intl&&Intl.RelativeTimeFormat){const u=Math.max(0,new Date().getTime()-n.date.getTime()),h=new Intl.RelativeTimeFormat(l.language,{style:"long"});u>31536e6?d=h.format(-Math.floor(u/31536e6),"year"):u>2592e6?d=h.format(-Math.floor(u/2592e6),"month"):u>864e5?d=h.format(-Math.floor(u/864e5),"day"):u>36e5?d=h.format(-Math.floor(u/36e5),"hour"):d=h.format(-Math.floor(u/6e4),"minute")}else d=n.date.toLocaleDateString();return e.jsxs(Fa,{open:r,onClose:i,children:[e.jsx("time",{children:d}),e.jsx("header",{children:c}),o.map((u,h)=>e.jsx("p",{children:u},h)),e.jsx(V,{disableSpacing:!0,children:e.jsx(F,{onClick:i,children:s("close")})})]})}),Fa=B(U)({"& .MuiPaper-root":{padding:"1rem 1rem 0 1rem","& > time":{fontSize:"0.7rem",color:"#888"},"& > header":{fontSize:"1rem",fontWeight:"bold",marginBottom:"0.3rem"},"& > p":{fontSize:"0.9rem",margin:"0.4rem 0 0 0"}}}),Aa=a.memo(()=>e.jsxs("svg",{width:"48",height:"48",children:[e.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#faffe9"}),e.jsx("svg",{children:e.jsxs("g",{transform:"translate(12, 12) scale(0.9)",strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"0.5",fillRule:"evenodd",children:[e.jsx("path",{d:"M 0,-12 A 12 12 -90 1 1 0 12 A 12 12 90 1 1 0 -12 M 0,-6 A 6 6 -90 0 1 0 6 A 6 6 90 0 1 0 -6",stroke:"#b9b9b9",fill:"#cacaca"}),e.jsx("path",{d:"M 0,-12 A 12 12 -90 1 1 -10.39 6 L -5.196,3 A 6 6 210 1 0 0 -6 L 0,-12",stroke:"#3683ee",fill:"#1683ff"})]})}),e.jsx("svg",{x:"6.9",y:"7.2",children:e.jsxs("g",{transform:"scale(0.8)",children:[e.jsxs("g",{fill:"#ff944b",stroke:"#faffe9",strokeWidth:"1.4",strokeLinejoin:"round",children:[e.jsx("path",{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07L12 12.9z"}),e.jsx("path",{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52z"})]}),e.jsx("g",{fill:"#faffe9",children:e.jsx("rect",{x:"7.5",y:"9",width:"9",height:"11.5"})}),e.jsxs("g",{fill:"#ff944b",stroke:"#ee833a",strokeWidth:".4",strokeLinejoin:"round",children:[e.jsx("path",{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07L12 12.9z"}),e.jsx("path",{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52z"})]})]})})]})),La=a.memo(()=>e.jsxs("svg",{width:"48",height:"48",children:[e.jsx("rect",{cx:"0",cy:"0",width:"24",height:"24",fill:"#f3ac55"}),e.jsxs("g",{transform:"translate(0, 1.8)",children:[e.jsx("polygon",{points:"12,2.4,20.31,16.8,3.686,16.8,12,2.4",strokeLinejoin:"round",fill:"#faffe9",transform:"translate(-12,-12) scale(1.3) translate(6.5,6.5)"}),e.jsxs("g",{transform:"translate(12,12) scale(0.14)",children:[e.jsxs("g",{stroke:"#666",fill:"#fff",strokeWidth:"3",children:[e.jsx("polygon",{points:"0,-40,-34.64,20,34.64,20"}),e.jsx("polygon",{points:"0,-80,-69.28,40,69.28,40"})]}),e.jsxs("g",{stroke:"#ccc",fill:"none",children:[e.jsx("polygon",{points:"0,-20,-17.32,10,17.32,10"}),e.jsx("polygon",{points:"0,-60,-51.96,30,51.96,30"})]}),e.jsxs("g",{stroke:"#666",strokeWidth:"2",children:[e.jsx("line",{x1:"0",y1:"0",x2:"0",y2:"-80"}),e.jsx("line",{x1:"0",y1:"0",x2:"-69.28",y2:"40"}),e.jsx("line",{x1:"0",y1:"0",x2:"69.28",y2:"40"})]}),e.jsx("g",{stroke:"#24d76a",strokeWidth:"3",fill:"#24d76a",fillOpacity:"0.3",children:e.jsx("polygon",{points:"0,-67.992,-32.194416000000004,18.588,16.786544,9.692"})})]})]})]})),Ra=a.memo(()=>e.jsx("svg",{width:"24",height:"24",children:e.jsxs("svg",{viewBox:"0 0 512 512",children:[e.jsx("rect",{x:"5",y:"5",width:"502",height:"502",rx:"30%",stroke:"#999999",strokeWidth:"10",fill:"#ffffff"}),e.jsxs("radialGradient",{id:"a",children:[e.jsx("stop",{stopColor:"#0bd",offset:"0"}),e.jsx("stop",{stopColor:"#17d",offset:"1"})]}),e.jsxs("g",{transform:"matrix(4 0 0 4 256 256)",children:[e.jsx("circle",{r:"52.5",fill:"url(#a)",strokeWidth:"5"}),e.jsx("path",{d:"M6 6l-12-12l-29 39",fill:"#eee"}),e.jsx("path",{d:"M6 6l-12-12l41-28",fill:"#f55"})]})]})}));let on;const za=3,Pa=a.memo(({app:t,pwaCount:n,onClose:r})=>{const{t:i}=I();let s=!1;/iP(hone|od|ad)/.test(navigator.userAgent)&&!window.matchMedia("(display-mode: standalone)").matches&&n>=za&&(s=!0);const[l,o]=w.useState(s),[c,d]=w.useState(!1),u=w.useCallback(p=>{on=p,o(!0)},[]);w.useEffect(()=>(window.addEventListener("beforeinstallprompt",u),()=>{window.removeEventListener("beforeinstallprompt",u)}),[u]);const h=w.useCallback(()=>{on!==void 0?(o(!1),on.prompt(),on.userChoice.then(()=>{on=void 0})):d(!0)},[o]),m=w.useCallback(()=>{o(!1),r()},[o,r]),g=w.useCallback(()=>{d(!1)},[d]);return e.jsx(Da,{open:l,children:e.jsxs("div",{className:"pwa_banner_container",children:[t==="ResearchCalc"?e.jsx(Aa,{}):e.jsx(La,{}),e.jsxs("div",{className:"pwa_banner_body",children:[e.jsx("p",{children:e.jsx(ee,{i18nKey:"pwa notice",values:{app:i(`${t}.short title`)}})}),e.jsx(F,{variant:"contained",size:"small",className:"add",onClick:h,children:i("add to home screen")}),e.jsx(F,{className:"later",onClick:m,children:i("later")})]}),e.jsx(re,{onClick:m,children:e.jsx(An,{})}),e.jsx(Wa,{app:t,open:c,onClose:g})]})})}),Da=B(ze)({background:"white",borderRadius:"1rem 1rem 0 0",boxShadow:"0 -.2rem .4rem #ccc",padding:".5rem",bottom:0,zIndex:1e3,"& > div.pwa_banner_container":{display:"flex","& > svg":{alignItems:"flex-start",paddingTop:".5rem",paddingRight:"6px",width:"24px",flexShrink:0},"& > div.pwa_banner_body":{flexGrow:1,paddingTop:".5rem","& > p":{margin:"0 0 .5rem 0"},"& > button":{fontSize:".8rem","&.add":{borderRadius:"1rem",background:"#24da6d"},"&.later":{color:"black"}}},"& > button.MuiIconButton-root":{marginRight:"auto",alignSelf:"start"}}}),Wa=a.memo(({app:t,open:n,onClose:r})=>{const{t:i,i18n:s}=I(),[l,o]=w.useState(!1),c=w.useCallback(async()=>{let u="https://nitoyon.github.io/pokesleep-tool/"+(t==="IvCalc"?"iv/":"");s.language!=="en"&&(u+="index."+s.language+".html"),kt(u).then(()=>{o(!0)}).catch(()=>{})},[t,o,s.language]),d=w.useCallback(()=>{o(!1)},[o]);return e.jsxs(Ha,{open:n,onClose:r,children:[e.jsx(pe,{children:i("how to add to home screen")}),e.jsx(re,{onClick:r,className:"close_button",children:e.jsx(An,{})}),e.jsxs(Y,{dividers:!0,children:[e.jsxs("ol",{children:[e.jsxs("li",{children:[e.jsx(ee,{i18nKey:"open in safari",components:{safari:e.jsx(Ra,{})}}),e.jsx("div",{children:e.jsxs(F,{onClick:c,children:["[",i("copy url"),"]"]})})]}),e.jsx("li",{children:e.jsx(ee,{i18nKey:"push share icon",components:{share:e.jsx(dt,{})}})}),e.jsx("li",{children:e.jsx(ee,{i18nKey:"select add to home screen",components:{add:e.jsx(bs,{})}})})]}),e.jsx(ze,{open:l,onClose:d,autoHideDuration:1e3,message:i("copied")})]}),e.jsx(V,{children:e.jsx(F,{onClick:r,children:i("close")})})]})}),Ha=B(U)({"& div.MuiDialogContent-root":{padding:"1rem","& > ol":{margin:0,paddingLeft:"1.6rem",listStyleType:"none","& > li":{counterIncrement:"step-counter",position:"relative",paddingBottom:".6rem","&::before":{content:"counter(step-counter)",position:"absolute",left:"-1.8rem",top:".6rem",backgroundColor:"#24da6d",color:"white",borderRadius:"1rem",width:"18px",height:"18px",fontSize:"0.8rem",fontWeight:"bold",textAlign:"center",lineHeight:1.5},"& button":{padding:0,paddingTop:".2rem"},"& > svg":{position:"relative",top:".4rem"}}}},"& button.close_button":{position:"absolute",right:"8px",top:"12px"}}),Oa=gt({typography:{allVariants:{fontFamily:'"M PLUS 1p"'}}}),$a=gt({typography:{allVariants:{fontFamily:'"Noto Sans TC"'}}}),_a=gt({typography:{allVariants:{fontFamily:'"Noto Sans SC"'}}});function Va({config:t}){const n=Ua(t),[r,i]=qa(n),[s,l]=w.useState(t),o=w.useCallback(h=>{i(h)},[i]),c=w.useCallback(h=>{Bn(h),l(h)},[l]),d=w.useCallback(()=>{s.pwacnt=0,Bn(s),l(s)},[s,l]);let u=Oa;return n==="zh-TW"?u=$a:n==="zh-CN"&&(u=_a),e.jsx(vs,{theme:u,children:e.jsxs(Rn.Provider,{value:s,children:[e.jsx(Ia,{app:r,onAppChange:o,onAppConfigChange:c}),e.jsx(Ea,{appType:r,onAppConfigChange:c}),r==="ResearchCalc"&&e.jsx(Gs,{}),r==="IvCalc"&&e.jsx(ba,{}),e.jsx(Pa,{app:r,pwaCount:t.pwacnt,onClose:d})]})})}function Ua(t){const{i18n:n}=I(),[r,i]=w.useState(t.language),s=w.useCallback(l=>{i(l),Bn({...t,language:l})},[t,i]);return w.useEffect(()=>(n.on("languageChanged",s),()=>{n.off("languageChanged",s)}),[n,s]),r}function qa(t){const n=window.location.pathname.startsWith("/pokesleep-tool/iv/")?"IvCalc":"ResearchCalc",{t:r,i18n:i}=I(),[s,l]=w.useState(n);return w.useEffect(()=>{document.title=r(`${s}.title`);const o=document.querySelector("link[rel='manifest']");if(o!==null){const g=o.href;o.href=g.replace(/manifest.*/,"manifest."+t+".json")}const c=document.querySelector("meta[name='description']");c!==null&&(c.content=r(`${s}.description`));const d=document.querySelector("html");d!==null&&(d.lang=t.toLowerCase());const u=document.querySelector("link[rel='stylesheet'][href*='https']");u!==null&&(t==="zh-TW"?u.href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap":t==="zh-CN"?u.href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC&display=swap":u.href="https://fonts.googleapis.com/css2?family=M+PLUS+1p&display=swap");let h=document.location.origin+"/pokesleep-tool/";s==="IvCalc"&&(h+="iv/"),t!=="en"&&(h+=`index.${t.toLowerCase()}.html`);const m=document.location.search+document.location.hash;window.history.replaceState(null,"",h+m)},[t,i,r,s]),[s,l]}const Za={en:$r,ja:Or,ko:Hr,"zh-CN":Wr,"zh-TW":Dr};Ot.use(Er).init({resources:Za,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});(function(){window.addEventListener("error",s=>{const{message:l,filename:o,lineno:c,colno:d,error:u}=s;alert(`Uncaught error: ${l} (${o}:${c}:${d}) ${u.stack}`)});let t="en";window.navigator.language.match(/ja/)!==null?t="ja":window.navigator.language.match(/ko/)!==null?t="ko":window.navigator.language.match(/^zh-hant/i)!==null?t="zh-TW":window.navigator.language.match(/^zh/i)!==null&&(t="zh-CN");const n=hi(t);n.pwacnt++,Bn(n),Ot.changeLanguage(n.language);const r=document.getElementById("root");if(r===null){alert("root element not found");return}if(Tr.createRoot(r).render(e.jsx(a.StrictMode,{children:e.jsx(Va,{config:n})})),window.location.hostname!=="nitoyon.github.io"){document.body.style.padding="30px 0px 0px";const s=document.createElement("ins");s.style.display="block",s.style.width="100%",s.style.height="30px",s.style.clear="none",s.style.float="none",s.style.top="0px",s.style.bottom="auto",s.style.left="0px",s.style.right="0px",s.style.margin="0px",s.style.padding="0px",s.style.position="fixed",s.style.verticalAlign="baseline",s.style.zIndex="2147483647",s.style.background="#cccccc",document.body.appendChild(s)}window.addEventListener("load",()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/pokesleep-tool/sw.js")})})();
